/*! For license information please see main.8587d627.js.LICENSE.txt */
(()=>{var e={43:(e,t,s)=>{"use strict";e.exports=s(202)},153:(e,t,s)=>{"use strict";var a=s(43),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var a,i={},c=null,d=null;for(a in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,a)&&!o.hasOwnProperty(a)&&(i[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===i[a]&&(i[a]=t[a]);return{$$typeof:n,type:e,key:c,ref:d,props:i,_owner:l.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var s=Symbol.for("react.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||p}function x(){}function b(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var y=b.prototype=new x;y.constructor=b,f(y,v.prototype),y.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,a){var n,i={},r=null,l=null;if(null!=t)for(n in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(r=""+t.key),t)N.call(t,n)&&!S.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(1===o)i.children=a;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===i[n]&&(i[n]=o[n]);return{$$typeof:s,type:e,key:r,ref:l,props:i,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var A=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,n,i,r){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s:case a:o=!0}}if(o)return r=r(o=e),e=""===i?"."+E(o,0):i,j(r)?(n="",null!=e&&(n=e.replace(A,"$&/")+"/"),P(r,t,n,"",function(e){return e})):null!=r&&(C(r)&&(r=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(A,"$&/")+"/")+e)),t.push(r)),1;if(o=0,i=""===i?".":i+":",j(e))for(var c=0;c<e.length;c++){var d=i+E(l=e[c],c);o+=P(l,t,n,d,r)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)o+=P(l=l.value,t,n,d=i+E(l,c++),r);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function I(e,t,s){if(null==e)return e;var a=[],n=0;return P(e,a,"","",function(e){return t.call(s,e,n++)}),a}function F(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},_={transition:null},T={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:_,ReactCurrentOwner:w};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,s){I(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=n,t.Profiler=r,t.PureComponent=b,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=O,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=f({},e.props),i=e.key,r=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,l=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!S.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=a;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:s,type:e.type,key:i,ref:r,props:n,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.transition;_.transition={};try{e()}finally{_.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,s){return D.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,s){return D.current.useReducer(e,t,s)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return D.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var a=s-1>>>1,n=e[a];if(!(0<i(n,t)))break e;e[a]=t,e[s]=n,s=a}}function a(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var a=0,n=e.length,r=n>>>1;a<r;){var l=2*(a+1)-1,o=e[l],c=l+1,d=e[c];if(0>i(o,s))c<n&&0>i(d,o)?(e[a]=d,e[c]=s,a=c):(e[a]=o,e[l]=s,a=l);else{if(!(c<n&&0>i(d,s)))break e;e[a]=d,e[c]=s,a=c}}}return t}function i(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,m=3,p=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=a(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,s(c,t)}t=a(d)}}function j(e){if(g=!1,y(e),!f)if(null!==a(c))f=!0,_(N);else{var t=a(d);null!==t&&T(j,t.startTime-e)}}function N(e,s){f=!1,g&&(g=!1,x(C),C=-1),p=!0;var i=m;try{for(y(s),h=a(c);null!==h&&(!(h.expirationTime>s)||e&&!P());){var r=h.callback;if("function"===typeof r){h.callback=null,m=h.priorityLevel;var l=r(h.expirationTime<=s);s=t.unstable_now(),"function"===typeof l?h.callback=l:h===a(c)&&n(c),y(s)}else n(c);h=a(c)}if(null!==h)var o=!0;else{var u=a(d);null!==u&&T(j,u.startTime-s),o=!1}return o}finally{h=null,m=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,k=null,C=-1,A=5,E=-1;function P(){return!(t.unstable_now()-E<A)}function I(){if(null!==k){var e=t.unstable_now();E=e;var s=!0;try{s=k(!0,e)}finally{s?w():(S=!1,k=null)}}else S=!1}if("function"===typeof b)w=function(){b(I)};else if("undefined"!==typeof MessageChannel){var F=new MessageChannel,D=F.port2;F.port1.onmessage=I,w=function(){D.postMessage(null)}}else w=function(){v(I,0)};function _(e){k=e,S||(S=!0,w())}function T(e,s){C=v(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,_(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var s=m;m=t;try{return e()}finally{m=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=m;m=e;try{return t()}finally{m=s}},t.unstable_scheduleCallback=function(e,n,i){var r=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?r+i:r:i=r,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>r?(e.sortIndex=i,s(d,e),null===a(c)&&e===a(d)&&(g?(x(C),C=-1):g=!0,T(j,i-r))):(e.sortIndex=l,s(c,e),f||p||(f=!0,_(N))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=m;return function(){var s=m;m=t;try{return e.apply(this,arguments)}finally{m=s}}}},379:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(705);function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach(function(t){(0,a.A)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}},391:(e,t,s)=>{"use strict";var a=s(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},476:(e,t,s)=>{"use strict";s.r(t),s.d(t,{adminAPI:()=>r,apiService:()=>f,authAPI:()=>i,dashboardAPI:()=>p,default:()=>b,employeeAPI:()=>u,employeeSelfAPI:()=>d,employeesAPI:()=>c,farmersAPI:()=>o,fpoAPI:()=>g,fpoUsersAPI:()=>v,idCardAPI:()=>x,kycAPI:()=>m,registrationsAPI:()=>h,superAdminAPI:()=>l});var a=s(379);const n=s(722).A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8080/api",timeout:3e4,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const i={login:async e=>{const t={userName:e.userName||e.username||e.email,password:e.password};return(await n.post("/auth/login",t)).data},getProfile:async()=>{try{return(await n.get("/user/profile")).data}catch(e){try{return(await n.get("/auth/me")).data}catch(t){try{return(await n.get("/auth/profile")).data}catch(s){return(await n.get("/auth/users/profile")).data}}}},register:async e=>(await n.post("/auth/register",e)).data,sendOTP:async e=>{try{return(await n.post("/auth/send-otp",{emailOrPhone:e},{timeout:45e3})).data}catch(t){if("ECONNABORTED"===t.code||t.message.includes("timeout"))throw new Error("OTP request timed out. Please check your internet connection and try again.");throw t}},verifyOTP:async e=>{try{return(await n.post("/auth/verify-otp",{emailOrPhone:e.email,otp:e.otp},{timeout:3e4})).data}catch(t){if("ECONNABORTED"===t.code||t.message.includes("timeout"))throw new Error("OTP verification timed out. Please try again.");throw t}},resendOTP:async e=>{try{return(await n.post("/auth/resend-otp",{emailOrPhone:e},{timeout:45e3})).data}catch(t){if("ECONNABORTED"===t.code||t.message.includes("timeout"))throw new Error("OTP resend timed out. Please check your internet connection and try again.");throw t}},forgotPassword:async e=>(await n.post("/auth/forgot-password",{emailOrPhone:e})).data,forgotUserId:async e=>(await n.post("/auth/forgot-user-id",{emailOrPhone:e})).data,resetPassword:async e=>(await n.post("/auth/reset-password",e)).data,changePassword:async e=>(await n.post("/auth/change-password",e)).data,changeUserId:async e=>(await n.post("/auth/change-user-id",e)).data,fpoLogin:async(e,t)=>(await n.post("/auth/fpo-login",{email:e,password:t})).data,getCountries:async()=>(await n.get("/auth/countries")).data,getStates:async e=>(await n.post("/auth/states",{countryId:e})).data,getAddressByPincode:async e=>(await n.get("/auth/pincode/".concat(e))).data},r={getPendingRegistrations:async()=>(await n.get("/admin/pending-registrations")).data,getApprovedUsers:async()=>(await n.get("/admin/approved-users")).data,getRegistrationList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await n.get("/admin/registration-list",{params:e})).data},getRegistrationListByStatus:async e=>(await n.get("/admin/registration-list/filter",{params:{status:e}})).data,searchRegistrations:async e=>(await n.get("/admin/registration-list/search",{params:{query:e}})).data,approveUser:async(e,t)=>(await n.put("/admin/users/".concat(e,"/approve"),{role:t})).data,rejectUser:async(e,t)=>(await n.put("/admin/users/".concat(e,"/reject"),{reason:t})).data,getAllFarmers:async()=>(await n.get("/admin/farmers")).data,getAllEmployees:async()=>(await n.get("/admin/employees")).data,getFarmersWithKycStatus:async()=>(await n.get("/admin/farmers-with-kyc")).data,getFarmersWithKyc:async()=>(await n.get("/admin/farmers-with-kyc")).data,getEmployeesWithStats:async()=>(await n.get("/admin/employees-with-stats")).data,getDashboardStats:async()=>(await n.get("/admin/dashboard-stats")).data,getTodoList:async()=>(await n.get("/admin/todo-list")).data,getEnhancedTodoList:async()=>(await n.get("/admin/enhanced-todo-list")).data,assignFarmerToEmployee:async(e,t)=>(await n.post("/admin/assign-farmer",null,{params:{farmerId:e,employeeId:t}})).data,bulkAssignFarmers:async(e,t)=>(await n.post("/admin/bulk-assign-farmers",{farmerIds:e,employeeId:t})).data,getAssignmentHistory:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await n.get("/admin/assignment-history",{params:e})).data},getFarmersByAssignmentStatus:async e=>(await n.get("/admin/farmers/by-assignment-status",{params:{assignmentStatus:e}})).data,filterFarmers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await n.get("/admin/farmers/filter",{params:e})).data},getLocations:async()=>(await n.get("/admin/locations")).data,getFarmersByEmployee:async e=>(await n.get("/admin/employees/".concat(e,"/assigned-farmers"))).data,getAllRegistrations:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await n.get("/admin/registration-list",{params:e})).data},getRegistrationListByStatus:async e=>(await n.get("/admin/registration-list/filter",{params:{status:e}})).data,searchRegistrations:async e=>(await n.get("/admin/registration-list/search",{params:{query:e}})).data,getEmployeeById:async e=>(await n.get("/admin/employees/".concat(e))).data,updateEmployee:async(e,t)=>(await n.put("/admin/employees/".concat(e),t)).data,approveRegistration:async(e,t)=>(await n.post("/admin/registrations/".concat(e,"/approve"),t)).data,rejectRegistration:async(e,t)=>(await n.post("/admin/registrations/".concat(e,"/reject"),t)).data},l={getAllUsers:async()=>(await n.get("/super-admin/registration-list")).data,getRegistrationList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await n.get("/super-admin/registration-list",{params:e})).data},getRegistrationListByStatus:async e=>(await n.get("/super-admin/registration-list/filter",{params:{status:e}})).data,searchRegistrations:async e=>(await n.get("/super-admin/registration-list/search",{params:{query:e}})).data,getPendingRegistrations:async()=>(await n.get("/super-admin/pending-registrations")).data,getApprovedUsers:async()=>(await n.get("/super-admin/approved-users")).data,getUsersByRole:async e=>(await n.get("/super-admin/users/by-role/".concat(e))).data,getPendingUsersByRole:async e=>(await n.get("/super-admin/pending-users/by-role/".concat(e))).data,approveUser:async(e,t)=>{try{let d,h;try{return console.log("\ud83d\udd04 Trying PUT /auth/users/"+e+"/approve"),d=await n.put("/auth/users/".concat(e,"/approve"),{role:t}),console.log("\u2705 Success with PUT /auth/users/"+e+"/approve"),d.data}catch(u){var s;h=u,console.log("\u274c Failed with PUT /auth/users/"+e+"/approve:",null===(s=u.response)||void 0===s?void 0:s.status)}try{return console.log("\ud83d\udd04 Trying POST /auth/users/"+e+"/approve"),d=await n.post("/auth/users/".concat(e,"/approve"),{role:t}),console.log("\u2705 Success with POST /auth/users/"+e+"/approve"),d.data}catch(u){var a;h=u,console.log("\u274c Failed with POST /auth/users/"+e+"/approve:",null===(a=u.response)||void 0===a?void 0:a.status)}try{return console.log("\ud83d\udd04 Trying PUT /super-admin/users/"+e+"/approve"),d=await n.put("/super-admin/users/".concat(e,"/approve"),{role:t}),console.log("\u2705 Success with PUT /super-admin/users/"+e+"/approve"),d.data}catch(u){var i;h=u,console.log("\u274c Failed with PUT /super-admin/users/"+e+"/approve:",null===(i=u.response)||void 0===i?void 0:i.status)}try{return console.log("\ud83d\udd04 Trying POST /registrations/"+e+"/approve"),d=await n.post("/registrations/".concat(e,"/approve"),{approvedBy:"Super Admin",approvalNotes:"User approved with role: ".concat(t),role:t}),console.log("\u2705 Success with POST /registrations/"+e+"/approve"),d.data}catch(u){var r;h=u,console.log("\u274c Failed with POST /registrations/"+e+"/approve:",null===(r=u.response)||void 0===r?void 0:r.status)}try{return console.log("\ud83d\udd04 Trying PUT /employees/"+e+"/approve"),d=await n.put("/employees/".concat(e,"/approve"),{role:t}),console.log("\u2705 Success with PUT /employees/"+e+"/approve"),d.data}catch(u){var l;h=u,console.log("\u274c Failed with PUT /employees/"+e+"/approve:",null===(l=u.response)||void 0===l?void 0:l.status)}try{return console.log("\ud83d\udd04 Trying PUT /employees/"+e+"/status"),d=await n.put("/employees/".concat(e,"/status"),{status:"APPROVED",role:t}),console.log("\u2705 Success with PUT /employees/"+e+"/status"),d.data}catch(u){var o;h=u,console.log("\u274c Failed with PUT /employees/"+e+"/status:",null===(o=u.response)||void 0===o?void 0:o.status)}try{return console.log("\ud83d\udd04 Trying PUT /users/"+e+"/status"),d=await n.put("/users/".concat(e,"/status"),{status:"APPROVED",role:t}),console.log("\u2705 Success with PUT /users/"+e+"/status"),d.data}catch(u){var c;h=u,console.log("\u274c Failed with PUT /users/"+e+"/status:",null===(c=u.response)||void 0===c?void 0:c.status)}throw h}catch(u){var d;throw console.error("\u274c All approval strategies failed:",u),console.error("\u274c Error response:",null===(d=u.response)||void 0===d?void 0:d.data),u}},rejectUser:async(e,t)=>{try{let d,h;try{return console.log("\ud83d\udd04 Trying PUT /auth/users/"+e+"/reject"),d=await n.put("/auth/users/".concat(e,"/reject"),{reason:t}),console.log("\u2705 Success with PUT /auth/users/"+e+"/reject"),d.data}catch(u){var s;h=u,console.log("\u274c Failed with PUT /auth/users/"+e+"/reject:",null===(s=u.response)||void 0===s?void 0:s.status)}try{return console.log("\ud83d\udd04 Trying POST /auth/users/"+e+"/reject"),d=await n.post("/auth/users/".concat(e,"/reject"),{reason:t}),console.log("\u2705 Success with POST /auth/users/"+e+"/reject"),d.data}catch(u){var a;h=u,console.log("\u274c Failed with POST /auth/users/"+e+"/reject:",null===(a=u.response)||void 0===a?void 0:a.status)}try{return console.log("\ud83d\udd04 Trying PUT /super-admin/users/"+e+"/reject"),d=await n.put("/super-admin/users/".concat(e,"/reject"),{reason:t}),console.log("\u2705 Success with PUT /super-admin/users/"+e+"/reject"),d.data}catch(u){var i;h=u,console.log("\u274c Failed with PUT /super-admin/users/"+e+"/reject:",null===(i=u.response)||void 0===i?void 0:i.status)}try{return console.log("\ud83d\udd04 Trying POST /registrations/"+e+"/reject"),d=await n.post("/registrations/".concat(e,"/reject"),{rejectedBy:"Super Admin",rejectionReason:t||"Registration rejected by Super Admin"}),console.log("\u2705 Success with POST /registrations/"+e+"/reject"),d.data}catch(u){var r;h=u,console.log("\u274c Failed with POST /registrations/"+e+"/reject:",null===(r=u.response)||void 0===r?void 0:r.status)}try{return console.log("\ud83d\udd04 Trying PUT /employees/"+e+"/reject"),d=await n.put("/employees/".concat(e,"/reject"),{reason:t}),console.log("\u2705 Success with PUT /employees/"+e+"/reject"),d.data}catch(u){var l;h=u,console.log("\u274c Failed with PUT /employees/"+e+"/reject:",null===(l=u.response)||void 0===l?void 0:l.status)}try{return console.log("\ud83d\udd04 Trying PUT /employees/"+e+"/status"),d=await n.put("/employees/".concat(e,"/status"),{status:"REJECTED",reason:t}),console.log("\u2705 Success with PUT /employees/"+e+"/status"),d.data}catch(u){var o;h=u,console.log("\u274c Failed with PUT /employees/"+e+"/status:",null===(o=u.response)||void 0===o?void 0:o.status)}try{return console.log("\ud83d\udd04 Trying PUT /users/"+e+"/status"),d=await n.put("/users/".concat(e,"/status"),{status:"REJECTED",reason:t}),console.log("\u2705 Success with PUT /users/"+e+"/status"),d.data}catch(u){var c;h=u,console.log("\u274c Failed with PUT /users/"+e+"/status:",null===(c=u.response)||void 0===c?void 0:c.status)}throw h}catch(u){var d;throw console.error("\u274c All rejection strategies failed:",u),console.error("\u274c Error response:",null===(d=u.response)||void 0===d?void 0:d.data),u}},deleteUser:async e=>(await n.delete("/super-admin/users/".concat(e))).data,updateUser:async(e,t)=>(await n.put("/super-admin/users/".concat(e),t)).data,updateUserStatus:async(e,t)=>(await n.put("/auth/users/".concat(e,"/status"),{status:t})).data,getDashboardStats:async()=>(await n.get("/public/dashboard/stats")).data,bulkAssignFarmers:async(e,t)=>(await n.post("/super-admin/bulk-assign-farmers",{farmerIds:e,employeeId:t})).data,assignFarmer:async(e,t)=>(await n.post("/super-admin/assign-farmer",null,{params:{farmerId:e,employeeId:t}})).data,getEmployeeById:async e=>(await n.get("/super-admin/employees/".concat(e))).data,updateEmployee:async(e,t)=>(await n.put("/super-admin/employees/".concat(e),t)).data,getUserById:async e=>(await n.get("/super-admin/users/".concat(e))).data,forcePasswordChange:async e=>(await n.put("/super-admin/users/".concat(e,"/force-password-change"))).data},o={getAllFarmers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await n.get("/super-admin/farmers",{params:e})).data},getFarmerById:async e=>(await n.get("/super-admin/farmers/".concat(e))).data,createFarmer:async e=>{const t=new FormData,s=e.photo,i=e.passbookFile||e.passbookPhoto,r=e.documentFileName,l=e.soilTestCertificate||e.currentSoilTestCertificateFileName;console.log("\ud83d\udd0d File fields found:"),console.log("  - photo:",s),console.log("  - passbookPhoto:",i),console.log("  - aadhaar:",r),console.log("  - soilTestCertificate:",l);const o=(0,a.A)({},e);delete o.photo,delete o.passbookPhoto,delete o.passbookFile,delete o.documentFileName,delete o.soilTestCertificate,delete o.currentSoilTestCertificateFileName,Object.keys(o).forEach(e=>{(o[e]instanceof File||o[e]instanceof Blob)&&delete o[e]}),o.alternativeNumber&&(o.alternativeContactNumber=o.alternativeNumber,delete o.alternativeNumber),o.salutation||(o.salutation="Mr"),o.lastName||(o.lastName=o.firstName||"Unknown"),o.dateOfBirth||(o.dateOfBirth="1990-01-01"),o.gender||(o.gender="Male"),o.nationality||(o.nationality="Indian"),o.country||(o.country="India"),console.log("\ud83d\udd0d Final farmerDto object (after cleanup):",o),console.log("\ud83d\udd0d Required fields check:"),console.log("  - salutation:",o.salutation),console.log("  - firstName:",o.firstName),console.log("  - lastName:",o.lastName),console.log("  - dateOfBirth:",o.dateOfBirth),console.log("  - gender:",o.gender),console.log("  - nationality:",o.nationality),console.log("  - country:",o.country),o.contactNumber&&!/^\d{10}$/.test(o.contactNumber)&&console.warn("\u26a0\ufe0f Contact number must be 10 digits:",o.contactNumber),o.alternativeContactNumber&&!/^\d{10}$/.test(o.alternativeContactNumber)&&console.warn("\u26a0\ufe0f Alternative contact number must be 10 digits:",o.alternativeContactNumber),o.pincode&&!/^\d{6}$/.test(o.pincode)&&console.warn("\u26a0\ufe0f Pincode must be 6 digits:",o.pincode);const c=JSON.stringify(o);console.log("\ud83d\udd0d farmerDto JSON being sent:",c),console.log("\ud83d\udd0d farmerDto object before JSON.stringify:",o),t.append("farmerDto",c),s instanceof File&&t.append("photo",s),i instanceof File&&t.append("passbookPhoto",i),r instanceof File&&t.append("aadhaar",r),l instanceof File&&t.append("soilTestCertificate",l),console.log("\ud83d\udd0d Sending to /api/farmers with multipart data");try{return(await n.post("/farmers",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(p){var d,u,h,m;if(console.error("\u274c Server error details:",null===(d=p.response)||void 0===d?void 0:d.data),500===(null===(u=p.response)||void 0===u?void 0:u.status))throw new Error("Server error: ".concat((null===(h=p.response)||void 0===h||null===(m=h.data)||void 0===m?void 0:m.message)||"Internal server error. Please check all required fields."));throw p}},updateFarmer:async(e,t)=>(await n.put("/super-admin/farmers/".concat(e),t)).data,deleteFarmer:async e=>(await n.delete("/super-admin/farmers/".concat(e))).data,assignFarmer:async(e,t)=>(await n.post("/super-admin/farmers/".concat(e,"/assign"),{employeeId:t})).data,getFarmerStats:async()=>(await n.get("/super-admin/farmers/stats")).data,uploadPhoto:async(e,t)=>{const s=new FormData;s.append("photo",t);return(await n.patch("/farmers/".concat(e,"/photo"),s,{headers:{"Content-Type":"multipart/form-data"}})).data}},c={getAllEmployees:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await n.get("/super-admin/employees",{params:e})).data},getEmployeeById:async e=>(await n.get("/super-admin/employees/".concat(e))).data,createEmployee:async e=>(await n.post("/super-admin/employees",e)).data,updateEmployee:async(e,t)=>(await n.put("/super-admin/employees/".concat(e),t)).data,deleteEmployee:async e=>(await n.delete("/super-admin/employees/".concat(e))).data,getAssignedFarmers:async e=>(await n.get("/super-admin/employees/".concat(e,"/assigned-farmers"))).data,getEmployeeStats:async()=>(await n.get("/super-admin/employees/stats")).data},d={uploadPhoto:async(e,t)=>{const s=new FormData;s.append("photo",t);return(await n.patch("/employees/".concat(e,"/photo"),s,{headers:{"Content-Type":"multipart/form-data"}})).data}},u={getAssignedFarmers:async e=>{try{console.log("\ud83d\udd04 Fetching assigned farmers from dashboard endpoint");const e=await n.get("/employees/dashboard/assigned-farmers");return console.log("\u2705 Success with dashboard endpoint"),e.data}catch(t){throw console.error("\u274c Failed to fetch assigned farmers:",t),t}},getProfile:async()=>(await n.get("/employees/dashboard/profile")).data,updateProfile:async e=>(await n.put("/employees/profile",e)).data,getStats:async()=>(await n.get("/employees/stats")).data},h={getAllRegistrations:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await n.get("/registrations",{params:e})).data},getRegistrationById:async e=>(await n.get("/registrations/".concat(e))).data,approveRegistration:async(e,t)=>(await n.post("/registrations/".concat(e,"/approve"),t)).data,rejectRegistration:async(e,t)=>(await n.post("/registrations/".concat(e,"/reject"),t)).data,getRegistrationStats:async()=>(await n.get("/registrations/stats")).data},m={uploadDocuments:async(e,t)=>{const s=new FormData;Object.keys(t).forEach(e=>{t[e]&&s.append(e,t[e])});return(await n.post("/employees/kyc/".concat(e,"/upload"),s,{headers:{"Content-Type":"multipart/form-data"}})).data},approveKYC:async e=>(await n.put("/employees/kyc/approve/".concat(e))).data,rejectKYC:async(e,t)=>(await n.put("/employees/kyc/reject/".concat(e),{reason:t.reason||"KYC rejected"})).data,referBackKYC:async(e,t)=>(await n.put("/employees/kyc/refer-back/".concat(e),{reason:t.reason||"KYC referred back"})).data,getKYCStatus:async e=>(await n.get("/employees/kyc/".concat(e,"/status"))).data,getKYCDocuments:async e=>(await n.get("/employees/kyc/".concat(e,"/documents"))).data},p={getDashboardStats:async()=>(await n.get("/dashboard/stats")).data,getAdminDashboardData:async()=>(await n.get("/dashboard/admin")).data,getSuperAdminDashboardData:async()=>(await n.get("/dashboard/super-admin")).data,getEmployeeDashboardData:async e=>(await n.get("/dashboard/employee/".concat(e))).data,getRecentActivity:async()=>(await n.get("/dashboard/recent-activity")).data},f={login:i.login,getProfile:i.getProfile,register:i.register,sendOTP:i.sendOTP,verifyOTP:i.verifyOTP,resendOTP:i.resendOTP,forgotPassword:i.forgotPassword,forgotUserId:i.forgotUserId,resetPassword:i.resetPassword,changePassword:i.changePassword,changeUserId:i.changeUserId,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")},getAllUsers:l.getAllUsers,getUserById:l.getUserById,updateUser:l.updateUser,deleteUser:l.deleteUser,forcePasswordChange:l.forcePasswordChange,createFarmer:o.createFarmer,getFarmerById:o.getFarmerById,getAllFarmers:o.getAllFarmers,updateFarmer:o.updateFarmer,deleteFarmer:o.deleteFarmer,getAddressByPincode:i.getAddressByPincode,getFarmerDashboardData:async e=>{try{return(await n.get("/farmers/dashboard/by-email?email=".concat(e))).data}catch(t){console.warn("Farmer dashboard endpoint not available, trying alternative:",t);try{return(await n.get("/farmers/by-email?email=".concat(e))).data}catch(s){throw console.warn("Alternative farmer endpoint also failed:",s),t}}},createEmployee:c.createEmployee,getEmployeeById:c.getEmployeeById,getAllEmployees:c.getAllEmployees,updateEmployee:c.updateEmployee,deleteEmployee:c.deleteEmployee,assignFarmerToEmployee:r.assignFarmer,getFarmersByEmployee:r.getFarmersByEmployee,approveKyc:m.approveKYC,referBackKyc:m.referBackKYC,rejectKyc:m.rejectKYC,getDashboardStats:p.getDashboardStats,getRecentActivity:p.getRecentActivity,getFarmerStats:o.getFarmerStats,getEmployeeStats:c.getEmployeeStats,getKycStats:m.getKYCStatus,bulkImport:async(e,t)=>(await n.post("/bulk/import/".concat(e),t,{headers:{"Content-Type":"multipart/form-data"}})).data,bulkExport:async(e,t)=>(await n.post("/bulk/export/".concat(e),t,{responseType:"blob"})).data,downloadTemplate:async e=>(await n.get("/bulk/template/".concat(e),{responseType:"blob"})).data,getImportStatus:async e=>(await n.get("/bulk/import/status/".concat(e))).data,getImportHistory:async e=>(await n.get("/bulk/import/history?userEmail=".concat(e))).data,bulkAssignFarmersByNames:async(e,t)=>(await n.post("/bulk/assign/farmers-by-names",{farmerNames:e,employeeEmail:t})).data,bulkAssignFarmersByLocation:async(e,t)=>{const s={location:e};"string"===typeof t?s.employeeEmail=t:null!=t&&(s.employeeId=t);return(await n.post("/bulk/assign/farmers-by-location",null,{params:s})).data},getIdCardPdf:async e=>(await n.get("/users/".concat(e,"/idcard?t=").concat(Date.now()),{timeout:6e4,responseType:"blob"})).data,uploadIdPhoto:async(e,t)=>{const s=new FormData;s.append("photo",t);return(await n.put("/users/".concat(e,"/upload-photo"),s,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4})).data}},g={createFPO:async e=>(await n.post("/fpo",e)).data,updateFPO:async(e,t)=>(await n.put("/fpo/".concat(e),t)).data,updateFPOStatus:async(e,t)=>(await n.put("/fpo/".concat(e,"/status?status=").concat(t))).data,getFPOById:async e=>(await n.get("/fpo/".concat(e))).data,getFPOByFpoId:async e=>(await n.get("/fpo/fpo-id/".concat(e))).data,deleteFPO:async e=>(await n.delete("/fpo/".concat(e))).data,deactivateFPO:async e=>(await n.put("/fpo/".concat(e,"/deactivate"))).data,activateFPO:async e=>(await n.put("/fpo/".concat(e,"/activate"))).data,getAllFPOs:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await n.get("/fpo/list",{params:e})).data},searchFPOs:async e=>(await n.post("/fpo/search",e)).data,getFPOsByState:async e=>(await n.get("/fpo/state/".concat(e))).data,getFPOsByDistrict:async e=>(await n.get("/fpo/district/".concat(e))).data,getDistinctStates:async()=>(await n.get("/fpo/states")).data,getDistinctDistrictsByState:async e=>(await n.get("/fpo/districts/".concat(e))).data,getFPODashboard:async e=>(await n.get("/fpo/".concat(e,"/dashboard"))).data,getFPODashboardByFpoId:async e=>(await n.get("/fpo/fpo-id/".concat(e,"/dashboard"))).data,getTotalFPOsCount:async()=>(await n.get("/fpo/stats/total")).data,getActiveFPOsCount:async()=>(await n.get("/fpo/stats/active")).data,getFPOsCountByStatus:async e=>(await n.get("/fpo/stats/status/".concat(e))).data,getFPOMembers:async e=>(await n.get("/fpo/".concat(e,"/members"))).data,addMemberToFPO:async(e,t)=>(await n.post("/fpo/".concat(e,"/members"),t)).data,removeMemberFromFPO:async(e,t)=>(await n.delete("/fpo/".concat(e,"/members/").concat(t))).data,updateMemberStatus:async(e,t,s)=>(await n.put("/fpo/".concat(e,"/members/").concat(t,"/status?status=").concat(s))).data,getFPOBoardMembers:async e=>(await n.get("/fpo/".concat(e,"/board-members"))).data,addBoardMember:async(e,t)=>(await n.post("/fpo/".concat(e,"/board-members"),t)).data,updateBoardMember:async(e,t,s)=>(await n.put("/fpo/".concat(e,"/board-members/").concat(t),s)).data,removeBoardMember:async(e,t)=>(await n.delete("/fpo/".concat(e,"/board-members/").concat(t))).data,getFPOServices:async e=>(await n.get("/fpo/".concat(e,"/services"))).data,createService:async(e,t)=>(await n.post("/fpo/".concat(e,"/services"),t)).data,updateService:async(e,t,s)=>(await n.put("/fpo/".concat(e,"/services/").concat(t),s)).data,updateServiceStatus:async(e,t,s)=>(await n.put("/fpo/".concat(e,"/services/").concat(t,"/status?status=").concat(s))).data,removeService:async(e,t)=>(await n.delete("/fpo/".concat(e,"/services/").concat(t))).data,getFPOCrops:async e=>(await n.get("/fpo/".concat(e,"/crops"))).data,createCrop:async(e,t)=>(await n.post("/fpo/".concat(e,"/crops"),t)).data,updateCrop:async(e,t,s)=>(await n.put("/fpo/".concat(e,"/crops/").concat(t),s)).data,updateCropStatus:async(e,t,s)=>(await n.put("/fpo/".concat(e,"/crops/").concat(t,"/status?status=").concat(s))).data,deleteCrop:async(e,t)=>(await n.delete("/fpo/".concat(e,"/crops/").concat(t))).data,getFPOInputShops:async e=>(await n.get("/fpo/".concat(e,"/input-shops"))).data,createInputShop:async(e,t)=>(await n.post("/fpo/".concat(e,"/input-shops"),t)).data,updateInputShop:async(e,t,s)=>(await n.put("/fpo/".concat(e,"/input-shops/").concat(t),s)).data,deleteInputShop:async(e,t)=>(await n.delete("/fpo/".concat(e,"/input-shops/").concat(t))).data,getFPOTurnovers:async e=>(await n.get("/fpo/".concat(e,"/turnovers"))).data,createTurnover:async(e,t)=>(await n.post("/fpo/".concat(e,"/turnovers"),t)).data,updateTurnover:async(e,t,s)=>(await n.put("/fpo/".concat(e,"/turnovers/").concat(t),s)).data,deleteTurnover:async(e,t)=>(await n.delete("/fpo/".concat(e,"/turnovers/").concat(t))).data,getFPOProducts:async e=>(await n.get("/fpo/".concat(e,"/products"))).data,createProduct:async(e,t)=>(await n.post("/fpo/".concat(e,"/products"),t)).data,updateProduct:async(e,t,s)=>(await n.put("/fpo/".concat(e,"/products/").concat(t),s)).data,updateProductStock:async(e,t,s)=>(await n.put("/fpo/".concat(e,"/products/").concat(t,"/stock?newStock=").concat(s))).data,deleteProduct:async(e,t)=>(await n.delete("/fpo/".concat(e,"/products/").concat(t))).data,getFPOProductCategories:async e=>(await n.get("/fpo/".concat(e,"/products/categories"))).data,createProductCategory:async(e,t)=>(await n.post("/fpo/".concat(e,"/products/categories"),t)).data,updateProductCategory:async(e,t,s)=>(await n.put("/fpo/".concat(e,"/products/categories/").concat(t),s)).data,deleteProductCategory:async(e,t)=>(await n.delete("/fpo/".concat(e,"/products/categories/").concat(t))).data,getFPONotifications:async e=>(await n.get("/fpo/".concat(e,"/notifications"))).data,createNotification:async(e,t)=>(await n.post("/fpo/".concat(e,"/notifications"),t)).data,markNotificationAsRead:async(e,t)=>(await n.put("/fpo/".concat(e,"/notifications/").concat(t,"/read"))).data,deleteNotification:async(e,t)=>(await n.delete("/fpo/".concat(e,"/notifications/").concat(t))).data},v={list:async e=>(await n.get("/fpo/".concat(e,"/users"))).data,create:async(e,t)=>{const s={email:t.email,phoneNumber:t.phoneNumber,firstName:t.firstName,lastName:t.lastName,role:t.role,password:t.password};return(await n.post("/fpo/".concat(e,"/users"),s)).data},toggleActive:async(e,t,s)=>(await n.put("/fpo/".concat(e,"/users/").concat(t,"/status"),{active:s})).data,updatePassword:async(e,t,s)=>(await n.put("/fpo/".concat(e,"/users/").concat(t,"/password"),{password:s})).data},x={getMyIdCards:async e=>{try{return(await n.get("/employees/dashboard/my/id-card")).data}catch(t){}try{return(await n.get("/id-cards/holder/".concat(e))).data}catch(s){try{return(await n.get("/employees/id-cards")).data}catch(a){try{return(await n.get("/users/".concat(e,"/id-cards"))).data}catch(i){throw s}}}},generateMyEmployeeIdCard:async e=>{try{return(await n.post("/employees/dashboard/my/id-card")).data}catch(t){}try{return(await n.post("/id-cards/generate/employee/".concat(e))).data}catch(s){try{return(await n.post("/employees/id-cards/generate",{employeeId:e})).data}catch(a){throw s}}},generateFarmerIdCard:async e=>(await n.post("/id-cards/generate/farmer/".concat(e))).data,generateEmployeeIdCard:async e=>(await n.post("/id-cards/generate/employee/".concat(e))).data,getIdCard:async e=>(await n.get("/id-cards/".concat(e))).data,getIdCardsByHolder:async e=>(await n.get("/id-cards/holder/".concat(e))).data,getAllIdCards:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await n.get("/id-cards?page=".concat(e,"&size=").concat(t))).data},getIdCardsByType:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return(await n.get("/id-cards/type/".concat(e,"?page=").concat(t,"&size=").concat(s))).data},searchIdCards:async e=>{const t=new URLSearchParams;Object.keys(e).forEach(s=>{void 0!==e[s]&&null!==e[s]&&""!==e[s]&&t.append(s,e[s])});return(await n.get("/id-cards/search?".concat(t.toString()))).data},getIdCardsByState:async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(await n.get("/id-cards/state/".concat(e,"?cardType=").concat(t,"&page=").concat(s,"&size=").concat(a))).data},getIdCardsByDistrict:async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(await n.get("/id-cards/district/".concat(e,"?cardType=").concat(t,"&page=").concat(s,"&size=").concat(a))).data},downloadIdCardPdf:async e=>(await n.get("/id-cards/".concat(e,"/download/pdf"),{responseType:"blob"})).data,downloadIdCardPng:async e=>(await n.get("/id-cards/".concat(e,"/download/png?t=").concat(Date.now()),{responseType:"blob"})).data,regenerateIdCard:async e=>(await n.post("/id-cards/".concat(e,"/regenerate"))).data,revokeIdCard:async e=>(await n.post("/id-cards/".concat(e,"/revoke"))).data,getIdCardStatistics:async()=>(await n.get("/id-cards/statistics")).data},b=n},517:e=>{const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,s=e=>e.match(t)||[],a=e=>e[0].toUpperCase()+e.slice(1),n=(e,t)=>s(e).join(t).toLowerCase(),i=e=>s(e).reduce((e,t)=>"".concat(e).concat(e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()),"");e.exports={words:s,upperFirst:a,camelCase:i,pascalCase:e=>a(i(e)),snakeCase:e=>n(e,"_"),kebabCase:e=>n(e,"-"),sentenceCase:e=>a(n(e," ")),titleCase:e=>s(e).map(a).join(" ")}},575:e=>{"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var s=/[^.^\]^[]+|(?=\[\]|\.\.)/g,a=/^\d+$/,n=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,r=/^\s*(['"]?)(.*?)(\1)\s*$/,l=new t(512),o=new t(512),c=new t(512);function d(e){return l.get(e)||l.set(e,u(e).map(function(e){return e.replace(r,"$2")}))}function u(e){return e.match(s)||[""]}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function m(e){return!h(e)&&(function(e){return e.match(n)&&!e.match(a)}(e)||function(e){return i.test(e)}(e))}e.exports={Cache:t,split:u,normalizePath:d,setter:function(e){var t=d(e);return o.get(e)||o.set(e,function(e,s){for(var a=0,n=t.length,i=e;a<n-1;){var r=t[a];if("__proto__"===r||"constructor"===r||"prototype"===r)return e;i=i[t[a++]]}i[t[a]]=s})},getter:function(e,t){var s=d(e);return c.get(e)||c.set(e,function(e){for(var a=0,n=s.length;a<n;){if(null==e&&t)return;e=e[s[a++]]}return e})},join:function(e){return e.reduce(function(e,t){return e+(h(t)||a.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(e,t,s){!function(e,t,s){var a,n,i,r,l=e.length;for(n=0;n<l;n++)(a=e[n])&&(m(a)&&(a='"'+a+'"'),i=!(r=h(a))&&/^\d+$/.test(a),t.call(s,a,r,i,n,e))}(Array.isArray(e)?e:u(e),t,s)}}},579:(e,t,s)=>{"use strict";e.exports=s(153)},704:e=>{function t(e,t){var s=e.length,a=new Array(s),n={},i=s,r=function(e){for(var t=new Map,s=0,a=e.length;s<a;s++){var n=e[s];t.has(n[0])||t.set(n[0],new Set),t.has(n[1])||t.set(n[1],new Set),t.get(n[0]).add(n[1])}return t}(t),l=function(e){for(var t=new Map,s=0,a=e.length;s<a;s++)t.set(e[s],s);return t}(e);for(t.forEach(function(e){if(!l.has(e[0])||!l.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)n[i]||o(e[i],i,new Set);return a;function o(e,t,i){if(i.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(h){c=""}throw new Error("Cyclic dependency"+c)}if(!l.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!n[t]){n[t]=!0;var d=r.get(e)||new Set;if(t=(d=Array.from(d)).length){i.add(e);do{var u=d[--t];o(u,l.get(u),i)}while(t);i.delete(e)}a[--s]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,s=0,a=e.length;s<a;s++){var n=e[s];t.add(n[0]),t.add(n[1])}return Array.from(t)}(e),e)},e.exports.array=t},705:(e,t,s)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function i(e,t,s){return(t=n(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{A:()=>i})},722:(e,t,s)=>{"use strict";s.d(t,{A:()=>Pt});var a={};function n(e,t){return function(){return e.apply(t,arguments)}}s.r(a),s.d(a,{hasBrowserEnv:()=>de,hasStandardBrowserEnv:()=>he,hasStandardBrowserWebWorkerEnv:()=>me,navigator:()=>ue,origin:()=>pe});const{toString:i}=Object.prototype,{getPrototypeOf:r}=Object,{iterator:l,toStringTag:o}=Symbol,c=(d=Object.create(null),e=>{const t=i.call(e);return d[t]||(d[t]=t.slice(8,-1).toLowerCase())});var d;const u=e=>(e=e.toLowerCase(),t=>c(t)===e),h=e=>t=>typeof t===e,{isArray:m}=Array,p=h("undefined");function f(e){return null!==e&&!p(e)&&null!==e.constructor&&!p(e.constructor)&&x(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const g=u("ArrayBuffer");const v=h("string"),x=h("function"),b=h("number"),y=e=>null!==e&&"object"===typeof e,j=e=>{if("object"!==c(e))return!1;const t=r(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(o in e)&&!(l in e)},N=u("Date"),w=u("File"),S=u("Blob"),k=u("FileList"),C=u("URLSearchParams"),[A,E,P,I]=["ReadableStream","Request","Response","Headers"].map(u);function F(e,t){let s,a,{allOwnKeys:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),m(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(f(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let r;for(s=0;s<i;s++)r=a[s],t.call(null,e[r],r,e)}}function D(e,t){if(f(e))return null;t=t.toLowerCase();const s=Object.keys(e);let a,n=s.length;for(;n-- >0;)if(a=s[n],t===a.toLowerCase())return a;return null}const _="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,T=e=>!p(e)&&e!==_;const O=(R="undefined"!==typeof Uint8Array&&r(Uint8Array),e=>R&&e instanceof R);var R;const M=u("HTMLFormElement"),L=(e=>{let{hasOwnProperty:t}=e;return(e,s)=>t.call(e,s)})(Object.prototype),U=u("RegExp"),B=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};F(s,(s,n)=>{let i;!1!==(i=t(s,n,e))&&(a[n]=i||s)}),Object.defineProperties(e,a)};const z=u("AsyncFunction"),V=((e,t)=>{return e?setImmediate:t?(s="axios@".concat(Math.random()),a=[],_.addEventListener("message",e=>{let{source:t,data:n}=e;t===_&&n===s&&a.length&&a.shift()()},!1),e=>{a.push(e),_.postMessage(s,"*")}):e=>setTimeout(e);var s,a})("function"===typeof setImmediate,x(_.postMessage)),Y="undefined"!==typeof queueMicrotask?queueMicrotask.bind(_):"undefined"!==typeof process&&process.nextTick||V,q={isArray:m,isArrayBuffer:g,isBuffer:f,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||x(e.append)&&("formdata"===(t=c(e))||"object"===t&&x(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&g(e.buffer),t},isString:v,isNumber:b,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:j,isEmptyObject:e=>{if(!y(e)||f(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:A,isRequest:E,isResponse:P,isHeaders:I,isUndefined:p,isDate:N,isFile:w,isBlob:S,isRegExp:U,isFunction:x,isStream:e=>y(e)&&x(e.pipe),isURLSearchParams:C,isTypedArray:O,isFileList:k,forEach:F,merge:function e(){const{caseless:t}=T(this)&&this||{},s={},a=(a,n)=>{const i=t&&D(s,n)||n;j(s[i])&&j(a)?s[i]=e(s[i],a):j(a)?s[i]=e({},a):m(a)?s[i]=a.slice():s[i]=a};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&F(arguments[n],a);return s},extend:function(e,t,s){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return F(t,(t,a)=>{s&&x(t)?e[a]=n(t,s):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,a)=>{let n,i,l;const o={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)l=n[i],a&&!a(l,e,t)||o[l]||(t[l]=e[l],o[l]=!0);e=!1!==s&&r(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:u,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return-1!==a&&a===s},toArray:e=>{if(!e)return null;if(m(e))return e;let t=e.length;if(!b(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[l]).call(e);let a;for(;(a=s.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const a=[];for(;null!==(s=e.exec(t));)a.push(s);return a},isHTMLForm:M,hasOwnProperty:L,hasOwnProp:L,reduceDescriptors:B,freezeMethods:e=>{B(e,(t,s)=>{if(x(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const a=e[s];x(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))})},toObjectSet:(e,t)=>{const s={},a=e=>{e.forEach(e=>{s[e]=!0})};return m(e)?a(e):a(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,s){return t.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:D,global:_,isContextDefined:T,isSpecCompliantForm:function(e){return!!(e&&x(e.append)&&"FormData"===e[o]&&e[l])},toJSONObject:e=>{const t=new Array(10),s=(e,a)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(f(e))return e;if(!("toJSON"in e)){t[a]=e;const n=m(e)?[]:{};return F(e,(e,t)=>{const i=s(e,a+1);!p(i)&&(n[t]=i)}),t[a]=void 0,n}}return e};return s(e,0)},isAsyncFn:z,isThenable:e=>e&&(y(e)||x(e))&&x(e.then)&&x(e.catch),setImmediate:V,asap:Y,isIterable:e=>null!=e&&x(e[l])};function W(e,t,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}q.inherits(W,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const H=W.prototype,K={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{K[e]={value:e}}),Object.defineProperties(W,K),Object.defineProperty(H,"isAxiosError",{value:!0}),W.from=(e,t,s,a,n,i)=>{const r=Object.create(H);return q.toFlatObject(e,r,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),W.call(r,e.message,t,s,a,n),r.cause=e,r.name=e.name,i&&Object.assign(r,i),r};const $=W;function G(e){return q.isPlainObject(e)||q.isArray(e)}function J(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function Q(e,t,s){return e?e.concat(t).map(function(e,t){return e=J(e),!s&&t?"["+e+"]":e}).join(s?".":""):t}const X=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});const Z=function(e,t,s){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(s=q.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!q.isUndefined(t[e])})).metaTokens,n=s.visitor||c,i=s.dots,r=s.indexes,l=(s.Blob||"undefined"!==typeof Blob&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(n))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(q.isDate(e))return e.toISOString();if(q.isBoolean(e))return e.toString();if(!l&&q.isBlob(e))throw new $("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(e)||q.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,n){let l=e;if(e&&!n&&"object"===typeof e)if(q.endsWith(s,"{}"))s=a?s:s.slice(0,-2),e=JSON.stringify(e);else if(q.isArray(e)&&function(e){return q.isArray(e)&&!e.some(G)}(e)||(q.isFileList(e)||q.endsWith(s,"[]"))&&(l=q.toArray(e)))return s=J(s),l.forEach(function(e,a){!q.isUndefined(e)&&null!==e&&t.append(!0===r?Q([s],a,i):null===r?s:s+"[]",o(e))}),!1;return!!G(e)||(t.append(Q(n,s,i),o(e)),!1)}const d=[],u=Object.assign(X,{defaultVisitor:c,convertValue:o,isVisitable:G});if(!q.isObject(e))throw new TypeError("data must be an object");return function e(s,a){if(!q.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+a.join("."));d.push(s),q.forEach(s,function(s,i){!0===(!(q.isUndefined(s)||null===s)&&n.call(t,s,q.isString(i)?i.trim():i,a,u))&&e(s,a?a.concat(i):[i])}),d.pop()}}(e),t};function ee(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function te(e,t){this._pairs=[],e&&Z(e,this,t)}const se=te.prototype;se.append=function(e,t){this._pairs.push([e,t])},se.toString=function(e){const t=e?function(t){return e.call(this,t,ee)}:ee;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const ae=te;function ne(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ie(e,t,s){if(!t)return e;const a=s&&s.encode||ne;q.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(i=n?n(t,s):q.isURLSearchParams(t)?t.toString():new ae(t,s).toString(a),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const re=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(t){null!==t&&e(t)})}},le={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var oe=s(379);const ce={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ae,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},de="undefined"!==typeof window&&"undefined"!==typeof document,ue="object"===typeof navigator&&navigator||void 0,he=de&&(!ue||["ReactNative","NativeScript","NS"].indexOf(ue.product)<0),me="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,pe=de&&window.location.href||"http://localhost",fe=(0,oe.A)((0,oe.A)({},a),ce);const ge=function(e){function t(e,s,a,n){let i=e[n++];if("__proto__"===i)return!0;const r=Number.isFinite(+i),l=n>=e.length;if(i=!i&&q.isArray(a)?a.length:i,l)return q.hasOwnProp(a,i)?a[i]=[a[i],s]:a[i]=s,!r;a[i]&&q.isObject(a[i])||(a[i]=[]);return t(e,s,a[i],n)&&q.isArray(a[i])&&(a[i]=function(e){const t={},s=Object.keys(e);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],t[i]=e[i];return t}(a[i])),!r}if(q.isFormData(e)&&q.isFunction(e.entries)){const s={};return q.forEachEntry(e,(e,a)=>{t(function(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,s,0)}),s}return null};const ve={transitional:le,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,n=q.isObject(e);n&&q.isHTMLForm(e)&&(e=new FormData(e));if(q.isFormData(e))return a?JSON.stringify(ge(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Z(e,new fe.classes.URLSearchParams,(0,oe.A)({visitor:function(e,t,s,a){return fe.isNode&&q.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=q.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Z(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||a?(t.setContentType("application/json",!1),function(e,t,s){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ve.transitional,s=t&&t.forcedJSONParsing,a="json"===this.responseType;if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(s&&!this.responseType||a)){const s=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(n){if(s){if("SyntaxError"===n.name)throw $.from(n,$.ERR_BAD_RESPONSE,this,null,this.response);throw n}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{ve.headers[e]={}});const xe=ve,be=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ye=Symbol("internals");function je(e){return e&&String(e).trim().toLowerCase()}function Ne(e){return!1===e||null==e?e:q.isArray(e)?e.map(Ne):String(e)}function we(e,t,s,a,n){return q.isFunction(a)?a.call(this,t,s):(n&&(t=s),q.isString(t)?q.isString(a)?-1!==t.indexOf(a):q.isRegExp(a)?a.test(t):void 0:void 0)}class Se{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function n(e,t,s){const n=je(t);if(!n)throw new Error("header name must be a non-empty string");const i=q.findKey(a,n);(!i||void 0===a[i]||!0===s||void 0===s&&!1!==a[i])&&(a[i||t]=Ne(e))}const i=(e,t)=>q.forEach(e,(e,s)=>n(e,s,t));if(q.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(q.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let s,a,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),s=e.substring(0,n).trim().toLowerCase(),a=e.substring(n+1).trim(),!s||t[s]&&be[s]||("set-cookie"===s?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t})(e),t);else if(q.isObject(e)&&q.isIterable(e)){let s,a,n={};for(const t of e){if(!q.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[a=t[0]]=(s=n[a])?q.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}i(n,t)}else null!=e&&n(t,e,s);return this}get(e,t){if(e=je(e)){const s=q.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}(e);if(q.isFunction(t))return t.call(this,e,s);if(q.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=je(e)){const s=q.findKey(this,e);return!(!s||void 0===this[s]||t&&!we(0,this[s],s,t))}return!1}delete(e,t){const s=this;let a=!1;function n(e){if(e=je(e)){const n=q.findKey(s,e);!n||t&&!we(0,s[n],n,t)||(delete s[n],a=!0)}}return q.isArray(e)?e.forEach(n):n(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const n=t[s];e&&!we(0,this[n],n,e,!0)||(delete this[n],a=!0)}return a}normalize(e){const t=this,s={};return q.forEach(this,(a,n)=>{const i=q.findKey(s,n);if(i)return t[i]=Ne(a),void delete t[n];const r=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}(n):String(n).trim();r!==n&&delete t[n],t[r]=Ne(a),s[r]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return q.forEach(this,(s,a)=>{null!=s&&!1!==s&&(t[a]=e&&q.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,s]=e;return t+": "+s}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var s=arguments.length,a=new Array(s>1?s-1:0),n=1;n<s;n++)a[n-1]=arguments[n];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[ye]=this[ye]={accessors:{}}).accessors,s=this.prototype;function a(e){const a=je(e);t[a]||(!function(e,t){const s=q.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(e,s,n){return this[a].call(this,t,e,s,n)},configurable:!0})})}(s,e),t[a]=!0)}return q.isArray(e)?e.forEach(a):a(e),this}}Se.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(Se.prototype,(e,t)=>{let{value:s}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(e){this[a]=e}}}),q.freezeMethods(Se);const ke=Se;function Ce(e,t){const s=this||xe,a=t||s,n=ke.from(a.headers);let i=a.data;return q.forEach(e,function(e){i=e.call(s,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function Ae(e){return!(!e||!e.__CANCEL__)}function Ee(e,t,s){$.call(this,null==e?"canceled":e,$.ERR_CANCELED,t,s),this.name="CanceledError"}q.inherits(Ee,$,{__CANCEL__:!0});const Pe=Ee;function Ie(e,t,s){const a=s.config.validateStatus;s.status&&a&&!a(s.status)?t(new $("Request failed with status code "+s.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const Fe=function(e,t){e=e||10;const s=new Array(e),a=new Array(e);let n,i=0,r=0;return t=void 0!==t?t:1e3,function(l){const o=Date.now(),c=a[r];n||(n=o),s[i]=l,a[i]=o;let d=r,u=0;for(;d!==i;)u+=s[d++],d%=e;if(i=(i+1)%e,i===r&&(r=(r+1)%e),o-n<t)return;const h=c&&o-c;return h?Math.round(1e3*u/h):void 0}};const De=function(e,t){let s,a,n=0,i=1e3/t;const r=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n=i,s=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-n;for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];t>=i?r(o,e):(s=o,a||(a=setTimeout(()=>{a=null,r(s)},i-t)))},()=>s&&r(s)]},_e=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const n=Fe(50,250);return De(s=>{const i=s.loaded,r=s.lengthComputable?s.total:void 0,l=i-a,o=n(l);a=i;e({loaded:i,total:r,progress:r?i/r:void 0,bytes:l,rate:o||void 0,estimated:o&&r&&i<=r?(r-i)/o:void 0,event:s,lengthComputable:null!=r,[t?"download":"upload"]:!0})},s)},Te=(e,t)=>{const s=null!=e;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},Oe=e=>function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return q.asap(()=>e(...s))},Re=fe.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,fe.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(fe.origin),fe.navigator&&/(msie|trident)/i.test(fe.navigator.userAgent)):()=>!0,Me=fe.hasStandardBrowserEnv?{write(e,t,s,a,n,i){const r=[e+"="+encodeURIComponent(t)];q.isNumber(s)&&r.push("expires="+new Date(s).toGMTString()),q.isString(a)&&r.push("path="+a),q.isString(n)&&r.push("domain="+n),!0===i&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Le(e,t,s){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ue=e=>e instanceof ke?(0,oe.A)({},e):e;function Be(e,t){t=t||{};const s={};function a(e,t,s,a){return q.isPlainObject(e)&&q.isPlainObject(t)?q.merge.call({caseless:a},e,t):q.isPlainObject(t)?q.merge({},t):q.isArray(t)?t.slice():t}function n(e,t,s,n){return q.isUndefined(t)?q.isUndefined(e)?void 0:a(void 0,e,0,n):a(e,t,0,n)}function i(e,t){if(!q.isUndefined(t))return a(void 0,t)}function r(e,t){return q.isUndefined(t)?q.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function l(s,n,i){return i in t?a(s,n):i in e?a(void 0,s):void 0}const o={url:i,method:i,data:i,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:l,headers:(e,t,s)=>n(Ue(e),Ue(t),0,!0)};return q.forEach(Object.keys((0,oe.A)((0,oe.A)({},e),t)),function(a){const i=o[a]||n,r=i(e[a],t[a],a);q.isUndefined(r)&&i!==l||(s[a]=r)}),s}const ze=e=>{const t=Be({},e);let s,{data:a,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:r,headers:l,auth:o}=t;if(t.headers=l=ke.from(l),t.url=ie(Le(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),q.isFormData(a))if(fe.hasStandardBrowserEnv||fe.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(s=l.getContentType())){const[e,...t]=s?s.split(";").map(e=>e.trim()).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(fe.hasStandardBrowserEnv&&(n&&q.isFunction(n)&&(n=n(t)),n||!1!==n&&Re(t.url))){const e=i&&r&&Me.read(r);e&&l.set(i,e)}return t},Ve="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,s){const a=ze(e);let n=a.data;const i=ke.from(a.headers).normalize();let r,l,o,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:m}=a;function p(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(r),a.signal&&a.signal.removeEventListener("abort",r)}let f=new XMLHttpRequest;function g(){if(!f)return;const a=ke.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Ie(function(e){t(e),p()},function(e){s(e),p()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:a,config:e,request:f}),f=null}f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(s(new $("Request aborted",$.ECONNABORTED,e,f)),f=null)},f.onerror=function(){s(new $("Network Error",$.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const n=a.transitional||le;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),s(new $(t,n.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,e,f)),f=null},void 0===n&&i.setContentType(null),"setRequestHeader"in f&&q.forEach(i.toJSON(),function(e,t){f.setRequestHeader(t,e)}),q.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),u&&"json"!==u&&(f.responseType=a.responseType),m&&([o,d]=_e(m,!0),f.addEventListener("progress",o)),h&&f.upload&&([l,c]=_e(h),f.upload.addEventListener("progress",l),f.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(r=t=>{f&&(s(!t||t.type?new Pe(null,e,f):t),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(r),a.signal&&(a.signal.aborted?r():a.signal.addEventListener("abort",r)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);v&&-1===fe.protocols.indexOf(v)?s(new $("Unsupported protocol "+v+":",$.ERR_BAD_REQUEST,e)):f.send(n||null)})},Ye=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,a=new AbortController;const n=function(e){if(!s){s=!0,r();const t=e instanceof Error?e:this.reason;a.abort(t instanceof $?t:new Pe(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,n(new $("timeout ".concat(t," of ms exceeded"),$.ETIMEDOUT))},t);const r=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:l}=a;return l.unsubscribe=()=>q.asap(r),l}};function qe(e,t){this.v=e,this.k=t}function We(e){return function(){return new He(e.apply(this,arguments))}}function He(e){var t,s;function a(t,s){try{var i=e[t](s),r=i.value,l=r instanceof qe;Promise.resolve(l?r.v:r).then(function(s){if(l){var o="return"===t?"return":"next";if(!r.k||s.done)return a(o,s);s=e[o](s).value}n(i.done?"return":"normal",s)},function(e){a("throw",e)})}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?a(t.key,t.arg):s=null}this._invoke=function(e,n){return new Promise(function(i,r){var l={key:e,arg:n,resolve:i,reject:r,next:null};s?s=s.next=l:(t=s=l,a(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}function Ke(e){return new qe(e,0)}function $e(e){var t={},s=!1;function a(t,a){return s=!0,a=new Promise(function(s){s(e[t](a))}),{done:!1,value:new qe(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return s?(s=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(s)throw s=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return s?(s=!1,e):a("return",e)}),t}function Ge(e){var t,s,a,n=2;for("undefined"!=typeof Symbol&&(s=Symbol.asyncIterator,a=Symbol.iterator);n--;){if(s&&null!=(t=e[s]))return t.call(e);if(a&&null!=(t=e[a]))return new Je(t.call(e));s="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Je(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Je=function(e){this.s=e,this.n=e.next},Je.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var s=this.s.return;return void 0===s?Promise.resolve({value:e,done:!0}):t(s.apply(this.s,arguments))},throw:function(e){var s=this.s.return;return void 0===s?Promise.reject(e):t(s.apply(this.s,arguments))}},new Je(e)}He.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},He.prototype.next=function(e){return this._invoke("next",e)},He.prototype.throw=function(e){return this._invoke("throw",e)},He.prototype.return=function(e){return this._invoke("return",e)};const Qe=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let a,n=0;for(;n<s;)a=n+t,yield e.slice(n,a),n=a},Xe=function(){var e=We(function*(e,t){var s,a=!1,n=!1;try{for(var i,r=Ge(Ze(e));a=!(i=yield Ke(r.next())).done;a=!1){const e=i.value;yield*$e(Ge(Qe(e,t)))}}catch(l){n=!0,s=l}finally{try{a&&null!=r.return&&(yield Ke(r.return()))}finally{if(n)throw s}}});return function(t,s){return e.apply(this,arguments)}}(),Ze=function(){var e=We(function*(e){if(e[Symbol.asyncIterator])return void(yield*$e(Ge(e)));const t=e.getReader();try{for(;;){const{done:e,value:s}=yield Ke(t.read());if(e)break;yield s}}finally{yield Ke(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),et=(e,t,s,a)=>{const n=Xe(e,t);let i,r=0,l=e=>{i||(i=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await n.next();if(t)return l(),void e.close();let i=a.byteLength;if(s){let e=r+=i;s(e)}e.enqueue(new Uint8Array(a))}catch(t){throw l(t),t}},cancel:e=>(l(e),n.return())},{highWaterMark:2})},tt="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,st=tt&&"function"===typeof ReadableStream,at=tt&&("function"===typeof TextEncoder?(nt=new TextEncoder,e=>nt.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var nt;const it=function(e){try{for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return!!e(...s)}catch(n){return!1}},rt=st&&it(()=>{let e=!1;const t=new Request(fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),lt=st&&it(()=>q.isReadableStream(new Response("").body)),ot={stream:lt&&(e=>e.body)};var ct;tt&&(ct=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ot[e]&&(ot[e]=q.isFunction(ct[e])?t=>t[e]():(t,s)=>{throw new $("Response type '".concat(e,"' is not supported"),$.ERR_NOT_SUPPORT,s)})}));const dt=async(e,t)=>{const s=q.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(q.isBlob(e))return e.size;if(q.isSpecCompliantForm(e)){const t=new Request(fe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return q.isArrayBufferView(e)||q.isArrayBuffer(e)?e.byteLength:(q.isURLSearchParams(e)&&(e+=""),q.isString(e)?(await at(e)).byteLength:void 0)})(t):s},ut={http:null,xhr:Ve,fetch:tt&&(async e=>{let{url:t,method:s,data:a,signal:n,cancelToken:i,timeout:r,onDownloadProgress:l,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=ze(e);c=c?(c+"").toLowerCase():"text";let m,p=Ye([n,i&&i.toAbortSignal()],r);const f=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(o&&rt&&"get"!==s&&"head"!==s&&0!==(g=await dt(d,a))){let e,s=new Request(t,{method:"POST",body:a,duplex:"half"});if(q.isFormData(a)&&(e=s.headers.get("content-type"))&&d.setContentType(e),s.body){const[e,t]=Te(g,_e(Oe(o)));a=et(s.body,65536,e,t)}}q.isString(u)||(u=u?"include":"omit");const n="credentials"in Request.prototype;m=new Request(t,(0,oe.A)((0,oe.A)({},h),{},{signal:p,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:n?u:void 0}));let i=await fetch(m,h);const r=lt&&("stream"===c||"response"===c);if(lt&&(l||r&&f)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=i[t]});const t=q.toFiniteNumber(i.headers.get("content-length")),[s,a]=l&&Te(t,_e(Oe(l),!0))||[];i=new Response(et(i.body,65536,s,()=>{a&&a(),f&&f()}),e)}c=c||"text";let v=await ot[q.findKey(ot,c)||"text"](i,e);return!r&&f&&f(),await new Promise((t,s)=>{Ie(t,s,{data:v,headers:ke.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:m})})}catch(v){if(f&&f(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new $("Network Error",$.ERR_NETWORK,e,m),{cause:v.cause||v});throw $.from(v,v&&v.code,e,m)}})};q.forEach(ut,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(s){}Object.defineProperty(e,"adapterName",{value:t})}});const ht=e=>"- ".concat(e),mt=e=>q.isFunction(e)||null===e||!1===e,pt=e=>{e=q.isArray(e)?e:[e];const{length:t}=e;let s,a;const n={};for(let i=0;i<t;i++){let t;if(s=e[i],a=s,!mt(s)&&(a=ut[(t=String(s)).toLowerCase()],void 0===a))throw new $("Unknown adapter '".concat(t,"'"));if(a)break;n[t||"#"+i]=a}if(!a){const e=Object.entries(n).map(e=>{let[t,s]=e;return"adapter ".concat(t," ")+(!1===s?"is not supported by the environment":"is not available in the build")});let s=t?e.length>1?"since :\n"+e.map(ht).join("\n"):" "+ht(e[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return a};function ft(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pe(null,e)}function gt(e){ft(e),e.headers=ke.from(e.headers),e.data=Ce.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return pt(e.adapter||xe.adapter)(e).then(function(t){return ft(e),t.data=Ce.call(e,e.transformResponse,t),t.headers=ke.from(t.headers),t},function(t){return Ae(t)||(ft(e),t&&t.response&&(t.response.data=Ce.call(e,e.transformResponse,t.response),t.response.headers=ke.from(t.response.headers))),Promise.reject(t)})}const vt="1.11.0",xt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xt[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const bt={};xt.transitional=function(e,t,s){function a(e,t){return"[Axios v"+vt+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,n,i)=>{if(!1===e)throw new $(a(n," has been removed"+(t?" in "+t:"")),$.ERR_DEPRECATED);return t&&!bt[n]&&(bt[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,n,i)}},xt.spelling=function(e){return(t,s)=>(console.warn("".concat(s," is likely a misspelling of ").concat(e)),!0)};const yt={assertOptions:function(e,t,s){if("object"!==typeof e)throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],r=t[i];if(r){const t=e[i],s=void 0===t||r(t,i,e);if(!0!==s)throw new $("option "+i+" must be "+s,$.ERR_BAD_OPTION_VALUE);continue}if(!0!==s)throw new $("Unknown option "+i,$.ERR_BAD_OPTION)}},validators:xt},jt=yt.validators;class Nt{constructor(e){this.defaults=e||{},this.interceptors={request:new re,response:new re}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(a){}}throw s}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Be(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:n}=t;void 0!==s&&yt.assertOptions(s,{silentJSONParsing:jt.transitional(jt.boolean),forcedJSONParsing:jt.transitional(jt.boolean),clarifyTimeoutError:jt.transitional(jt.boolean)},!1),null!=a&&(q.isFunction(a)?t.paramsSerializer={serialize:a}:yt.assertOptions(a,{encode:jt.function,serialize:jt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),yt.assertOptions(t,{baseUrl:jt.spelling("baseURL"),withXsrfToken:jt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=n&&q.merge(n.common,n[t.method]);n&&q.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=ke.concat(i,n);const r=[];let l=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!l){const e=[gt.bind(this),void 0];for(e.unshift(...r),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=r.length;let h=t;for(u=0;u<d;){const e=r[u++],t=r[u++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=gt.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return ie(Le((e=Be(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(e){Nt.prototype[e]=function(t,s){return this.request(Be(s||{},{method:e,url:t,data:(s||{}).data}))}}),q.forEach(["post","put","patch"],function(e){function t(t){return function(s,a,n){return this.request(Be(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Nt.prototype[e]=t(),Nt.prototype[e+"Form"]=t(!0)});const wt=Nt;class St{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const s=this;this.promise.then(e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{s.subscribe(e),t=e}).then(e);return a.cancel=function(){s.unsubscribe(t)},a},e(function(e,a,n){s.reason||(s.reason=new Pe(e,a,n),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new St(function(t){e=t}),cancel:e}}}const kt=St;const Ct={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ct).forEach(e=>{let[t,s]=e;Ct[s]=t});const At=Ct;const Et=function e(t){const s=new wt(t),a=n(wt.prototype.request,s);return q.extend(a,wt.prototype,s,{allOwnKeys:!0}),q.extend(a,s,null,{allOwnKeys:!0}),a.create=function(s){return e(Be(t,s))},a}(xe);Et.Axios=wt,Et.CanceledError=Pe,Et.CancelToken=kt,Et.isCancel=Ae,Et.VERSION=vt,Et.toFormData=Z,Et.AxiosError=$,Et.Cancel=Et.CanceledError,Et.all=function(e){return Promise.all(e)},Et.spread=function(e){return function(t){return e.apply(null,t)}},Et.isAxiosError=function(e){return q.isObject(e)&&!0===e.isAxiosError},Et.mergeConfig=Be,Et.AxiosHeaders=ke,Et.formToJSON=e=>ge(q.isHTMLForm(e)?new FormData(e):e),Et.getAdapter=pt,Et.HttpStatusCode=At,Et.default=Et;const Pt=Et},730:(e,t,s)=>{"use strict";var a=s(43),n=s(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)r.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function f(e,t,s,a,n,i,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=r}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,s,a){var n=g.hasOwnProperty(t)?g[t]:null;(null!==n?0!==n.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,a){if(null===t||"undefined"===typeof t||function(e,t,s,a){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,a))return!0;if(a)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,n,a)&&(s=null),a||null===n?function(e){return!!u.call(p,e)||!u.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=null===s?3!==n.type&&"":s:(t=n.attributeName,a=n.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(n=n.type)||4===n&&!0===s?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var R,M=Object.assign;function L(e){if(void 0===R)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),i=a.stack.split("\n"),r=n.length-1,l=i.length-1;1<=r&&0<=l&&n[r]!==i[l];)l--;for(;1<=r&&0<=l;r--,l--)if(n[r]!==i[l]){if(1!==r||1!==l)do{if(r--,0>--l||n[r]!==i[l]){var o="\n"+n[r].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=r&&0<=l);break}}}finally{U=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?L(e):""}function z(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case k:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case F:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return V(e(t))}catch(s){}}return null}function Y(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){a=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=W(e)?e.checked?"true":"false":e.value),(e=a)!==s&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var s=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function J(e,t){var s=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;s=q(null!=t.value?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Q(e,t);var s=q(t.value),a=t.type;if(null!=s)"number"===a?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&$(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,a){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+q(s),t=null,n=0;n<e.length;n++){if(e[n].value===s)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(i(92));if(te(s)){if(1<s.length)throw Error(i(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:q(s)}}function ie(e,t){var s=q(t.value),a=q(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=a&&(e.defaultValue=""+a)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,s,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var a=0===s.indexOf("--"),n=fe(s,t[s],a);"float"===s&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,Se=null;function ke(e){if(e=bn(e)){if("function"!==typeof Ne)throw Error(i(280));var t=e.stateNode;t&&(t=jn(t),Ne(e.stateNode,e.type,t))}}function Ce(e){we?Se?Se.push(e):Se=[e]:we=e}function Ae(){if(we){var e=we,t=Se;if(Se=we=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Ie=!1;function Fe(e,t,s){if(Ie)return e(t,s);Ie=!0;try{return Ee(e,t,s)}finally{Ie=!1,(null!==we||null!==Se)&&(Pe(),Ae())}}function De(e,t){var s=e.stateNode;if(null===s)return null;var a=jn(s);if(null===a)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(i(231,t,typeof s));return s}var _e=!1;if(d)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(de){_e=!1}function Oe(e,t,s,a,n,i,r,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var Re=!1,Me=null,Le=!1,Ue=null,Be={onError:function(e){Re=!0,Me=e}};function ze(e,t,s,a,n,i,r,l,o){Re=!1,Me=null,Oe.apply(Be,arguments)}function Ve(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var s=e,a=t;;){var n=s.return;if(null===n)break;var r=n.alternate;if(null===r){if(null!==(a=n.return)){s=a;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===s)return qe(n),e;if(r===a)return qe(n),t;r=r.sibling}throw Error(i(188))}if(s.return!==a.return)s=n,a=r;else{for(var l=!1,o=n.child;o;){if(o===s){l=!0,s=n,a=r;break}if(o===a){l=!0,a=n,s=r;break}o=o.sibling}if(!l){for(o=r.child;o;){if(o===s){l=!0,s=r,a=n;break}if(o===a){l=!0,a=r,s=n;break}o=o.sibling}if(!l)throw Error(i(189))}}if(s.alternate!==a)throw Error(i(190))}if(3!==s.tag)throw Error(i(188));return s.stateNode.current===s?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=n.unstable_scheduleCallback,$e=n.unstable_cancelCallback,Ge=n.unstable_shouldYield,Je=n.unstable_requestPaint,Qe=n.unstable_now,Xe=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,st=n.unstable_LowPriority,at=n.unstable_IdlePriority,nt=null,it=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var s=e.pendingLanes;if(0===s)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,r=268435455&s;if(0!==r){var l=r&~n;0!==l?a=ut(l):0!==(i&=r)&&(a=ut(i))}else 0!==(r=s&~n)?a=ut(r):0!==i&&(a=ut(i));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&n)&&((n=a&-a)>=(i=t&-t)||16===n&&0!==(4194240&i)))return t;if(0!==(4&a)&&(a|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)n=1<<(s=31-rt(t)),a|=e[s],t&=~n;return a}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function vt(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=s}function xt(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-rt(s),n=1<<a;n&t|e[a]&t&&(e[a]|=t),s&=~n}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,wt,St,kt,Ct=!1,At=[],Et=null,Pt=null,It=null,Ft=new Map,Dt=new Map,_t=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Rt(e,t,s,a,n,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},null!==t&&(null!==(t=bn(t))&&Nt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Mt(e){var t=xn(e.target);if(null!==t){var s=Ve(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=Ye(s)))return e.blockedOn=t,void kt(e.priority,function(){wt(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=bn(s))&&Nt(t),e.blockedOn=s,!1;var a=new(s=e.nativeEvent).constructor(s.type,s);ye=a,s.target.dispatchEvent(a),ye=null,t.shift()}return!0}function Ut(e,t,s){Lt(e)&&s.delete(t)}function Bt(){Ct=!1,null!==Et&&Lt(Et)&&(Et=null),null!==Pt&&Lt(Pt)&&(Pt=null),null!==It&&Lt(It)&&(It=null),Ft.forEach(Ut),Dt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<At.length){zt(At[0],e);for(var s=1;s<At.length;s++){var a=At[s];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&zt(Et,e),null!==Pt&&zt(Pt,e),null!==It&&zt(It,e),Ft.forEach(t),Dt.forEach(t),s=0;s<_t.length;s++)(a=_t[s]).blockedOn===e&&(a.blockedOn=null);for(;0<_t.length&&null===(s=_t[0]).blockedOn;)Mt(s),null===s.blockedOn&&_t.shift()}var Yt=y.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,s,a){var n=bt,i=Yt.transition;Yt.transition=null;try{bt=1,Kt(e,t,s,a)}finally{bt=n,Yt.transition=i}}function Ht(e,t,s,a){var n=bt,i=Yt.transition;Yt.transition=null;try{bt=4,Kt(e,t,s,a)}finally{bt=n,Yt.transition=i}}function Kt(e,t,s,a){if(qt){var n=Gt(e,t,s,a);if(null===n)Ya(e,t,a,$t,s),Ot(e,a);else if(function(e,t,s,a,n){switch(t){case"focusin":return Et=Rt(Et,e,t,s,a,n),!0;case"dragenter":return Pt=Rt(Pt,e,t,s,a,n),!0;case"mouseover":return It=Rt(It,e,t,s,a,n),!0;case"pointerover":var i=n.pointerId;return Ft.set(i,Rt(Ft.get(i)||null,e,t,s,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Dt.set(i,Rt(Dt.get(i)||null,e,t,s,a,n)),!0}return!1}(n,e,t,s,a))a.stopPropagation();else if(Ot(e,a),4&t&&-1<Tt.indexOf(e)){for(;null!==n;){var i=bn(n);if(null!==i&&jt(i),null===(i=Gt(e,t,s,a))&&Ya(e,t,a,$t,s),i===n)break;n=i}null!==n&&a.stopPropagation()}else Ya(e,t,a,null,s)}}var $t=null;function Gt(e,t,s,a){if($t=null,null!==(e=xn(e=je(a))))if(null===(t=Ve(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=Ye(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case st:return 16;case at:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function es(){if(Zt)return Zt;var e,t,s=Xt,a=s.length,n="value"in Qt?Qt.value:Qt.textContent,i=n.length;for(e=0;e<a&&s[e]===n[e];e++);var r=a-e;for(t=1;t<=r&&s[a-t]===n[i-t];t++);return Zt=n.slice(e,1<t?1-t:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ss(){return!0}function as(){return!1}function ns(e){function t(t,s,a,n,i){for(var r in this._reactName=t,this._targetInst=a,this.type=s,this.nativeEvent=n,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(n):n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ss:as,this.isPropagationStopped=as,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var is,rs,ls,os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=ns(os),ds=M({},os,{view:0,detail:0}),us=ns(ds),hs=M({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&"mousemove"===e.type?(is=e.screenX-ls.screenX,rs=e.screenY-ls.screenY):rs=is=0,ls=e),is)},movementY:function(e){return"movementY"in e?e.movementY:rs}}),ms=ns(hs),ps=ns(M({},hs,{dataTransfer:0})),fs=ns(M({},ds,{relatedTarget:0})),gs=ns(M({},os,{animationName:0,elapsedTime:0,pseudoElement:0})),vs=M({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xs=ns(vs),bs=ns(M({},os,{data:0})),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},js={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ns={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ws(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ns[e])&&!!t[e]}function Ss(){return ws}var ks=M({},ds,{key:function(e){if(e.key){var t=ys[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ts(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?js[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(e){return"keypress"===e.type?ts(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ts(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cs=ns(ks),As=ns(M({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Es=ns(M({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss})),Ps=ns(M({},os,{propertyName:0,elapsedTime:0,pseudoElement:0})),Is=M({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fs=ns(Is),Ds=[9,13,27,32],_s=d&&"CompositionEvent"in window,Ts=null;d&&"documentMode"in document&&(Ts=document.documentMode);var Os=d&&"TextEvent"in window&&!Ts,Rs=d&&(!_s||Ts&&8<Ts&&11>=Ts),Ms=String.fromCharCode(32),Ls=!1;function Us(e,t){switch(e){case"keyup":return-1!==Ds.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bs(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zs=!1;var Vs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ys(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vs[e.type]:"textarea"===t}function qs(e,t,s,a){Ce(a),0<(t=Wa(t,"onChange")).length&&(s=new cs("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Ws=null,Hs=null;function Ks(e){Ma(e,0)}function $s(e){if(K(yn(e)))return e}function Gs(e,t){if("change"===e)return t}var Js=!1;if(d){var Qs;if(d){var Xs="oninput"in document;if(!Xs){var Zs=document.createElement("div");Zs.setAttribute("oninput","return;"),Xs="function"===typeof Zs.oninput}Qs=Xs}else Qs=!1;Js=Qs&&(!document.documentMode||9<document.documentMode)}function ea(){Ws&&(Ws.detachEvent("onpropertychange",ta),Hs=Ws=null)}function ta(e){if("value"===e.propertyName&&$s(Hs)){var t=[];qs(t,Hs,e,je(e)),Fe(Ks,t)}}function sa(e,t,s){"focusin"===e?(ea(),Hs=s,(Ws=t).attachEvent("onpropertychange",ta)):"focusout"===e&&ea()}function aa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $s(Hs)}function na(e,t){if("click"===e)return $s(t)}function ia(e,t){if("input"===e||"change"===e)return $s(t)}var ra="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(ra(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!u.call(t,n)||!ra(e[n],t[n]))return!1}return!0}function oa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var s,a=oa(e);for(e=0;a;){if(3===a.nodeType){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=oa(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ua(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(a){s=!1}if(!s)break;t=$((e=t.contentWindow).document)}return t}function ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ma(e){var t=ua(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&da(s.ownerDocument.documentElement,s)){if(null!==a&&ha(s))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=s.textContent.length,i=Math.min(a.start,n);a=void 0===a.end?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=ca(s,i);var r=ca(s,a);n&&r&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pa=d&&"documentMode"in document&&11>=document.documentMode,fa=null,ga=null,va=null,xa=!1;function ba(e,t,s){var a=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;xa||null==fa||fa!==$(a)||("selectionStart"in(a=fa)&&ha(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},va&&la(va,a)||(va=a,0<(a=Wa(ga,"onSelect")).length&&(t=new cs("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=fa)))}function ya(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ja={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},Na={},wa={};function Sa(e){if(Na[e])return Na[e];if(!ja[e])return e;var t,s=ja[e];for(t in s)if(s.hasOwnProperty(t)&&t in wa)return Na[e]=s[t];return e}d&&(wa=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);var ka=Sa("animationend"),Ca=Sa("animationiteration"),Aa=Sa("animationstart"),Ea=Sa("transitionend"),Pa=new Map,Ia="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fa(e,t){Pa.set(e,t),o(t,[e])}for(var Da=0;Da<Ia.length;Da++){var _a=Ia[Da];Fa(_a.toLowerCase(),"on"+(_a[0].toUpperCase()+_a.slice(1)))}Fa(ka,"onAnimationEnd"),Fa(Ca,"onAnimationIteration"),Fa(Aa,"onAnimationStart"),Fa("dblclick","onDoubleClick"),Fa("focusin","onFocus"),Fa("focusout","onBlur"),Fa(Ea,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function Ra(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,a,n,r,l,o,c){if(ze.apply(this,arguments),Re){if(!Re)throw Error(i(198));var d=Me;Re=!1,Me=null,Le||(Le=!0,Ue=d)}}(a,t,void 0,e),e.currentTarget=null}function Ma(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==i&&n.isPropagationStopped())break e;Ra(n,l,c),i=o}else for(r=0;r<a.length;r++){if(o=(l=a[r]).instance,c=l.currentTarget,l=l.listener,o!==i&&n.isPropagationStopped())break e;Ra(n,l,c),i=o}}}if(Le)throw e=Ue,Le=!1,Ue=null,e}function La(e,t){var s=t[fn];void 0===s&&(s=t[fn]=new Set);var a=e+"__bubble";s.has(a)||(Va(t,e,2,!1),s.add(a))}function Ua(e,t,s){var a=0;t&&(a|=4),Va(s,e,a,t)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function za(e){if(!e[Ba]){e[Ba]=!0,r.forEach(function(t){"selectionchange"!==t&&(Oa.has(t)||Ua(t,!1,e),Ua(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ba]||(t[Ba]=!0,Ua("selectionchange",!1,t))}}function Va(e,t,s,a){switch(Jt(t)){case 1:var n=Wt;break;case 4:n=Ht;break;default:n=Kt}s=n.bind(null,t,s,e),n=void 0,!_e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):void 0!==n?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function Ya(e,t,s,a,n){var i=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var r=a.tag;if(3===r||4===r){var l=a.stateNode.containerInfo;if(l===n||8===l.nodeType&&l.parentNode===n)break;if(4===r)for(r=a.return;null!==r;){var o=r.tag;if((3===o||4===o)&&((o=r.stateNode.containerInfo)===n||8===o.nodeType&&o.parentNode===n))return;r=r.return}for(;null!==l;){if(null===(r=xn(l)))return;if(5===(o=r.tag)||6===o){a=i=r;continue e}l=l.parentNode}}a=a.return}Fe(function(){var a=i,n=je(s),r=[];e:{var l=Pa.get(e);if(void 0!==l){var o=cs,c=e;switch(e){case"keypress":if(0===ts(s))break e;case"keydown":case"keyup":o=Cs;break;case"focusin":c="focus",o=fs;break;case"focusout":c="blur",o=fs;break;case"beforeblur":case"afterblur":o=fs;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=ps;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Es;break;case ka:case Ca:case Aa:o=gs;break;case Ea:o=Ps;break;case"scroll":o=us;break;case"wheel":o=Fs;break;case"copy":case"cut":case"paste":o=xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=As}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==l?l+"Capture":null:l;d=[];for(var m,p=a;null!==p;){var f=(m=p).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=De(p,h))&&d.push(qa(p,f,m)))),u)break;p=p.return}0<d.length&&(l=new o(l,c,null,s,n),r.push({event:l,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||s===ye||!(c=s.relatedTarget||s.fromElement)||!xn(c)&&!c[pn])&&(o||l)&&(l=n.window===n?n:(l=n.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=a,null!==(c=(c=s.relatedTarget||s.toElement)?xn(c):null)&&(c!==(u=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=a),o!==c)){if(d=ms,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=As,f="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==o?l:yn(o),m=null==c?l:yn(c),(l=new d(f,p+"leave",o,s,n)).target=u,l.relatedTarget=m,f=null,xn(n)===a&&((d=new d(h,p+"enter",c,s,n)).target=m,d.relatedTarget=u,f=d),u=f,o&&c)e:{for(h=c,p=0,m=d=o;m;m=Ha(m))p++;for(m=0,f=h;f;f=Ha(f))m++;for(;0<p-m;)d=Ha(d),p--;for(;0<m-p;)h=Ha(h),m--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=Ha(d),h=Ha(h)}d=null}else d=null;null!==o&&Ka(r,l,o,d,!1),null!==c&&null!==u&&Ka(r,u,c,d,!0)}if("select"===(o=(l=a?yn(a):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var g=Gs;else if(Ys(l))if(Js)g=ia;else{g=aa;var v=sa}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=na);switch(g&&(g=g(e,a))?qs(r,g,s,n):(v&&v(e,l,a),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&ee(l,"number",l.value)),v=a?yn(a):window,e){case"focusin":(Ys(v)||"true"===v.contentEditable)&&(fa=v,ga=a,va=null);break;case"focusout":va=ga=fa=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,ba(r,s,n);break;case"selectionchange":if(pa)break;case"keydown":case"keyup":ba(r,s,n)}var x;if(_s)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zs?Us(e,s)&&(b="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(b="onCompositionStart");b&&(Rs&&"ko"!==s.locale&&(zs||"onCompositionStart"!==b?"onCompositionEnd"===b&&zs&&(x=es()):(Xt="value"in(Qt=n)?Qt.value:Qt.textContent,zs=!0)),0<(v=Wa(a,b)).length&&(b=new bs(b,e,null,s,n),r.push({event:b,listeners:v}),x?b.data=x:null!==(x=Bs(s))&&(b.data=x))),(x=Os?function(e,t){switch(e){case"compositionend":return Bs(t);case"keypress":return 32!==t.which?null:(Ls=!0,Ms);case"textInput":return(e=t.data)===Ms&&Ls?null:e;default:return null}}(e,s):function(e,t){if(zs)return"compositionend"===e||!_s&&Us(e,t)?(e=es(),Zt=Xt=Qt=null,zs=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rs&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(a=Wa(a,"onBeforeInput")).length&&(n=new bs("onBeforeInput","beforeinput",null,s,n),r.push({event:n,listeners:a}),n.data=x))}Ma(r,t)})}function qa(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Wa(e,t){for(var s=t+"Capture",a=[];null!==e;){var n=e,i=n.stateNode;5===n.tag&&null!==i&&(n=i,null!=(i=De(e,s))&&a.unshift(qa(e,i,n)),null!=(i=De(e,t))&&a.push(qa(e,i,n))),e=e.return}return a}function Ha(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ka(e,t,s,a,n){for(var i=t._reactName,r=[];null!==s&&s!==a;){var l=s,o=l.alternate,c=l.stateNode;if(null!==o&&o===a)break;5===l.tag&&null!==c&&(l=c,n?null!=(o=De(s,i))&&r.unshift(qa(s,o,l)):n||null!=(o=De(s,i))&&r.push(qa(s,o,l))),s=s.return}0!==r.length&&e.push({event:t,listeners:r})}var $a=/\r\n?/g,Ga=/\u0000|\uFFFD/g;function Ja(e){return("string"===typeof e?e:""+e).replace($a,"\n").replace(Ga,"")}function Qa(e,t,s){if(t=Ja(t),Ja(e)!==t&&s)throw Error(i(425))}function Xa(){}var Za=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sn="function"===typeof setTimeout?setTimeout:void 0,an="function"===typeof clearTimeout?clearTimeout:void 0,nn="function"===typeof Promise?Promise:void 0,rn="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nn?function(e){return nn.resolve(null).then(e).catch(ln)}:sn;function ln(e){setTimeout(function(){throw e})}function on(e,t){var s=t,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&8===n.nodeType)if("/$"===(s=n.data)){if(0===a)return e.removeChild(n),void Vt(t);a--}else"$"!==s&&"$?"!==s&&"$!"!==s||a++;s=n}while(s);Vt(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),hn="__reactFiber$"+un,mn="__reactProps$"+un,pn="__reactContainer$"+un,fn="__reactEvents$"+un,gn="__reactListeners$"+un,vn="__reactHandles$"+un;function xn(e){var t=e[hn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[pn]||s[hn]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=dn(e);null!==e;){if(s=e[hn])return s;e=dn(e)}return t}s=(e=s).parentNode}return null}function bn(e){return!(e=e[hn]||e[pn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function jn(e){return e[mn]||null}var Nn=[],wn=-1;function Sn(e){return{current:e}}function kn(e){0>wn||(e.current=Nn[wn],Nn[wn]=null,wn--)}function Cn(e,t){wn++,Nn[wn]=e.current,e.current=t}var An={},En=Sn(An),Pn=Sn(!1),In=An;function Fn(e,t){var s=e.type.contextTypes;if(!s)return An;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n,i={};for(n in s)i[n]=t[n];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Dn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _n(){kn(Pn),kn(En)}function Tn(e,t,s){if(En.current!==An)throw Error(i(168));Cn(En,t),Cn(Pn,s)}function On(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return s;for(var n in a=a.getChildContext())if(!(n in t))throw Error(i(108,Y(e)||"Unknown",n));return M({},s,a)}function Rn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||An,In=En.current,Cn(En,e),Cn(Pn,Pn.current),!0}function Mn(e,t,s){var a=e.stateNode;if(!a)throw Error(i(169));s?(e=On(e,t,In),a.__reactInternalMemoizedMergedChildContext=e,kn(Pn),kn(En),Cn(En,e)):kn(Pn),Cn(Pn,s)}var Ln=null,Un=!1,Bn=!1;function zn(e){null===Ln?Ln=[e]:Ln.push(e)}function Vn(){if(!Bn&&null!==Ln){Bn=!0;var e=0,t=bt;try{var s=Ln;for(bt=1;e<s.length;e++){var a=s[e];do{a=a(!0)}while(null!==a)}Ln=null,Un=!1}catch(n){throw null!==Ln&&(Ln=Ln.slice(e+1)),Ke(Ze,Vn),n}finally{bt=t,Bn=!1}}return null}var Yn=[],qn=0,Wn=null,Hn=0,Kn=[],$n=0,Gn=null,Jn=1,Qn="";function Xn(e,t){Yn[qn++]=Hn,Yn[qn++]=Wn,Wn=e,Hn=t}function Zn(e,t,s){Kn[$n++]=Jn,Kn[$n++]=Qn,Kn[$n++]=Gn,Gn=e;var a=Jn;e=Qn;var n=32-rt(a)-1;a&=~(1<<n),s+=1;var i=32-rt(t)+n;if(30<i){var r=n-n%5;i=(a&(1<<r)-1).toString(32),a>>=r,n-=r,Jn=1<<32-rt(t)+n|s<<n|a,Qn=i+e}else Jn=1<<i|s<<n|a,Qn=e}function ei(e){null!==e.return&&(Xn(e,1),Zn(e,1,0))}function ti(e){for(;e===Wn;)Wn=Yn[--qn],Yn[qn]=null,Hn=Yn[--qn],Yn[qn]=null;for(;e===Gn;)Gn=Kn[--$n],Kn[$n]=null,Qn=Kn[--$n],Kn[$n]=null,Jn=Kn[--$n],Kn[$n]=null}var si=null,ai=null,ni=!1,ii=null;function ri(e,t){var s=Fc(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function li(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,si=e,ai=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,si=e,ai=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==Gn?{id:Jn,overflow:Qn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=Fc(18,null,null,0)).stateNode=t,s.return=e,e.child=s,si=e,ai=null,!0);default:return!1}}function oi(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ni){var t=ai;if(t){var s=t;if(!li(e,t)){if(oi(e))throw Error(i(418));t=cn(s.nextSibling);var a=si;t&&li(e,t)?ri(a,s):(e.flags=-4097&e.flags|2,ni=!1,si=e)}}else{if(oi(e))throw Error(i(418));e.flags=-4097&e.flags|2,ni=!1,si=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;si=e}function ui(e){if(e!==si)return!1;if(!ni)return di(e),ni=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=ai)){if(oi(e))throw hi(),Error(i(418));for(;t;)ri(e,t),t=cn(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){ai=cn(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}ai=null}}else ai=si?cn(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ai;e;)e=cn(e.nextSibling)}function mi(){ai=si=null,ni=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var fi=y.ReactCurrentBatchConfig;function gi(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(i(309));var a=s.stateNode}if(!a)throw Error(i(147,e));var n=a,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=n.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(i(284));if(!s._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,s){if(e){var a=t.deletions;null===a?(t.deletions=[s],t.flags|=16):a.push(s)}}function s(s,a){if(!e)return null;for(;null!==a;)t(s,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function r(t,s,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<s?(t.flags|=2,s):a:(t.flags|=2,s):(t.flags|=1048576,s)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,s,a){return null===t||6!==t.tag?((t=Mc(s,e.mode,a)).return=e,t):((t=n(t,s)).return=e,t)}function c(e,t,s,a){var i=s.type;return i===w?u(e,t,s.props.children,a,s.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===D&&xi(i)===t.type)?((a=n(t,s.props)).ref=gi(e,t,s),a.return=e,a):((a=Tc(s.type,s.key,s.props,null,e.mode,a)).ref=gi(e,t,s),a.return=e,a)}function d(e,t,s,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Lc(s,e.mode,a)).return=e,t):((t=n(t,s.children||[])).return=e,t)}function u(e,t,s,a,i){return null===t||7!==t.tag?((t=Oc(s,e.mode,a,i)).return=e,t):((t=n(t,s)).return=e,t)}function h(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(s=Tc(t.type,t.key,t.props,null,e.mode,s)).ref=gi(e,null,t),s.return=e,s;case N:return(t=Lc(t,e.mode,s)).return=e,t;case D:return h(e,(0,t._init)(t._payload),s)}if(te(t)||O(t))return(t=Oc(t,e.mode,s,null)).return=e,t;vi(e,t)}return null}function m(e,t,s,a){var n=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==n?null:o(e,t,""+s,a);if("object"===typeof s&&null!==s){switch(s.$$typeof){case j:return s.key===n?c(e,t,s,a):null;case N:return s.key===n?d(e,t,s,a):null;case D:return m(e,t,(n=s._init)(s._payload),a)}if(te(s)||O(s))return null!==n?null:u(e,t,s,a,null);vi(e,s)}return null}function p(e,t,s,a,n){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(s)||null,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return c(t,e=e.get(null===a.key?s:a.key)||null,a,n);case N:return d(t,e=e.get(null===a.key?s:a.key)||null,a,n);case D:return p(e,t,s,(0,a._init)(a._payload),n)}if(te(a)||O(a))return u(t,e=e.get(s)||null,a,n,null);vi(t,a)}return null}function f(n,i,l,o){for(var c=null,d=null,u=i,f=i=0,g=null;null!==u&&f<l.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=m(n,u,l[f],o);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(n,u),i=r(v,i,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===l.length)return s(n,u),ni&&Xn(n,f),c;if(null===u){for(;f<l.length;f++)null!==(u=h(n,l[f],o))&&(i=r(u,i,f),null===d?c=u:d.sibling=u,d=u);return ni&&Xn(n,f),c}for(u=a(n,u);f<l.length;f++)null!==(g=p(u,n,f,l[f],o))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),i=r(g,i,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(n,e)}),ni&&Xn(n,f),c}function g(n,l,o,c){var d=O(o);if("function"!==typeof d)throw Error(i(150));if(null==(o=d.call(o)))throw Error(i(151));for(var u=d=null,f=l,g=l=0,v=null,x=o.next();null!==f&&!x.done;g++,x=o.next()){f.index>g?(v=f,f=null):v=f.sibling;var b=m(n,f,x.value,c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(n,f),l=r(b,l,g),null===u?d=b:u.sibling=b,u=b,f=v}if(x.done)return s(n,f),ni&&Xn(n,g),d;if(null===f){for(;!x.done;g++,x=o.next())null!==(x=h(n,x.value,c))&&(l=r(x,l,g),null===u?d=x:u.sibling=x,u=x);return ni&&Xn(n,g),d}for(f=a(n,f);!x.done;g++,x=o.next())null!==(x=p(f,n,g,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?g:x.key),l=r(x,l,g),null===u?d=x:u.sibling=x,u=x);return e&&f.forEach(function(e){return t(n,e)}),ni&&Xn(n,g),d}return function e(a,i,r,o){if("object"===typeof r&&null!==r&&r.type===w&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case j:e:{for(var c=r.key,d=i;null!==d;){if(d.key===c){if((c=r.type)===w){if(7===d.tag){s(a,d.sibling),(i=n(d,r.props.children)).return=a,a=i;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&xi(c)===d.type){s(a,d.sibling),(i=n(d,r.props)).ref=gi(a,d,r),i.return=a,a=i;break e}s(a,d);break}t(a,d),d=d.sibling}r.type===w?((i=Oc(r.props.children,a.mode,o,r.key)).return=a,a=i):((o=Tc(r.type,r.key,r.props,null,a.mode,o)).ref=gi(a,i,r),o.return=a,a=o)}return l(a);case N:e:{for(d=r.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===r.containerInfo&&i.stateNode.implementation===r.implementation){s(a,i.sibling),(i=n(i,r.children||[])).return=a,a=i;break e}s(a,i);break}t(a,i),i=i.sibling}(i=Lc(r,a.mode,o)).return=a,a=i}return l(a);case D:return e(a,i,(d=r._init)(r._payload),o)}if(te(r))return f(a,i,r,o);if(O(r))return g(a,i,r,o);vi(a,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==i&&6===i.tag?(s(a,i.sibling),(i=n(i,r)).return=a,a=i):(s(a,i),(i=Mc(r,a.mode,o)).return=a,a=i),l(a)):s(a,i)}}var yi=bi(!0),ji=bi(!1),Ni=Sn(null),wi=null,Si=null,ki=null;function Ci(){ki=Si=wi=null}function Ai(e){var t=Ni.current;kn(Ni),e._currentValue=t}function Ei(e,t,s){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function Pi(e,t){wi=e,ki=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xl=!0),e.firstContext=null)}function Ii(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===wi)throw Error(i(308));Si=e,wi.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Fi=null;function Di(e){null===Fi?Fi=[e]:Fi.push(e)}function _i(e,t,s,a){var n=t.interleaved;return null===n?(s.next=s,Di(t)):(s.next=n.next,n.next=s),t.interleaved=s,Ti(e,a)}function Ti(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var Oi=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,s){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Eo)){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Ti(e,s)}return null===(n=a.interleaved)?(t.next=t,Di(a)):(t.next=n.next,n.next=t),a.interleaved=t,Ti(e,s)}function Bi(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var a=t.lanes;s|=a&=e.pendingLanes,t.lanes=s,xt(e,s)}}function zi(e,t){var s=e.updateQueue,a=e.alternate;if(null!==a&&s===(a=a.updateQueue)){var n=null,i=null;if(null!==(s=s.firstBaseUpdate)){do{var r={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===i?n=i=r:i=i.next=r,s=s.next}while(null!==s);null===i?n=i=t:i=i.next=t}else n=i=t;return s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Vi(e,t,s,a){var n=e.updateQueue;Oi=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,l=n.shared.pending;if(null!==l){n.shared.pending=null;var o=l,c=o.next;o.next=null,null===r?i=c:r.next=c,r=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==r&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==i){var u=n.baseState;for(r=0,d=c=o=null,l=i;;){var h=l.lane,m=l.eventTime;if((a&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,f=l;switch(h=t,m=s,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(m,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(m,u,h):p)||void 0===h)break e;u=M({},u,h);break e;case 2:Oi=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=n.effects)?n.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=m,o=u):d=d.next=m,r|=h;if(null===(l=l.next)){if(null===(l=n.shared.pending))break;l=(h=l).next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}if(null===d&&(o=u),n.baseState=o,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{r|=n.lane,n=n.next}while(n!==t)}else null===i&&(n.shared.lanes=0);Ro|=r,e.lanes=r,e.memoizedState=u}}function Yi(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(null!==n){if(a.callback=null,a=s,"function"!==typeof n)throw Error(i(191,n));n.call(a)}}}var qi={},Wi=Sn(qi),Hi=Sn(qi),Ki=Sn(qi);function $i(e){if(e===qi)throw Error(i(174));return e}function Gi(e,t){switch(Cn(Ki,t),Cn(Hi,e),Cn(Wi,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}kn(Wi),Cn(Wi,t)}function Ji(){kn(Wi),kn(Hi),kn(Ki)}function Qi(e){$i(Ki.current);var t=$i(Wi.current),s=oe(t,e.type);t!==s&&(Cn(Hi,e),Cn(Wi,s))}function Xi(e){Hi.current===e&&(kn(Wi),kn(Hi))}var Zi=Sn(0);function er(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=[];function sr(){for(var e=0;e<tr.length;e++)tr[e]._workInProgressVersionPrimary=null;tr.length=0}var ar=y.ReactCurrentDispatcher,nr=y.ReactCurrentBatchConfig,ir=0,rr=null,lr=null,or=null,cr=!1,dr=!1,ur=0,hr=0;function mr(){throw Error(i(321))}function pr(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ra(e[s],t[s]))return!1;return!0}function fr(e,t,s,a,n,r){if(ir=r,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ar.current=null===e||null===e.memoizedState?Xr:Zr,e=s(a,n),dr){r=0;do{if(dr=!1,ur=0,25<=r)throw Error(i(301));r+=1,or=lr=null,t.updateQueue=null,ar.current=el,e=s(a,n)}while(dr)}if(ar.current=Qr,t=null!==lr&&null!==lr.next,ir=0,or=lr=rr=null,cr=!1,t)throw Error(i(300));return e}function gr(){var e=0!==ur;return ur=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===or?rr.memoizedState=or=e:or=or.next=e,or}function xr(){if(null===lr){var e=rr.alternate;e=null!==e?e.memoizedState:null}else e=lr.next;var t=null===or?rr.memoizedState:or.next;if(null!==t)or=t,lr=e;else{if(null===e)throw Error(i(310));e={memoizedState:(lr=e).memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},null===or?rr.memoizedState=or=e:or=or.next=e}return or}function br(e,t){return"function"===typeof t?t(e):t}function yr(e){var t=xr(),s=t.queue;if(null===s)throw Error(i(311));s.lastRenderedReducer=e;var a=lr,n=a.baseQueue,r=s.pending;if(null!==r){if(null!==n){var l=n.next;n.next=r.next,r.next=l}a.baseQueue=n=r,s.pending=null}if(null!==n){r=n.next,a=a.baseState;var o=l=null,c=null,d=r;do{var u=d.lane;if((ir&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=h,l=a):c=c.next=h,rr.lanes|=u,Ro|=u}d=d.next}while(null!==d&&d!==r);null===c?l=a:c.next=o,ra(a,t.memoizedState)||(xl=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=c,s.lastRenderedState=a}if(null!==(e=s.interleaved)){n=e;do{r=n.lane,rr.lanes|=r,Ro|=r,n=n.next}while(n!==e)}else null===n&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function jr(e){var t=xr(),s=t.queue;if(null===s)throw Error(i(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,r=t.memoizedState;if(null!==n){s.pending=null;var l=n=n.next;do{r=e(r,l.action),l=l.next}while(l!==n);ra(r,t.memoizedState)||(xl=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),s.lastRenderedState=r}return[r,a]}function Nr(){}function wr(e,t){var s=rr,a=xr(),n=t(),r=!ra(a.memoizedState,n);if(r&&(a.memoizedState=n,xl=!0),a=a.queue,Or(Cr.bind(null,s,a,e),[e]),a.getSnapshot!==t||r||null!==or&&1&or.memoizedState.tag){if(s.flags|=2048,Ir(9,kr.bind(null,s,a,n,t),void 0,null),null===Po)throw Error(i(349));0!==(30&ir)||Sr(s,t,n)}return n}function Sr(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function kr(e,t,s,a){t.value=s,t.getSnapshot=a,Ar(t)&&Er(e)}function Cr(e,t,s){return s(function(){Ar(t)&&Er(e)})}function Ar(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ra(e,s)}catch(a){return!0}}function Er(e){var t=Ti(e,1);null!==t&&sc(t,e,1,-1)}function Pr(e){var t=vr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:e},t.queue=e,e=e.dispatch=Kr.bind(null,rr,e),[t.memoizedState,e]}function Ir(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e),e}function Fr(){return xr().memoizedState}function Dr(e,t,s,a){var n=vr();rr.flags|=e,n.memoizedState=Ir(1|t,s,void 0,void 0===a?null:a)}function _r(e,t,s,a){var n=xr();a=void 0===a?null:a;var i=void 0;if(null!==lr){var r=lr.memoizedState;if(i=r.destroy,null!==a&&pr(a,r.deps))return void(n.memoizedState=Ir(t,s,i,a))}rr.flags|=e,n.memoizedState=Ir(1|t,s,i,a)}function Tr(e,t){return Dr(8390656,8,e,t)}function Or(e,t){return _r(2048,8,e,t)}function Rr(e,t){return _r(4,2,e,t)}function Mr(e,t){return _r(4,4,e,t)}function Lr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ur(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,_r(4,4,Lr.bind(null,t,e),s)}function Br(){}function zr(e,t){var s=xr();t=void 0===t?null:t;var a=s.memoizedState;return null!==a&&null!==t&&pr(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function Vr(e,t){var s=xr();t=void 0===t?null:t;var a=s.memoizedState;return null!==a&&null!==t&&pr(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function Yr(e,t,s){return 0===(21&ir)?(e.baseState&&(e.baseState=!1,xl=!0),e.memoizedState=s):(ra(s,t)||(s=ft(),rr.lanes|=s,Ro|=s,e.baseState=!0),t)}function qr(e,t){var s=bt;bt=0!==s&&4>s?s:4,e(!0);var a=nr.transition;nr.transition={};try{e(!1),t()}finally{bt=s,nr.transition=a}}function Wr(){return xr().memoizedState}function Hr(e,t,s){var a=tc(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},$r(e))Gr(t,s);else if(null!==(s=_i(e,t,s,a))){sc(s,e,a,ec()),Jr(s,t,a)}}function Kr(e,t,s){var a=tc(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if($r(e))Gr(t,n);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var r=t.lastRenderedState,l=i(r,s);if(n.hasEagerState=!0,n.eagerState=l,ra(l,r)){var o=t.interleaved;return null===o?(n.next=n,Di(t)):(n.next=o.next,o.next=n),void(t.interleaved=n)}}catch(c){}null!==(s=_i(e,t,n,a))&&(sc(s,e,a,n=ec()),Jr(s,t,a))}}function $r(e){var t=e.alternate;return e===rr||null!==t&&t===rr}function Gr(e,t){dr=cr=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Jr(e,t,s){if(0!==(4194240&s)){var a=t.lanes;s|=a&=e.pendingLanes,t.lanes=s,xt(e,s)}}var Qr={readContext:Ii,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},Xr={readContext:Ii,useCallback:function(e,t){return vr().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:Tr,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Dr(4194308,4,Lr.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Dr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dr(4,2,e,t)},useMemo:function(e,t){var s=vr();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=vr();return t=void 0!==s?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Hr.bind(null,rr,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},vr().memoizedState=e},useState:Pr,useDebugValue:Br,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=Pr(!1),t=e[0];return e=qr.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=rr,n=vr();if(ni){if(void 0===s)throw Error(i(407));s=s()}else{if(s=t(),null===Po)throw Error(i(349));0!==(30&ir)||Sr(a,t,s)}n.memoizedState=s;var r={value:s,getSnapshot:t};return n.queue=r,Tr(Cr.bind(null,a,r,e),[e]),a.flags|=2048,Ir(9,kr.bind(null,a,r,s,t),void 0,null),s},useId:function(){var e=vr(),t=Po.identifierPrefix;if(ni){var s=Qn;t=":"+t+"R"+(s=(Jn&~(1<<32-rt(Jn)-1)).toString(32)+s),0<(s=ur++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=hr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zr={readContext:Ii,useCallback:zr,useContext:Ii,useEffect:Or,useImperativeHandle:Ur,useInsertionEffect:Rr,useLayoutEffect:Mr,useMemo:Vr,useReducer:yr,useRef:Fr,useState:function(){return yr(br)},useDebugValue:Br,useDeferredValue:function(e){return Yr(xr(),lr.memoizedState,e)},useTransition:function(){return[yr(br)[0],xr().memoizedState]},useMutableSource:Nr,useSyncExternalStore:wr,useId:Wr,unstable_isNewReconciler:!1},el={readContext:Ii,useCallback:zr,useContext:Ii,useEffect:Or,useImperativeHandle:Ur,useInsertionEffect:Rr,useLayoutEffect:Mr,useMemo:Vr,useReducer:jr,useRef:Fr,useState:function(){return jr(br)},useDebugValue:Br,useDeferredValue:function(e){var t=xr();return null===lr?t.memoizedState=e:Yr(t,lr.memoizedState,e)},useTransition:function(){return[jr(br)[0],xr().memoizedState]},useMutableSource:Nr,useSyncExternalStore:wr,useId:Wr,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var s in t=M({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function sl(e,t,s,a){s=null===(s=s(a,t=e.memoizedState))||void 0===s?t:M({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var al={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=ec(),n=tc(e),i=Li(a,n);i.payload=t,void 0!==s&&null!==s&&(i.callback=s),null!==(t=Ui(e,i,n))&&(sc(t,e,n,a),Bi(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=ec(),n=tc(e),i=Li(a,n);i.tag=1,i.payload=t,void 0!==s&&null!==s&&(i.callback=s),null!==(t=Ui(e,i,n))&&(sc(t,e,n,a),Bi(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ec(),a=tc(e),n=Li(s,a);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Ui(e,n,a))&&(sc(t,e,a,s),Bi(t,e,a))}};function nl(e,t,s,a,n,i,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,i,r):!t.prototype||!t.prototype.isPureReactComponent||(!la(s,a)||!la(n,i))}function il(e,t,s){var a=!1,n=An,i=t.contextType;return"object"===typeof i&&null!==i?i=Ii(i):(n=Dn(t)?In:En.current,i=(a=null!==(a=t.contextTypes)&&void 0!==a)?Fn(e,n):An),t=new t(s,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function rl(e,t,s,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function ll(e,t,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},Ri(e);var i=t.contextType;"object"===typeof i&&null!==i?n.context=Ii(i):(i=Dn(t)?In:En.current,n.context=Fn(e,i)),n.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(sl(e,t,i,s),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&al.enqueueReplaceState(n,n.state,null),Vi(e,s,n,a),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var s="",a=t;do{s+=z(a),a=a.return}while(a);var n=s}catch(i){n="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:n,digest:null}}function cl(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var ul="function"===typeof WeakMap?WeakMap:Map;function hl(e,t,s){(s=Li(-1,s)).tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){qo||(qo=!0,Wo=a),dl(0,t)},s}function ml(e,t,s){(s=Li(-1,s)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var n=t.value;s.payload=function(){return a(n)},s.callback=function(){dl(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(s.callback=function(){dl(0,t),"function"!==typeof a&&(null===Ho?Ho=new Set([this]):Ho.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function pl(e,t,s){var a=e.pingCache;if(null===a){a=e.pingCache=new ul;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(s)||(n.add(s),e=kc.bind(null,e,t,s),t.then(e,e))}function fl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gl(e,t,s,a,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=Li(-1,1)).tag=2,Ui(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var vl=y.ReactCurrentOwner,xl=!1;function bl(e,t,s,a){t.child=null===e?ji(t,null,s,a):yi(t,e.child,s,a)}function yl(e,t,s,a,n){s=s.render;var i=t.ref;return Pi(t,n),a=fr(e,t,s,a,i,n),s=gr(),null===e||xl?(ni&&s&&ei(t),t.flags|=1,bl(e,t,a,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Yl(e,t,n))}function jl(e,t,s,a,n){if(null===e){var i=s.type;return"function"!==typeof i||Dc(i)||void 0!==i.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=Tc(s.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Nl(e,t,i,a,n))}if(i=e.child,0===(e.lanes&n)){var r=i.memoizedProps;if((s=null!==(s=s.compare)?s:la)(r,a)&&e.ref===t.ref)return Yl(e,t,n)}return t.flags|=1,(e=_c(i,a)).ref=t.ref,e.return=t,t.child=e}function Nl(e,t,s,a,n){if(null!==e){var i=e.memoizedProps;if(la(i,a)&&e.ref===t.ref){if(xl=!1,t.pendingProps=a=i,0===(e.lanes&n))return t.lanes=e.lanes,Yl(e,t,n);0!==(131072&e.flags)&&(xl=!0)}}return kl(e,t,s,a,n)}function wl(e,t,s){var a=t.pendingProps,n=a.children,i=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(_o,Do),Do|=s;else{if(0===(1073741824&s))return e=null!==i?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cn(_o,Do),Do|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==i?i.baseLanes:s,Cn(_o,Do),Do|=a}else null!==i?(a=i.baseLanes|s,t.memoizedState=null):a=s,Cn(_o,Do),Do|=a;return bl(e,t,n,s),t.child}function Sl(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function kl(e,t,s,a,n){var i=Dn(s)?In:En.current;return i=Fn(t,i),Pi(t,n),s=fr(e,t,s,a,i,n),a=gr(),null===e||xl?(ni&&a&&ei(t),t.flags|=1,bl(e,t,s,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Yl(e,t,n))}function Cl(e,t,s,a,n){if(Dn(s)){var i=!0;Rn(t)}else i=!1;if(Pi(t,n),null===t.stateNode)Vl(e,t),il(t,s,a),ll(t,s,a,n),a=!0;else if(null===e){var r=t.stateNode,l=t.memoizedProps;r.props=l;var o=r.context,c=s.contextType;"object"===typeof c&&null!==c?c=Ii(c):c=Fn(t,c=Dn(s)?In:En.current);var d=s.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate;u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(l!==a||o!==c)&&rl(t,r,a,c),Oi=!1;var h=t.memoizedState;r.state=h,Vi(t,a,r,n),o=t.memoizedState,l!==a||h!==o||Pn.current||Oi?("function"===typeof d&&(sl(t,s,d,a),o=t.memoizedState),(l=Oi||nl(t,s,l,a,h,o,c))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),r.props=a,r.state=o,r.context=c,a=l):("function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Mi(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),r.props=c,u=t.pendingProps,h=r.context,"object"===typeof(o=s.contextType)&&null!==o?o=Ii(o):o=Fn(t,o=Dn(s)?In:En.current);var m=s.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(l!==u||h!==o)&&rl(t,r,a,o),Oi=!1,h=t.memoizedState,r.state=h,Vi(t,a,r,n);var p=t.memoizedState;l!==u||h!==p||Pn.current||Oi?("function"===typeof m&&(sl(t,s,m,a),p=t.memoizedState),(c=Oi||nl(t,s,c,a,h,p,o)||!1)?(d||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(a,p,o),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(a,p,o)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),r.props=a,r.state=p,r.context=o,a=c):("function"!==typeof r.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Al(e,t,s,a,i,n)}function Al(e,t,s,a,n,i){Sl(e,t);var r=0!==(128&t.flags);if(!a&&!r)return n&&Mn(t,s,!1),Yl(e,t,i);a=t.stateNode,vl.current=t;var l=r&&"function"!==typeof s.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&r?(t.child=yi(t,e.child,null,i),t.child=yi(t,null,l,i)):bl(e,t,l,i),t.memoizedState=a.state,n&&Mn(t,s,!0),t.child}function El(e){var t=e.stateNode;t.pendingContext?Tn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Tn(0,t.context,!1),Gi(e,t.containerInfo)}function Pl(e,t,s,a,n){return mi(),pi(n),t.flags|=256,bl(e,t,s,a),t.child}var Il,Fl,Dl,_l,Tl={dehydrated:null,treeContext:null,retryLane:0};function Ol(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rl(e,t,s){var a,n=t.pendingProps,r=Zi.current,l=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&r)),a?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),Cn(Zi,1&r),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=n.children,e=n.fallback,l?(n=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&n)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Rc(o,n,0,null),e=Oc(e,n,s,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ol(s),t.memoizedState=Tl,e):Ml(t,o));if(null!==(r=e.memoizedState)&&null!==(a=r.dehydrated))return function(e,t,s,a,n,r,l){if(s)return 256&t.flags?(t.flags&=-257,Ll(e,t,l,a=cl(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=a.fallback,n=t.mode,a=Rc({mode:"visible",children:a.children},n,0,null),(r=Oc(r,n,l,null)).flags|=2,a.return=t,r.return=t,a.sibling=r,t.child=a,0!==(1&t.mode)&&yi(t,e.child,null,l),t.child.memoizedState=Ol(l),t.memoizedState=Tl,r);if(0===(1&t.mode))return Ll(e,t,l,null);if("$!"===n.data){if(a=n.nextSibling&&n.nextSibling.dataset)var o=a.dgst;return a=o,Ll(e,t,l,a=cl(r=Error(i(419)),a,void 0))}if(o=0!==(l&e.childLanes),xl||o){if(null!==(a=Po)){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(a.suspendedLanes|l))?0:n)&&n!==r.retryLane&&(r.retryLane=n,Ti(e,n),sc(a,e,n,-1))}return fc(),Ll(e,t,l,a=cl(Error(i(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),n._reactRetry=t,null):(e=r.treeContext,ai=cn(n.nextSibling),si=t,ni=!0,ii=null,null!==e&&(Kn[$n++]=Jn,Kn[$n++]=Qn,Kn[$n++]=Gn,Jn=e.id,Qn=e.overflow,Gn=t),t=Ml(t,a.children),t.flags|=4096,t)}(e,t,o,n,a,r,s);if(l){l=n.fallback,o=t.mode,a=(r=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&o)&&t.child!==r?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=_c(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==a?l=_c(a,l):(l=Oc(l,o,s,null)).flags|=2,l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,o=null===(o=e.child.memoizedState)?Ol(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~s,t.memoizedState=Tl,n}return e=(l=e.child).sibling,n=_c(l,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=s),n.return=t,n.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Ml(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ll(e,t,s,a){return null!==a&&pi(a),yi(t,e.child,null,s),(e=Ml(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ul(e,t,s){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Ei(e.return,t,s)}function Bl(e,t,s,a,n){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=s,i.tailMode=n)}function zl(e,t,s){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(bl(e,t,a.children,s),0!==(2&(a=Zi.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,s,t);else if(19===e.tag)Ul(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Cn(Zi,a),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;null!==s;)null!==(e=s.alternate)&&null===er(e)&&(n=s),s=s.sibling;null===(s=n)?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),Bl(t,!1,n,s,i);break;case"backwards":for(s=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===er(e)){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}Bl(t,!0,s,null,i);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yl(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),Ro|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(s=_c(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=_c(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function ql(e,t){if(!ni)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;null!==s;)null!==s.alternate&&(a=s),s=s.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Wl(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,a=0;if(t)for(var n=e.child;null!==n;)s|=n.lanes|n.childLanes,a|=14680064&n.subtreeFlags,a|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function Hl(e,t,s){var a=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wl(t),null;case 1:case 17:return Dn(t.type)&&_n(),Wl(t),null;case 3:return a=t.stateNode,Ji(),kn(Pn),kn(En),sr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(rc(ii),ii=null))),Fl(e,t),Wl(t),null;case 5:Xi(t);var n=$i(Ki.current);if(s=t.type,null!==e&&null!=t.stateNode)Dl(e,t,s,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(i(166));return Wl(t),null}if(e=$i(Wi.current),ui(t)){a=t.stateNode,s=t.type;var r=t.memoizedProps;switch(a[hn]=t,a[mn]=r,e=0!==(1&t.mode),s){case"dialog":La("cancel",a),La("close",a);break;case"iframe":case"object":case"embed":La("load",a);break;case"video":case"audio":for(n=0;n<Ta.length;n++)La(Ta[n],a);break;case"source":La("error",a);break;case"img":case"image":case"link":La("error",a),La("load",a);break;case"details":La("toggle",a);break;case"input":J(a,r),La("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!r.multiple},La("invalid",a);break;case"textarea":ne(a,r),La("invalid",a)}for(var o in xe(s,r),n=null,r)if(r.hasOwnProperty(o)){var c=r[o];"children"===o?"string"===typeof c?a.textContent!==c&&(!0!==r.suppressHydrationWarning&&Qa(a.textContent,c,e),n=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Qa(a.textContent,c,e),n=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&La("scroll",a)}switch(s){case"input":H(a),Z(a,r,!0);break;case"textarea":H(a),re(a);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(a.onclick=Xa)}a=n,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(s,{is:a.is}):(e=o.createElement(s),"select"===s&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,s),e[hn]=t,e[mn]=a,Il(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(s,a),s){case"dialog":La("cancel",e),La("close",e),n=a;break;case"iframe":case"object":case"embed":La("load",e),n=a;break;case"video":case"audio":for(n=0;n<Ta.length;n++)La(Ta[n],e);n=a;break;case"source":La("error",e),n=a;break;case"img":case"image":case"link":La("error",e),La("load",e),n=a;break;case"details":La("toggle",e),n=a;break;case"input":J(e,a),n=G(e,a),La("invalid",e);break;case"option":default:n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=M({},a,{value:void 0}),La("invalid",e);break;case"textarea":ne(e,a),n=ae(e,a),La("invalid",e)}for(r in xe(s,n),c=n)if(c.hasOwnProperty(r)){var d=c[r];"style"===r?ge(e,d):"dangerouslySetInnerHTML"===r?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===r?"string"===typeof d?("textarea"!==s||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(l.hasOwnProperty(r)?null!=d&&"onScroll"===r&&La("scroll",e):null!=d&&b(e,r,d,o))}switch(s){case"input":H(e),Z(e,a,!1);break;case"textarea":H(e),re(e);break;case"option":null!=a.value&&e.setAttribute("value",""+q(a.value));break;case"select":e.multiple=!!a.multiple,null!=(r=a.value)?se(e,!!a.multiple,r,!1):null!=a.defaultValue&&se(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Xa)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wl(t),null;case 6:if(e&&null!=t.stateNode)_l(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(i(166));if(s=$i(Ki.current),$i(Wi.current),ui(t)){if(a=t.stateNode,s=t.memoizedProps,a[hn]=t,(r=a.nodeValue!==s)&&null!==(e=si))switch(e.tag){case 3:Qa(a.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qa(a.nodeValue,s,0!==(1&e.mode))}r&&(t.flags|=4)}else(a=(9===s.nodeType?s:s.ownerDocument).createTextNode(a))[hn]=t,t.stateNode=a}return Wl(t),null;case 13:if(kn(Zi),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ni&&null!==ai&&0!==(1&t.mode)&&0===(128&t.flags))hi(),mi(),t.flags|=98560,r=!1;else if(r=ui(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(i(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(i(317));r[hn]=t}else mi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wl(t),r=!1}else null!==ii&&(rc(ii),ii=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===To&&(To=3):fc())),null!==t.updateQueue&&(t.flags|=4),Wl(t),null);case 4:return Ji(),Fl(e,t),null===e&&za(t.stateNode.containerInfo),Wl(t),null;case 10:return Ai(t.type._context),Wl(t),null;case 19:if(kn(Zi),null===(r=t.memoizedState))return Wl(t),null;if(a=0!==(128&t.flags),null===(o=r.rendering))if(a)ql(r,!1);else{if(0!==To||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=er(e))){for(t.flags|=128,ql(r,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;null!==s;)e=a,(r=s).flags&=14680066,null===(o=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,e=o.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Cn(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==r.tail&&Qe()>Vo&&(t.flags|=128,a=!0,ql(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=er(o))){if(t.flags|=128,a=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),ql(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!ni)return Wl(t),null}else 2*Qe()-r.renderingStartTime>Vo&&1073741824!==s&&(t.flags|=128,a=!0,ql(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(s=r.last)?s.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Qe(),t.sibling=null,s=Zi.current,Cn(Zi,a?1&s|2:1&s),t):(Wl(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Do)&&(Wl(t),6&t.subtreeFlags&&(t.flags|=8192)):Wl(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Kl(e,t){switch(ti(t),t.tag){case 1:return Dn(t.type)&&_n(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),kn(Pn),kn(En),sr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(kn(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return kn(Zi),null;case 4:return Ji(),null;case 10:return Ai(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Il=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Fl=function(){},Dl=function(e,t,s,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,$i(Wi.current);var i,r=null;switch(s){case"input":n=G(e,n),a=G(e,a),r=[];break;case"select":n=M({},n,{value:void 0}),a=M({},a,{value:void 0}),r=[];break;case"textarea":n=ae(e,n),a=ae(e,a),r=[];break;default:"function"!==typeof n.onClick&&"function"===typeof a.onClick&&(e.onclick=Xa)}for(d in xe(s,a),s=null,n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var o=n[d];for(i in o)o.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in a){var c=a[d];if(o=null!=n?n[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(r||(r=[]),r.push(d,s)),s=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(r=r||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&La("scroll",e),r||o===c||(r=[])):(r=r||[]).push(d,c))}s&&(r=r||[]).push("style",s);var d=r;(t.updateQueue=d)&&(t.flags|=4)}},_l=function(e,t,s,a){s!==a&&(t.flags|=4)};var $l=!1,Gl=!1,Jl="function"===typeof WeakSet?WeakSet:Set,Ql=null;function Xl(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(a){Sc(e,t,a)}else s.current=null}function Zl(e,t,s){try{s()}catch(a){Sc(e,t,a)}}var eo=!1;function to(e,t,s){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,void 0!==i&&Zl(t,s,i)}n=n.next}while(n!==a)}}function so(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function ao(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function no(e){var t=e.alternate;null!==t&&(e.alternate=null,no(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hn],delete t[mn],delete t[fn],delete t[gn],delete t[vn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function io(e){return 5===e.tag||3===e.tag||4===e.tag}function ro(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||io(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,s){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Xa));else if(4!==a&&null!==(e=e.child))for(lo(e,t,s),e=e.sibling;null!==e;)lo(e,t,s),e=e.sibling}function oo(e,t,s){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==a&&null!==(e=e.child))for(oo(e,t,s),e=e.sibling;null!==e;)oo(e,t,s),e=e.sibling}var co=null,uo=!1;function ho(e,t,s){for(s=s.child;null!==s;)mo(e,t,s),s=s.sibling}function mo(e,t,s){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(nt,s)}catch(l){}switch(s.tag){case 5:Gl||Xl(s,t);case 6:var a=co,n=uo;co=null,ho(e,t,s),uo=n,null!==(co=a)&&(uo?(e=co,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):co.removeChild(s.stateNode));break;case 18:null!==co&&(uo?(e=co,s=s.stateNode,8===e.nodeType?on(e.parentNode,s):1===e.nodeType&&on(e,s),Vt(e)):on(co,s.stateNode));break;case 4:a=co,n=uo,co=s.stateNode.containerInfo,uo=!0,ho(e,t,s),co=a,uo=n;break;case 0:case 11:case 14:case 15:if(!Gl&&(null!==(a=s.updateQueue)&&null!==(a=a.lastEffect))){n=a=a.next;do{var i=n,r=i.destroy;i=i.tag,void 0!==r&&(0!==(2&i)||0!==(4&i))&&Zl(s,t,r),n=n.next}while(n!==a)}ho(e,t,s);break;case 1:if(!Gl&&(Xl(s,t),"function"===typeof(a=s.stateNode).componentWillUnmount))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(l){Sc(s,t,l)}ho(e,t,s);break;case 21:ho(e,t,s);break;case 22:1&s.mode?(Gl=(a=Gl)||null!==s.memoizedState,ho(e,t,s),Gl=a):ho(e,t,s);break;default:ho(e,t,s)}}function po(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new Jl),t.forEach(function(t){var a=Ec.bind(null,e,t);s.has(t)||(s.add(t),t.then(a,a))})}}function fo(e,t){var s=t.deletions;if(null!==s)for(var a=0;a<s.length;a++){var n=s[a];try{var r=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(i(160));mo(r,l,n),co=null,uo=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(d){Sc(n,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)go(t,e),t=t.sibling}function go(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fo(t,e),vo(e),4&a){try{to(3,e,e.return),so(3,e)}catch(g){Sc(e,e.return,g)}try{to(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:fo(t,e),vo(e),512&a&&null!==s&&Xl(s,s.return);break;case 5:if(fo(t,e),vo(e),512&a&&null!==s&&Xl(s,s.return),32&e.flags){var n=e.stateNode;try{he(n,"")}catch(g){Sc(e,e.return,g)}}if(4&a&&null!=(n=e.stateNode)){var r=e.memoizedProps,l=null!==s?s.memoizedProps:r,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===r.type&&null!=r.name&&Q(n,r),be(o,l);var d=be(o,r);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];"style"===u?ge(n,h):"dangerouslySetInnerHTML"===u?ue(n,h):"children"===u?he(n,h):b(n,u,h,d)}switch(o){case"input":X(n,r);break;case"textarea":ie(n,r);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!r.multiple;var p=r.value;null!=p?se(n,!!r.multiple,p,!1):m!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}n[mn]=r}catch(g){Sc(e,e.return,g)}}break;case 6:if(fo(t,e),vo(e),4&a){if(null===e.stateNode)throw Error(i(162));n=e.stateNode,r=e.memoizedProps;try{n.nodeValue=r}catch(g){Sc(e,e.return,g)}}break;case 3:if(fo(t,e),vo(e),4&a&&null!==s&&s.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:fo(t,e),vo(e);break;case 13:fo(t,e),vo(e),8192&(n=e.child).flags&&(r=null!==n.memoizedState,n.stateNode.isHidden=r,!r||null!==n.alternate&&null!==n.alternate.memoizedState||(zo=Qe())),4&a&&po(e);break;case 22:if(u=null!==s&&null!==s.memoizedState,1&e.mode?(Gl=(d=Gl)||u,fo(t,e),Gl=d):fo(t,e),vo(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Ql=e,u=e.child;null!==u;){for(h=Ql=u;null!==Ql;){switch(p=(m=Ql).child,m.tag){case 0:case 11:case 14:case 15:to(4,m,m.return);break;case 1:Xl(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){a=m,s=m.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Sc(a,s,g)}}break;case 5:Xl(m,m.return);break;case 22:if(null!==m.memoizedState){jo(h);continue}}null!==p?(p.return=m,Ql=p):jo(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{n=h.stateNode,d?"function"===typeof(r=n.style).setProperty?r.setProperty("display","none","important"):r.display="none":(o=h.stateNode,l=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=fe("display",l))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fo(t,e),vo(e),4&a&&po(e);case 21:}}function vo(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(io(s)){var a=s;break e}s=s.return}throw Error(i(160))}switch(a.tag){case 5:var n=a.stateNode;32&a.flags&&(he(n,""),a.flags&=-33),oo(e,ro(e),n);break;case 3:case 4:var r=a.stateNode.containerInfo;lo(e,ro(e),r);break;default:throw Error(i(161))}}catch(l){Sc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xo(e,t,s){Ql=e,bo(e,t,s)}function bo(e,t,s){for(var a=0!==(1&e.mode);null!==Ql;){var n=Ql,i=n.child;if(22===n.tag&&a){var r=null!==n.memoizedState||$l;if(!r){var l=n.alternate,o=null!==l&&null!==l.memoizedState||Gl;l=$l;var c=Gl;if($l=r,(Gl=o)&&!c)for(Ql=n;null!==Ql;)o=(r=Ql).child,22===r.tag&&null!==r.memoizedState?No(n):null!==o?(o.return=r,Ql=o):No(n);for(;null!==i;)Ql=i,bo(i,t,s),i=i.sibling;Ql=n,$l=l,Gl=c}yo(e)}else 0!==(8772&n.subtreeFlags)&&null!==i?(i.return=n,Ql=i):yo(e)}}function yo(e){for(;null!==Ql;){var t=Ql;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gl||so(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Gl)if(null===s)a.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:tl(t.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Yi(t,r,a);break;case 3:var l=t.updateQueue;if(null!==l){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Yi(t,l,s)}break;case 5:var o=t.stateNode;if(null===s&&4&t.flags){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(i(163))}Gl||512&t.flags&&ao(t)}catch(m){Sc(t,t.return,m)}}if(t===e){Ql=null;break}if(null!==(s=t.sibling)){s.return=t.return,Ql=s;break}Ql=t.return}}function jo(e){for(;null!==Ql;){var t=Ql;if(t===e){Ql=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ql=s;break}Ql=t.return}}function No(e){for(;null!==Ql;){var t=Ql;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{so(4,t)}catch(o){Sc(t,s,o)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var n=t.return;try{a.componentDidMount()}catch(o){Sc(t,n,o)}}var i=t.return;try{ao(t)}catch(o){Sc(t,i,o)}break;case 5:var r=t.return;try{ao(t)}catch(o){Sc(t,r,o)}}}catch(o){Sc(t,t.return,o)}if(t===e){Ql=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Ql=l;break}Ql=t.return}}var wo,So=Math.ceil,ko=y.ReactCurrentDispatcher,Co=y.ReactCurrentOwner,Ao=y.ReactCurrentBatchConfig,Eo=0,Po=null,Io=null,Fo=0,Do=0,_o=Sn(0),To=0,Oo=null,Ro=0,Mo=0,Lo=0,Uo=null,Bo=null,zo=0,Vo=1/0,Yo=null,qo=!1,Wo=null,Ho=null,Ko=!1,$o=null,Go=0,Jo=0,Qo=null,Xo=-1,Zo=0;function ec(){return 0!==(6&Eo)?Qe():-1!==Xo?Xo:Xo=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==Fo?Fo&-Fo:null!==fi.transition?(0===Zo&&(Zo=ft()),Zo):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function sc(e,t,s,a){if(50<Jo)throw Jo=0,Qo=null,Error(i(185));vt(e,s,a),0!==(2&Eo)&&e===Po||(e===Po&&(0===(2&Eo)&&(Mo|=s),4===To&&lc(e,Fo)),ac(e,a),1===s&&0===Eo&&0===(1&t.mode)&&(Vo=Qe()+500,Un&&Vn()))}function ac(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var r=31-rt(i),l=1<<r,o=n[r];-1===o?0!==(l&s)&&0===(l&a)||(n[r]=mt(l,t)):o<=t&&(e.expiredLanes|=l),i&=~l}}(e,t);var a=ht(e,e===Po?Fo:0);if(0===a)null!==s&&$e(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=s&&$e(s),1===t)0===e.tag?function(e){Un=!0,zn(e)}(oc.bind(null,e)):zn(oc.bind(null,e)),rn(function(){0===(6&Eo)&&Vn()}),s=null;else{switch(yt(a)){case 1:s=Ze;break;case 4:s=et;break;case 16:default:s=tt;break;case 536870912:s=at}s=Pc(s,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function nc(e,t){if(Xo=-1,Zo=0,0!==(6&Eo))throw Error(i(327));var s=e.callbackNode;if(Nc()&&e.callbackNode!==s)return null;var a=ht(e,e===Po?Fo:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=gc(e,a);else{t=a;var n=Eo;Eo|=2;var r=pc();for(Po===e&&Fo===t||(Yo=null,Vo=Qe()+500,hc(e,t));;)try{xc();break}catch(o){mc(e,o)}Ci(),ko.current=r,Eo=n,null!==Io?t=0:(Po=null,Fo=0,t=To)}if(0!==t){if(2===t&&(0!==(n=pt(e))&&(a=n,t=ic(e,n))),1===t)throw s=Oo,hc(e,0),lc(e,a),ac(e,Qe()),s;if(6===t)lc(e,a);else{if(n=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var a=0;a<s.length;a++){var n=s[a],i=n.getSnapshot;n=n.value;try{if(!ra(i(),n))return!1}catch(l){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=gc(e,a))&&(0!==(r=pt(e))&&(a=r,t=ic(e,r))),1===t))throw s=Oo,hc(e,0),lc(e,a),ac(e,Qe()),s;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(i(345));case 2:case 5:jc(e,Bo,Yo);break;case 3:if(lc(e,a),(130023424&a)===a&&10<(t=zo+500-Qe())){if(0!==ht(e,0))break;if(((n=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=sn(jc.bind(null,e,Bo,Yo),t);break}jc(e,Bo,Yo);break;case 4:if(lc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,n=-1;0<a;){var l=31-rt(a);r=1<<l,(l=t[l])>n&&(n=l),a&=~r}if(a=n,10<(a=(120>(a=Qe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*So(a/1960))-a)){e.timeoutHandle=sn(jc.bind(null,e,Bo,Yo),a);break}jc(e,Bo,Yo);break;default:throw Error(i(329))}}}return ac(e,Qe()),e.callbackNode===s?nc.bind(null,e):null}function ic(e,t){var s=Uo;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bo,Bo=s,null!==t&&rc(t)),e}function rc(e){null===Bo?Bo=e:Bo.push.apply(Bo,e)}function lc(e,t){for(t&=~Lo,t&=~Mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-rt(t),a=1<<s;e[s]=-1,t&=~a}}function oc(e){if(0!==(6&Eo))throw Error(i(327));Nc();var t=ht(e,0);if(0===(1&t))return ac(e,Qe()),null;var s=gc(e,t);if(0!==e.tag&&2===s){var a=pt(e);0!==a&&(t=a,s=ic(e,a))}if(1===s)throw s=Oo,hc(e,0),lc(e,t),ac(e,Qe()),s;if(6===s)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Bo,Yo),ac(e,Qe()),null}function cc(e,t){var s=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=s)&&(Vo=Qe()+500,Un&&Vn())}}function dc(e){null!==$o&&0===$o.tag&&0===(6&Eo)&&Nc();var t=Eo;Eo|=1;var s=Ao.transition,a=bt;try{if(Ao.transition=null,bt=1,e)return e()}finally{bt=a,Ao.transition=s,0===(6&(Eo=t))&&Vn()}}function uc(){Do=_o.current,kn(_o)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,an(s)),null!==Io)for(s=Io.return;null!==s;){var a=s;switch(ti(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&_n();break;case 3:Ji(),kn(Pn),kn(En),sr();break;case 5:Xi(a);break;case 4:Ji();break;case 13:case 19:kn(Zi);break;case 10:Ai(a.type._context);break;case 22:case 23:uc()}s=s.return}if(Po=e,Io=e=_c(e.current,null),Fo=Do=t,To=0,Oo=null,Lo=Mo=Ro=0,Bo=Uo=null,null!==Fi){for(t=0;t<Fi.length;t++)if(null!==(a=(s=Fi[t]).interleaved)){s.interleaved=null;var n=a.next,i=s.pending;if(null!==i){var r=i.next;i.next=n,a.next=r}s.pending=a}Fi=null}return e}function mc(e,t){for(;;){var s=Io;try{if(Ci(),ar.current=Qr,cr){for(var a=rr.memoizedState;null!==a;){var n=a.queue;null!==n&&(n.pending=null),a=a.next}cr=!1}if(ir=0,or=lr=rr=null,dr=!1,ur=0,Co.current=null,null===s||null===s.return){To=1,Oo=t,Io=null;break}e:{var r=e,l=s.return,o=s,c=t;if(t=Fo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=fl(l);if(null!==p){p.flags&=-257,gl(p,l,o,0,t),1&p.mode&&pl(r,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){pl(r,d,t),fc();break e}c=Error(i(426))}else if(ni&&1&o.mode){var v=fl(l);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),gl(v,l,o,0,t),pi(ol(c,o));break e}}r=c=ol(c,o),4!==To&&(To=2),null===Uo?Uo=[r]:Uo.push(r),r=l;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,zi(r,hl(0,c,t));break e;case 1:o=c;var x=r.type,b=r.stateNode;if(0===(128&r.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ho||!Ho.has(b)))){r.flags|=65536,t&=-t,r.lanes|=t,zi(r,ml(r,o,t));break e}}r=r.return}while(null!==r)}yc(s)}catch(y){t=y,Io===s&&null!==s&&(Io=s=s.return);continue}break}}function pc(){var e=ko.current;return ko.current=Qr,null===e?Qr:e}function fc(){0!==To&&3!==To&&2!==To||(To=4),null===Po||0===(268435455&Ro)&&0===(268435455&Mo)||lc(Po,Fo)}function gc(e,t){var s=Eo;Eo|=2;var a=pc();for(Po===e&&Fo===t||(Yo=null,hc(e,t));;)try{vc();break}catch(n){mc(e,n)}if(Ci(),Eo=s,ko.current=a,null!==Io)throw Error(i(261));return Po=null,Fo=0,To}function vc(){for(;null!==Io;)bc(Io)}function xc(){for(;null!==Io&&!Ge();)bc(Io)}function bc(e){var t=wo(e.alternate,e,Do);e.memoizedProps=e.pendingProps,null===t?yc(e):Io=t,Co.current=null}function yc(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=Hl(s,t,Do)))return void(Io=s)}else{if(null!==(s=Kl(s,t)))return s.flags&=32767,void(Io=s);if(null===e)return To=6,void(Io=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Io=t);Io=t=e}while(null!==t);0===To&&(To=5)}function jc(e,t,s){var a=bt,n=Ao.transition;try{Ao.transition=null,bt=1,function(e,t,s,a){do{Nc()}while(null!==$o);if(0!==(6&Eo))throw Error(i(327));s=e.finishedWork;var n=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var r=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-rt(s),i=1<<n;t[n]=0,a[n]=-1,e[n]=-1,s&=~i}}(e,r),e===Po&&(Io=Po=null,Fo=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||Ko||(Ko=!0,Pc(tt,function(){return Nc(),null})),r=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||r){r=Ao.transition,Ao.transition=null;var l=bt;bt=1;var o=Eo;Eo|=4,Co.current=null,function(e,t){if(Za=qt,ha(e=ua())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(a&&0!==a.rangeCount){s=a.anchorNode;var n=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{s.nodeType,r.nodeType}catch(j){s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==s||0!==n&&3!==h.nodeType||(o=l+n),h!==r||0!==a&&3!==h.nodeType||(c=l+a),3===h.nodeType&&(l+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===s&&++d===n&&(o=l),m===r&&++u===a&&(c=l),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}s=-1===o||-1===c?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(en={focusedElem:e,selectionRange:s},qt=!1,Ql=t;null!==Ql;)if(e=(t=Ql).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ql=e;else for(;null!==Ql;){t=Ql;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:tl(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(i(163))}}catch(j){Sc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Ql=e;break}Ql=t.return}f=eo,eo=!1}(e,s),go(s,e),ma(en),qt=!!Za,en=Za=null,e.current=s,xo(s,e,n),Je(),Eo=o,bt=l,Ao.transition=r}else e.current=s;if(Ko&&(Ko=!1,$o=e,Go=n),r=e.pendingLanes,0===r&&(Ho=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),ac(e,Qe()),null!==t)for(a=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(qo)throw qo=!1,e=Wo,Wo=null,e;0!==(1&Go)&&0!==e.tag&&Nc(),r=e.pendingLanes,0!==(1&r)?e===Qo?Jo++:(Jo=0,Qo=e):Jo=0,Vn()}(e,t,s,a)}finally{Ao.transition=n,bt=a}return null}function Nc(){if(null!==$o){var e=yt(Go),t=Ao.transition,s=bt;try{if(Ao.transition=null,bt=16>e?16:e,null===$o)var a=!1;else{if(e=$o,$o=null,Go=0,0!==(6&Eo))throw Error(i(331));var n=Eo;for(Eo|=4,Ql=e.current;null!==Ql;){var r=Ql,l=r.child;if(0!==(16&Ql.flags)){var o=r.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Ql=d;null!==Ql;){var u=Ql;switch(u.tag){case 0:case 11:case 15:to(8,u,r)}var h=u.child;if(null!==h)h.return=u,Ql=h;else for(;null!==Ql;){var m=(u=Ql).sibling,p=u.return;if(no(u),u===d){Ql=null;break}if(null!==m){m.return=p,Ql=m;break}Ql=p}}}var f=r.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ql=r}}if(0!==(2064&r.subtreeFlags)&&null!==l)l.return=r,Ql=l;else e:for(;null!==Ql;){if(0!==(2048&(r=Ql).flags))switch(r.tag){case 0:case 11:case 15:to(9,r,r.return)}var x=r.sibling;if(null!==x){x.return=r.return,Ql=x;break e}Ql=r.return}}var b=e.current;for(Ql=b;null!==Ql;){var y=(l=Ql).child;if(0!==(2064&l.subtreeFlags)&&null!==y)y.return=l,Ql=y;else e:for(l=b;null!==Ql;){if(0!==(2048&(o=Ql).flags))try{switch(o.tag){case 0:case 11:case 15:so(9,o)}}catch(N){Sc(o,o.return,N)}if(o===l){Ql=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Ql=j;break e}Ql=o.return}}if(Eo=n,Vn(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(nt,e)}catch(N){}a=!0}return a}finally{bt=s,Ao.transition=t}}return!1}function wc(e,t,s){e=Ui(e,t=hl(0,t=ol(s,t),1),1),t=ec(),null!==e&&(vt(e,1,t),ac(e,t))}function Sc(e,t,s){if(3===e.tag)wc(e,e,s);else for(;null!==t;){if(3===t.tag){wc(t,e,s);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Ho||!Ho.has(a))){t=Ui(t,e=ml(t,e=ol(s,e),1),1),e=ec(),null!==t&&(vt(t,1,e),ac(t,e));break}}t=t.return}}function kc(e,t,s){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&s,Po===e&&(Fo&s)===s&&(4===To||3===To&&(130023424&Fo)===Fo&&500>Qe()-zo?hc(e,0):Lo|=s),ac(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var s=ec();null!==(e=Ti(e,t))&&(vt(e,t,s),ac(e,s))}function Ac(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),Cc(e,s)}function Ec(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;null!==n&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}null!==a&&a.delete(t),Cc(e,s)}function Pc(e,t){return Ke(e,t)}function Ic(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(e,t,s,a){return new Ic(e,t,s,a)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var s=e.alternate;return null===s?((s=Fc(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Tc(e,t,s,a,n,r){var l=2;if(a=e,"function"===typeof e)Dc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case w:return Oc(s.children,n,r,t);case S:l=8,n|=8;break;case k:return(e=Fc(12,s,t,2|n)).elementType=k,e.lanes=r,e;case P:return(e=Fc(13,s,t,n)).elementType=P,e.lanes=r,e;case I:return(e=Fc(19,s,t,n)).elementType=I,e.lanes=r,e;case _:return Rc(s,n,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:l=10;break e;case A:l=9;break e;case E:l=11;break e;case F:l=14;break e;case D:l=16,a=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Fc(l,s,t,n)).elementType=e,t.type=a,t.lanes=r,t}function Oc(e,t,s,a){return(e=Fc(7,e,a,t)).lanes=s,e}function Rc(e,t,s,a){return(e=Fc(22,e,a,t)).elementType=_,e.lanes=s,e.stateNode={isHidden:!1},e}function Mc(e,t,s){return(e=Fc(6,e,null,t)).lanes=s,e}function Lc(e,t,s){return(t=Fc(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,s,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Bc(e,t,s,a,n,i,r,l,o){return e=new Uc(e,t,s,l,o),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Fc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function zc(e){if(!e)return An;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var s=e.type;if(Dn(s))return On(e,s,t)}return t}function Vc(e,t,s,a,n,i,r,l,o){return(e=Bc(s,a,!0,e,0,i,0,l,o)).context=zc(null),s=e.current,(i=Li(a=ec(),n=tc(s))).callback=void 0!==t&&null!==t?t:null,Ui(s,i,n),e.current.lanes=n,vt(e,n,a),ac(e,a),e}function Yc(e,t,s,a){var n=t.current,i=ec(),r=tc(n);return s=zc(s),null===t.context?t.context=s:t.pendingContext=s,(t=Li(i,r)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Ui(n,t,r))&&(sc(e,n,r,i),Bi(e,n,r)),r}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}wo=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pn.current)xl=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return xl=!1,function(e,t,s){switch(t.tag){case 3:El(t),mi();break;case 5:Qi(t);break;case 1:Dn(t.type)&&Rn(t);break;case 4:Gi(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;Cn(Ni,a._currentValue),a._currentValue=n;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Cn(Zi,1&Zi.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Rl(e,t,s):(Cn(Zi,1&Zi.current),null!==(e=Yl(e,t,s))?e.sibling:null);Cn(Zi,1&Zi.current);break;case 19:if(a=0!==(s&t.childLanes),0!==(128&e.flags)){if(a)return zl(e,t,s);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Cn(Zi,Zi.current),a)break;return null;case 22:case 23:return t.lanes=0,wl(e,t,s)}return Yl(e,t,s)}(e,t,s);xl=0!==(131072&e.flags)}else xl=!1,ni&&0!==(1048576&t.flags)&&Zn(t,Hn,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Vl(e,t),e=t.pendingProps;var n=Fn(t,En.current);Pi(t,s),n=fr(null,t,a,e,n,s);var r=gr();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dn(a)?(r=!0,Rn(t)):r=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Ri(t),n.updater=al,t.stateNode=n,n._reactInternals=t,ll(t,a,e,s),t=Al(null,t,a,!0,r,s)):(t.tag=0,ni&&r&&ei(t),bl(null,t,n,s),t=t.child),t;case 16:a=t.elementType;e:{switch(Vl(e,t),e=t.pendingProps,a=(n=a._init)(a._payload),t.type=a,n=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===F)return 14}return 2}(a),e=tl(a,e),n){case 0:t=kl(null,t,a,e,s);break e;case 1:t=Cl(null,t,a,e,s);break e;case 11:t=yl(null,t,a,e,s);break e;case 14:t=jl(null,t,a,tl(a.type,e),s);break e}throw Error(i(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,kl(e,t,a,n=t.elementType===a?n:tl(a,n),s);case 1:return a=t.type,n=t.pendingProps,Cl(e,t,a,n=t.elementType===a?n:tl(a,n),s);case 3:e:{if(El(t),null===e)throw Error(i(387));a=t.pendingProps,n=(r=t.memoizedState).element,Mi(e,t),Vi(t,a,null,s);var l=t.memoizedState;if(a=l.element,r.isDehydrated){if(r={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Pl(e,t,a,s,n=ol(Error(i(423)),t));break e}if(a!==n){t=Pl(e,t,a,s,n=ol(Error(i(424)),t));break e}for(ai=cn(t.stateNode.containerInfo.firstChild),si=t,ni=!0,ii=null,s=ji(t,null,a,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(mi(),a===n){t=Yl(e,t,s);break e}bl(e,t,a,s)}t=t.child}return t;case 5:return Qi(t),null===e&&ci(t),a=t.type,n=t.pendingProps,r=null!==e?e.memoizedProps:null,l=n.children,tn(a,n)?l=null:null!==r&&tn(a,r)&&(t.flags|=32),Sl(e,t),bl(e,t,l,s),t.child;case 6:return null===e&&ci(t),null;case 13:return Rl(e,t,s);case 4:return Gi(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=yi(t,null,a,s):bl(e,t,a,s),t.child;case 11:return a=t.type,n=t.pendingProps,yl(e,t,a,n=t.elementType===a?n:tl(a,n),s);case 7:return bl(e,t,t.pendingProps,s),t.child;case 8:case 12:return bl(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,r=t.memoizedProps,l=n.value,Cn(Ni,a._currentValue),a._currentValue=l,null!==r)if(ra(r.value,l)){if(r.children===n.children&&!Pn.current){t=Yl(e,t,s);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var o=r.dependencies;if(null!==o){l=r.child;for(var c=o.firstContext;null!==c;){if(c.context===a){if(1===r.tag){(c=Li(-1,s&-s)).tag=2;var d=r.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}r.lanes|=s,null!==(c=r.alternate)&&(c.lanes|=s),Ei(r.return,s,t),o.lanes|=s;break}c=c.next}}else if(10===r.tag)l=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(l=r.return))throw Error(i(341));l.lanes|=s,null!==(o=l.alternate)&&(o.lanes|=s),Ei(l,s,t),l=r.sibling}else l=r.child;if(null!==l)l.return=r;else for(l=r;null!==l;){if(l===t){l=null;break}if(null!==(r=l.sibling)){r.return=l.return,l=r;break}l=l.return}r=l}bl(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,Pi(t,s),a=a(n=Ii(n)),t.flags|=1,bl(e,t,a,s),t.child;case 14:return n=tl(a=t.type,t.pendingProps),jl(e,t,a,n=tl(a.type,n),s);case 15:return Nl(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:tl(a,n),Vl(e,t),t.tag=1,Dn(a)?(e=!0,Rn(t)):e=!1,Pi(t,s),il(t,a,n),ll(t,a,n,s),Al(null,t,a,!0,e,s);case 19:return zl(e,t,s);case 22:return wl(e,t,s)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,s,a,n){var i=s._reactRootContainer;if(i){var r=i;if("function"===typeof n){var l=n;n=function(){var e=qc(r);l.call(e)}}Yc(t,r,e,n)}else r=function(e,t,s,a,n){if(n){if("function"===typeof a){var i=a;a=function(){var e=qc(r);i.call(e)}}var r=Vc(t,a,e,0,null,!1,0,"",Xc);return e._reactRootContainer=r,e[pn]=r.current,za(8===e.nodeType?e.parentNode:e),dc(),r}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof a){var l=a;a=function(){var e=qc(o);l.call(e)}}var o=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=o,e[pn]=o.current,za(8===e.nodeType?e.parentNode:e),dc(function(){Yc(t,o,s,a)}),o}(s,t,e,n,a);return qc(r)}Gc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Yc(e,t,null,null)},Gc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Yc(null,e,null,null)}),t[pn]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var s=0;s<_t.length&&0!==t&&t<_t[s].priority;s++);_t.splice(s,0,e),0===s&&Mt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ut(t.pendingLanes);0!==s&&(xt(t,1|s),ac(t,Qe()),0===(6&Eo)&&(Vo=Qe()+500,Vn()))}break;case 13:dc(function(){var t=Ti(e,1);if(null!==t){var s=ec();sc(t,e,1,s)}}),Hc(e,1)}},Nt=function(e){if(13===e.tag){var t=Ti(e,134217728);if(null!==t)sc(t,e,134217728,ec());Hc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),s=Ti(e,t);if(null!==s)sc(s,e,t,ec());Hc(e,t)}},St=function(){return bt},kt=function(e,t){var s=bt;try{return bt=e,t()}finally{bt=s}},Ne=function(e,t,s){switch(t){case"input":if(X(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var n=jn(a);if(!n)throw Error(i(90));K(a),X(a,n)}}}break;case"textarea":ie(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[bn,yn,jn,Ce,Ae,cc]},td={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{nt=ad.inject(sd),it=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return function(e,t,s){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==a?null:""+a,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var s=!1,a="",n=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Bc(e,1,!1,null,0,s,0,a,n),e[pn]=t.current,za(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,s){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!Jc(e))throw Error(i(405));var a=null!=s&&s.hydratedSources||null,n=!1,r="",l=Kc;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(n=!0),void 0!==s.identifierPrefix&&(r=s.identifierPrefix),void 0!==s.onRecoverableError&&(l=s.onRecoverableError)),t=Vc(t,null,e,1,null!=s?s:null,n,0,r,l),e[pn]=t.current,za(e),a)for(e=0;e<a.length;e++)n=(n=(s=a[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new Gc(t)},t.render=function(e,t,s){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!Qc(s))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,s,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,s)=>{"use strict";e.exports=s(234)},950:(e,t,s)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(730)}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,s),i.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(a,n){if(1&n&&(a=this(a)),8&n)return a;if("object"===typeof a&&a){if(4&n&&a.__esModule)return a;if(16&n&&"function"===typeof a.then)return a}var i=Object.create(null);s.r(i);var r={};e=e||[null,t({}),t([]),t(t)];for(var l=2&n&&a;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>r[e]=()=>a[e]);return r.default=()=>a,s.d(i,r),i}})(),s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/",(()=>{"use strict";var e,t=s(43),a=s.t(t,2),n=s(391),i=s(950),r=s.t(i,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const o="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(s){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,s,a){return void 0===s&&(s=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:s,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function p(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function f(t,s,a,n){void 0===n&&(n={});let{window:i=document.defaultView,v5Compat:r=!1}=n,d=i.history,p=e.Pop,f=null,g=v();function v(){return(d.state||{idx:null}).idx}function x(){p=e.Pop;let t=v(),s=null==t?null:t-g;g=t,f&&f({action:p,location:y.location,delta:s})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,s="string"===typeof e?e:m(e);return s=s.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}null==g&&(g=0,d.replaceState(l({},d.state,{idx:g}),""));let y={get action(){return p},get location(){return t(i,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(o,x),f=e,()=>{i.removeEventListener(o,x),f=null}},createHref:e=>s(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,s){p=e.Push;let n=h(y.location,t,s);a&&a(n,t),g=v()+1;let l=u(n,g),o=y.createHref(n);try{d.pushState(l,"",o)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;i.location.assign(o)}r&&f&&f({action:p,location:y.location,delta:1})},replace:function(t,s){p=e.Replace;let n=h(y.location,t,s);a&&a(n,t),g=v();let i=u(n,g),l=y.createHref(n);d.replaceState(i,"",l),r&&f&&f({action:p,location:y.location,delta:0})},go:e=>d.go(e)};return y}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,s){return void 0===s&&(s="/"),x(e,t,s,!1)}function x(e,t,s,a){let n=D(("string"===typeof t?p(t):t).pathname||"/",s);if(null==n)return null;let i=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let r=null;for(let l=0;null==r&&l<i.length;++l){let e=F(n);r=P(i[l],e,a)}return r}function b(e,t,s,a){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===a&&(a="");let n=(e,n,i)=>{let r={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};r.relativePath.startsWith("/")&&(c(r.relativePath.startsWith(a),'Absolute route path "'+r.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),r.relativePath=r.relativePath.slice(a.length));let l=M([a,r.relativePath]),o=s.concat(r);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),b(e.children,t,o,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:o})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let a of y(e.path))n(e,t,a);else n(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[s,...a]=t,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(0===a.length)return n?[i,""]:[i];let r=y(a.join("/")),l=[];return l.push(...r.map(e=>""===e?i:[i,e].join("/"))),n&&l.push(...r),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,N=3,w=2,S=1,k=10,C=-2,A=e=>"*"===e;function E(e,t){let s=e.split("/"),a=s.length;return s.some(A)&&(a+=C),t&&(a+=w),s.filter(e=>!A(e)).reduce((e,t)=>e+(j.test(t)?N:""===t?S:k),a)}function P(e,t,s){void 0===s&&(s=!1);let{routesMeta:a}=e,n={},i="/",r=[];for(let l=0;l<a.length;++l){let e=a[l],o=l===a.length-1,c="/"===i?t:t.slice(i.length)||"/",d=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&s&&!a[a.length-1].route.index&&(d=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),r.push({params:n,pathname:M([i,d.pathname]),pathnameBase:L(M([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=M([i,d.pathnameBase]))}return r}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(a.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let i=new RegExp(n,t?void 0:"i");return[i,a]}(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let i=n[0],r=i.replace(/(.)\/+$/,"$1"),l=n.slice(1),o=a.reduce((e,t,s)=>{let{paramName:a,isOptional:n}=t;if("*"===a){let e=l[s]||"";r=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[s];return e[a]=n&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{});return{params:o,pathname:i,pathnameBase:r,pattern:e}}function F(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&"/"!==a?null:e.slice(s)||"/"}function _(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function T(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function O(e,t){let s=T(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function R(e,t,s,a){let n;void 0===a&&(a=!1),"string"===typeof e?n=p(e):(n=l({},e),c(!n.pathname||!n.pathname.includes("?"),_("?","pathname","search",n)),c(!n.pathname||!n.pathname.includes("#"),_("#","pathname","hash",n)),c(!n.search||!n.search.includes("#"),_("#","search","hash",n)));let i,r=""===e||""===n.pathname,o=r?"/":n.pathname;if(null==o)i=s;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}i=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:s,search:a="",hash:n=""}="string"===typeof e?p(e):e,i=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:i,search:U(a),hash:B(n)}}(n,i),u=o&&"/"!==o&&o.endsWith("/"),h=(r||"."===o)&&s.endsWith("/");return d.pathname.endsWith("/")||!u&&!h||(d.pathname+="/"),d}const M=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],Y=(new Set(V),["get",...V]);new Set(Y),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},q.apply(this,arguments)}const W=t.createContext(null);const H=t.createContext(null);const K=t.createContext(null);const $=t.createContext(null);const G=t.createContext({outlet:null,matches:[],isDataRoute:!1});const J=t.createContext(null);function Q(){return null!=t.useContext($)}function X(){return Q()||c(!1),t.useContext($).location}function Z(e){t.useContext(K).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(G);return e?function(){let{router:e}=ue(ce.UseNavigateStable),s=me(de.UseNavigateStable),a=t.useRef(!1);Z(()=>{a.current=!0});let n=t.useCallback(function(t,n){void 0===n&&(n={}),a.current&&("number"===typeof t?e.navigate(t):e.navigate(t,q({fromRouteId:s},n)))},[e,s]);return n}():function(){Q()||c(!1);let e=t.useContext(W),{basename:s,future:a,navigator:n}=t.useContext(K),{matches:i}=t.useContext(G),{pathname:r}=X(),l=JSON.stringify(O(i,a.v7_relativeSplatPath)),o=t.useRef(!1);Z(()=>{o.current=!0});let d=t.useCallback(function(t,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof t)return void n.go(t);let i=R(t,JSON.parse(l),r,"path"===a.relative);null==e&&"/"!==s&&(i.pathname="/"===i.pathname?s:M([s,i.pathname])),(a.replace?n.replace:n.push)(i,a.state,a)},[s,n,l,r,e]);return d}()}function te(){let{matches:e}=t.useContext(G),s=e[e.length-1];return s?s.params:{}}function se(e,s){let{relative:a}=void 0===s?{}:s,{future:n}=t.useContext(K),{matches:i}=t.useContext(G),{pathname:r}=X(),l=JSON.stringify(O(i,n.v7_relativeSplatPath));return t.useMemo(()=>R(e,JSON.parse(l),r,"path"===a),[e,l,r,a])}function ae(s,a,n,i){Q()||c(!1);let{navigator:r}=t.useContext(K),{matches:l}=t.useContext(G),o=l[l.length-1],d=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let h,m=X();if(a){var f;let e="string"===typeof a?p(a):a;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),h=e}else h=m;let g=h.pathname||"/",x=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(s,{pathname:x});let y=oe(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:M([u,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,i);return a&&y?t.createElement($.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},y):y}function ne(){let e=function(){var e;let s=t.useContext(J),a=he(de.UseRouteError),n=me(de.UseRouteError);if(void 0!==s)return s;return null==(e=a.errors)?void 0:e[n]}(),s=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},s),a?t.createElement("pre",{style:i},a):null,null)}const ie=t.createElement(ne,null);class re extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(G.Provider,{value:this.props.routeContext},t.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:s,match:a,children:n}=e,i=t.useContext(W);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),t.createElement(G.Provider,{value:s},n)}function oe(e,s,a,n){var i;if(void 0===s&&(s=[]),void 0===a&&(a=null),void 0===n&&(n=null),null==e){var r;if(!a)return null;if(a.errors)e=a.matches;else{if(!(null!=(r=n)&&r.v7_partialHydration&&0===s.length&&!a.initialized&&a.matches.length>0))return null;e=a.matches}}let l=e,o=null==(i=a)?void 0:i.errors;if(null!=o){let e=l.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||c(!1),l=l.slice(0,Math.min(l.length,e+1))}let d=!1,u=-1;if(a&&n&&n.v7_partialHydration)for(let t=0;t<l.length;t++){let e=l[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:s}=a,n=e.route.loader&&void 0===t[e.route.id]&&(!s||void 0===s[e.route.id]);if(e.route.lazy||n){d=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight((e,n,i)=>{let r,c=!1,h=null,m=null;var p;a&&(r=o&&n.route.id?o[n.route.id]:void 0,h=n.route.errorElement||ie,d&&(u<0&&0===i?(p="route-fallback",!1||pe[p]||(pe[p]=!0),c=!0,m=null):u===i&&(c=!0,m=n.route.hydrateFallbackElement||null)));let f=s.concat(l.slice(0,i+1)),g=()=>{let s;return s=r?h:c?m:n.route.Component?t.createElement(n.route.Component,null):n.route.element?n.route.element:e,t.createElement(le,{match:n,routeContext:{outlet:e,matches:f,isDataRoute:null!=a},children:s})};return a&&(n.route.ErrorBoundary||n.route.errorElement||0===i)?t.createElement(re,{location:a.location,revalidation:a.revalidation,component:h,error:r,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(e){let s=t.useContext(W);return s||c(!1),s}function he(e){let s=t.useContext(H);return s||c(!1),s}function me(e){let s=function(){let e=t.useContext(G);return e||c(!1),e}(),a=s.matches[s.matches.length-1];return a.route.id||c(!1),a.route.id}const pe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function ge(e){let{to:s,replace:a,state:n,relative:i}=e;Q()||c(!1);let{future:r,static:l}=t.useContext(K),{matches:o}=t.useContext(G),{pathname:d}=X(),u=ee(),h=R(s,O(o,r.v7_relativeSplatPath),d,"path"===i),m=JSON.stringify(h);return t.useEffect(()=>u(JSON.parse(m),{replace:a,state:n,relative:i}),[u,m,i,a,n]),null}function ve(e){c(!1)}function xe(s){let{basename:a="/",children:n=null,location:i,navigationType:r=e.Pop,navigator:l,static:o=!1,future:d}=s;Q()&&c(!1);let u=a.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:u,navigator:l,static:o,future:q({v7_relativeSplatPath:!1},d)}),[u,d,l,o]);"string"===typeof i&&(i=p(i));let{pathname:m="/",search:f="",hash:g="",state:v=null,key:x="default"}=i,b=t.useMemo(()=>{let e=D(m,u);return null==e?null:{location:{pathname:e,search:f,hash:g,state:v,key:x},navigationType:r}},[u,m,f,g,v,x,r]);return null==b?null:t.createElement(K.Provider,{value:h},t.createElement($.Provider,{children:n,value:b}))}function be(e){let{children:t,location:s}=e;return ae(ye(t),s)}new Promise(()=>{});t.Component;function ye(e,s){void 0===s&&(s=[]);let a=[];return t.Children.forEach(e,(e,n)=>{if(!t.isValidElement(e))return;let i=[...s,n];if(e.type===t.Fragment)return void a.push.apply(a,ye(e.props.children,i));e.type!==ve&&c(!1),e.props.index&&e.props.children&&c(!1);let r={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=ye(e.props.children,i)),a.push(r)}),a}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},je.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var s,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)>=0||(n[s]=e[s]);return n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Qh){}new Map;const Se=a.startTransition;r.flushSync,a.useId;function ke(e){let{basename:s,children:a,future:n,window:i}=e,r=t.useRef();var l;null==r.current&&(r.current=(void 0===(l={window:i,v5Compat:!0})&&(l={}),f(function(e,t){let{pathname:s,search:a,hash:n}=e.location;return h("",{pathname:s,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,l)));let o=r.current,[c,d]=t.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},p=t.useCallback(e=>{u&&Se?Se(()=>d(e)):d(e)},[d,u]);return t.useLayoutEffect(()=>o.listen(p),[o,p]),t.useEffect(()=>fe(n),[n]),t.createElement(xe,{basename:s,children:a,location:c.location,navigationType:c.action,navigator:o,future:n})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=t.forwardRef(function(e,s){let a,{onClick:n,relative:i,reloadDocument:r,replace:l,state:o,target:d,to:u,preventScrollReset:h,viewTransition:p}=e,f=Ne(e,we),{basename:g}=t.useContext(K),v=!1;if("string"===typeof u&&Ae.test(u)&&(a=u,Ce))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),s=D(t.pathname,g);t.origin===e.origin&&null!=s?u=s+t.search+t.hash:v=!0}catch(Qh){}let x=function(e,s){let{relative:a}=void 0===s?{}:s;Q()||c(!1);let{basename:n,navigator:i}=t.useContext(K),{hash:r,pathname:l,search:o}=se(e,{relative:a}),d=l;return"/"!==n&&(d="/"===l?n:M([n,l])),i.createHref({pathname:d,search:o,hash:r})}(u,{relative:i}),b=function(e,s){let{target:a,replace:n,state:i,preventScrollReset:r,relative:l,viewTransition:o}=void 0===s?{}:s,c=ee(),d=X(),u=se(e,{relative:l});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,a)){t.preventDefault();let s=void 0!==n?n:m(d)===m(u);c(e,{replace:s,state:i,preventScrollReset:r,relative:l,viewTransition:o})}},[d,c,u,n,i,a,e,r,l,o])}(u,{replace:l,state:o,target:d,preventScrollReset:h,relative:i,viewTransition:p});return t.createElement("a",je({},f,{href:a||x,onClick:v||r?n:function(e){n&&n(e),e.defaultPrevented||b(e)},ref:s,target:d}))});var Pe,Ie;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));var Fe=s(579);const De=(0,t.createContext)(),_e=()=>{const e=(0,t.useContext)(De);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Te=e=>{let{children:s}=e;const[a,n]=(0,t.useState)(null),[i,r]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(console.log("=== AUTH CONTEXT INITIALIZATION ==="),console.log("Token found:",!!e),console.log("User data found:",!!t),console.log("Raw user data:",t),e&&t)try{const e=JSON.parse(t);console.log("Parsed user data:",e),n(e)}catch(s){console.error("Error parsing user data:",s),localStorage.removeItem("token"),localStorage.removeItem("user")}else console.log("No token or user data found in localStorage");r(!1)},[]);const l={user:a,login:(e,t)=>{n(e),localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(e))},logout:()=>{n(null),localStorage.removeItem("token"),localStorage.removeItem("user")},loading:i};return(0,Fe.jsx)(De.Provider,{value:l,children:s})};var Oe=s(476);const Re=s.p+"static/media/rightlogo.1742b4514aa334820279.png",Me=()=>{const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let s=0;s<5;s++)t+=e.charAt(Math.floor(36*Math.random()));return t},Le=()=>{const{login:e}=(0,t.useContext)(De),[s,a]=(0,t.useState)(""),[n,i]=(0,t.useState)(""),[r,l]=(0,t.useState)("official"),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(Me()),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(""),[g,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(""),y=ee(),j=["Welcome to DATE Digital Agristack! \ud83c\udf3e","Empowering Indian Agriculture Today! \ud83d\ude80","Digital Solutions for Modern Farming! \ud83d\udca1","Transforming Agriculture with Technology! \ud83c\udf31","Building a Sustainable Agricultural Future! \ud83c\udf0d","Smart Farming, Smart India! \ud83c\uddee\ud83c\uddf3","Innovation Meets Agriculture! \u26a1","Growing Together, Growing Stronger! \ud83c\udf3f"],N=()=>{const e=Math.floor(Math.random()*j.length);return j[e]};(0,t.useEffect)(()=>{b(N());const e=setInterval(()=>{b(N())},5e3);return()=>clearInterval(e)},[]);const w=e=>{l(e),f(""),c(""),u(Me())};return(0,Fe.jsxs)("div",{className:"login-page-container minimalist",children:[(0,Fe.jsx)("header",{className:"topbar",children:(0,Fe.jsxs)("div",{className:"topbar-content",children:[(0,Fe.jsxs)("div",{className:"topbar-left",children:[(0,Fe.jsx)("img",{src:Re,alt:"DATE Logo",className:"topbar-logo"}),(0,Fe.jsx)("div",{className:"topbar-date",children:(0,Fe.jsx)("span",{className:"date-text",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]}),(0,Fe.jsx)("div",{className:"topbar-welcome",children:(0,Fe.jsx)("h2",{className:"welcome-header",children:x})}),(0,Fe.jsxs)("nav",{className:"topbar-menu",children:[(0,Fe.jsx)("button",{className:"topbar-btn",onClick:()=>y("/"),children:"Home"}),(0,Fe.jsx)("button",{className:"topbar-btn",onClick:()=>y("/analytics"),children:"Dashboard"}),(0,Fe.jsx)("button",{className:"topbar-btn",onClick:()=>y("/menu"),children:"Menu"}),(0,Fe.jsx)("button",{className:"topbar-btn",onClick:()=>y("/about"),children:"About"})]})]})}),(0,Fe.jsxs)("div",{className:"auth-wrapper",children:[(0,Fe.jsxs)("aside",{className:"agri-highlights","aria-label":"Agriculture highlights",children:[(0,Fe.jsx)("h2",{className:"agri-title",children:"Transforming Indian Agriculture"}),(0,Fe.jsxs)("ul",{className:"agri-list",children:[(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("span",{className:"agri-emoji",children:"\ud83c\udf3e"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"agri-point",children:"140+ million farmers connected"}),(0,Fe.jsx)("div",{className:"agri-sub",children:"Digital access to schemes and services"})]})]}),(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("span",{className:"agri-emoji",children:"\ud83d\udce1"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"agri-point",children:"Precision farming & AI insights"}),(0,Fe.jsx)("div",{className:"agri-sub",children:"Crop monitoring, advisory, alerts"})]})]}),(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("span",{className:"agri-emoji",children:"\ud83d\udca7"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"agri-point",children:"Water & soil intelligence"}),(0,Fe.jsx)("div",{className:"agri-sub",children:"Smart irrigation and resource planning"})]})]}),(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("span",{className:"agri-emoji",children:"\ud83d\udcb0"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"agri-point",children:"Direct benefit transfers"}),(0,Fe.jsx)("div",{className:"agri-sub",children:"Faster, transparent financial inclusion"})]})]})]})]}),(0,Fe.jsxs)("div",{className:"auth-card",children:[(0,Fe.jsxs)("div",{className:"auth-brand",children:[(0,Fe.jsx)("img",{src:Re,alt:"DATE Logo",className:"auth-logo"}),(0,Fe.jsx)("div",{className:"auth-title",children:"Digital Agristack Transaction Enterprises"}),(0,Fe.jsx)("div",{className:"auth-subtitle",children:"Empowering Agricultural Excellence"})]}),(0,Fe.jsxs)("div",{className:"auth-tabs",children:[(0,Fe.jsx)("button",{type:"button",className:"auth-tab ".concat("official"===r?"active":""),onClick:()=>w("official"),children:"Official"}),(0,Fe.jsx)("button",{type:"button",className:"auth-tab ".concat("fpo"===r?"active":""),onClick:()=>w("fpo"),children:"FPO"}),(0,Fe.jsx)("button",{type:"button",className:"auth-tab ".concat("employee"===r?"active":""),onClick:()=>w("employee"),children:"Employee"}),(0,Fe.jsx)("button",{type:"button",className:"auth-tab ".concat("farmer"===r?"active":""),onClick:()=>w("farmer"),children:"Farmer"})]}),(0,Fe.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),f(""),v(!0),o.trim().toLowerCase()!==d.toLowerCase())return f("Captcha does not match."),v(!1),u(Me()),void c("");try{var a,i;if("fpo"===r){var l,h,m;const t=await Oe.authAPI.fpoLogin(s,n);console.log("FPO Login Response:",t),console.log("FPO Login Token:",t.token);const a=(t.userType||t.userRole||t.type||"").toString().toUpperCase().includes("EMPLOYEE"),i={userName:t.email,name:t.email,email:t.email,role:a?"EMPLOYEE":"FPO",forcePasswordChange:!1,status:"APPROVED",fpoId:t.fpoId||t.fpoID||(null===t||void 0===t||null===(l=t.fpo)||void 0===l?void 0:l.id),fpoName:t.fpoName||(null===t||void 0===t||null===(h=t.fpo)||void 0===h?void 0:h.name),fpoUserType:t.userType||t.userRole||t.type||(t.isAdmin?"ADMIN":void 0)};console.log("Storing user:",i),console.log("Storing token:",t.token),e(i,t.token);const r=["ADMIN","FPO_ADMIN","FPO-ADMIN","FPOADMIN","ADMINISTRATOR"],o=[t.userType,t.role,t.userRole,t.type,i.fpoUserType],c=o.filter(e=>"string"===typeof e).some(e=>r.includes(e.toUpperCase()))||!0===t.isAdmin||(null===s||void 0===s||null===(m=s.toLowerCase)||void 0===m?void 0:m.call(s).includes("admin")),d=i.fpoId;var p;if(a)d||i.assignedFpoId||null!==(p=i.fpo)&&void 0!==p&&p.id?y("/fpo-employee/dashboard"):y("/employee/dashboard");else y(c&&d?"/fpo-admin/dashboard/".concat(d):d?"/fpo/dashboard/".concat(d):"/fpo/dashboard");return void v(!1)}const t={userName:s,password:n},o=await Oe.authAPI.login(t);console.log("Login - Full login response:",o),console.log("Login - Login response data keys:",Object.keys(o||{}));const c=o.token||o.jwt||o.accessToken||(null===(a=o.data)||void 0===a?void 0:a.token)||localStorage.getItem("token");c&&localStorage.setItem("token",c);const d=o.user||(null===(i=o.data)||void 0===i?void 0:i.user)||o.data;if(console.log("Login - User data from login response:",d),d){var g,x,b,j,N,w,S,k,C,A,E;const t={userName:d.userName||s,name:d.name,email:d.email,role:d.role,forcePasswordChange:o.forcePasswordChange||(null===(g=o.data)||void 0===g?void 0:g.forcePasswordChange)||!1,status:d.status};if(n.includes("Temp@")&&(t.forcePasswordChange=!0,console.log("Login - Detected temporary password, forcing password change")),console.log("Login - User data constructed:",t),console.log("Login - User role from login response:",d.role),e(t,c),console.log("Login - Checking forcePasswordChange:",t.forcePasswordChange),console.log("Login - Password contains Temp@:",n.includes("Temp@")),t.forcePasswordChange)return console.log("Login - Redirecting to change password page"),void y("/change-password");console.log("Login - User role for navigation:",t.role),console.log("Login - User role (normalized):",null===(x=t.role)||void 0===x||null===(b=x.toUpperCase)||void 0===b||null===(j=b.call(x))||void 0===j||null===(N=j.trim)||void 0===N?void 0:N.call(j)),console.log("Login - User role type:",typeof t.role),console.log("Login - User role length:",null===(w=t.role)||void 0===w?void 0:w.length),console.log("Login - User role includes spaces:",null===(S=t.role)||void 0===S?void 0:S.includes(" "));const a=(null===(k=t.role)||void 0===k||null===(C=k.toUpperCase)||void 0===C||null===(A=C.call(k))||void 0===A||null===(E=A.trim)||void 0===E?void 0:E.call(A))||"";if(console.log("Login - Normalized role:",a),console.log("Login - Normalized role === ADMIN:","ADMIN"===a),console.log("Login - Normalized role === SUPER_ADMIN:","SUPER_ADMIN"===a),console.log("Login - Normalized role === EMPLOYEE:","EMPLOYEE"===a),"SUPER_ADMIN"===a)console.log("Login - Redirecting SUPER_ADMIN to /super-admin/dashboard"),y("/super-admin/dashboard");else if("ADMIN"===a)console.log("Login - Redirecting ADMIN to /admin/dashboard"),y("/admin/dashboard");else if("EMPLOYEE"===a){var P;t.fpoId||t.assignedFpoId||null!==(P=t.fpo)&&void 0!==P&&P.id?(console.log("Login - Redirecting FPO EMPLOYEE to /fpo-employee/dashboard"),y("/fpo-employee/dashboard")):(console.log("Login - Redirecting DATE EMPLOYEE to /employee/dashboard"),y("/employee/dashboard"))}else console.log("Login - Redirecting FARMER to /dashboard"),y("/dashboard")}else try{var I,F,D,_,T,O,R,M,L,U;const t=await Oe.authAPI.getProfile();console.log("Login - Profile response data:",t),console.log("Login - Profile response data keys:",Object.keys(t||{}));const a={userName:t.userName||s,name:t.name,email:t.email,role:t.role,forcePasswordChange:t.forcePasswordChange||!1,status:t.status};if(n.includes("Temp@")&&(a.forcePasswordChange=!0,console.log("Login - Detected temporary password, forcing password change")),console.log("Login - User data from profile:",a),console.log("Login - User role from profile:",t.role),e(a,c),console.log("Login - Checking forcePasswordChange:",a.forcePasswordChange),console.log("Login - Password contains Temp@:",n.includes("Temp@")),a.forcePasswordChange)return console.log("Login - Redirecting to change password page"),void y("/change-password");console.log("Login - User role for navigation:",a.role),console.log("Login - User role (normalized):",null===(I=a.role)||void 0===I||null===(F=I.toUpperCase)||void 0===F||null===(D=F.call(I))||void 0===D||null===(_=D.trim)||void 0===_?void 0:_.call(D)),console.log("Login - User role type:",typeof a.role),console.log("Login - User role length:",null===(T=a.role)||void 0===T?void 0:T.length),console.log("Login - User role includes spaces:",null===(O=a.role)||void 0===O?void 0:O.includes(" "));const i=(null===(R=a.role)||void 0===R||null===(M=R.toUpperCase)||void 0===M||null===(L=M.call(R))||void 0===L||null===(U=L.trim)||void 0===U?void 0:U.call(L))||"";if(console.log("Login - Normalized role:",i),console.log("Login - Normalized role === ADMIN:","ADMIN"===i),console.log("Login - Normalized role === SUPER_ADMIN:","SUPER_ADMIN"===i),console.log("Login - Normalized role === EMPLOYEE:","EMPLOYEE"===i),"SUPER_ADMIN"===i)console.log("Login - Redirecting SUPER_ADMIN to /super-admin/dashboard"),y("/super-admin/dashboard");else if("ADMIN"===i)console.log("Login - Redirecting ADMIN to /admin/dashboard"),y("/admin/dashboard");else if("EMPLOYEE"===i){var B;a.fpoId||a.assignedFpoId||null!==(B=a.fpo)&&void 0!==B&&B.id?(console.log("Login - Redirecting FPO EMPLOYEE to /fpo-employee/dashboard"),y("/fpo-employee/dashboard")):(console.log("Login - Redirecting DATE EMPLOYEE to /employee/dashboard"),y("/employee/dashboard"))}else console.log("Login - Redirecting FARMER to /dashboard"),y("/dashboard")}catch(X){var z,V,Y,q,W,H,K,$,G;console.log("Profile fetch failed, trying alternative methods"),console.log("Profile error:",X);let t=null===(z=o.data)||void 0===z?void 0:z.role,a=(null===(V=o.data)||void 0===V?void 0:V.forcePasswordChange)||!1;if(n.includes("Temp@")&&(a=!0,console.log("Login - Detected temporary password, forcing password change")),!t)try{console.log("Login - Trying to get role from /auth/me endpoint");const e=await Oe.authAPI.getProfile();console.log("Login - /auth/me response:",e),t=null===e||void 0===e?void 0:e.role,console.log("Login - Role from /auth/me:",t)}catch(Z){console.log("Login - /auth/me failed:",Z);try{console.log("Login - Trying to get role from /api/auth/users/profile endpoint");const e=await Oe.authAPI.getProfile();console.log("Login - /api/auth/users/profile response:",e),t=null===e||void 0===e?void 0:e.role,console.log("Login - Role from /api/auth/users/profile:",t)}catch(ee){console.log("Login - /api/auth/users/profile failed:",ee)}}if(!t){console.log("Login - No role found, trying to determine from username"),console.log("Login - Username being checked:",s);s.toLowerCase();const e=["projecthinfintiy@12.in","superadmin@hinfinity.in"],a=["karthik.m@hinfinity.in","admin@hinfinity.in"],n=["employee@hinfinity.in","emp@hinfinity.in","testemployee@hinfinity.in","hari2912@gmail.com","harish134@gmail.com","employee2@hinfinity.in","test@employee.com"];console.log("Login - Checking against employee usernames:",n),console.log("Login - Username in employee list?",n.includes(s)),e.includes(s)?(t="SUPER_ADMIN",console.log("Login - Determined role as SUPER_ADMIN from specific username mapping")):a.includes(s)?(t="ADMIN",console.log("Login - Determined role as ADMIN from specific username mapping")):n.includes(s)?(t="EMPLOYEE",console.log("Login - Determined role as EMPLOYEE from specific username mapping"),console.log("Login - Employee username detected:",s)):(t="FARMER",console.log("Login - Defaulting to FARMER role for unknown username"))}const i={userName:s,name:(null===(Y=o.data)||void 0===Y?void 0:Y.name)||s,email:(null===(q=o.data)||void 0===q?void 0:q.email)||s,role:t,forcePasswordChange:a,status:(null===(W=o.data)||void 0===W?void 0:W.status)||"ACTIVE"};if(console.log("Login - Fallback user data:",i),e(i,c),i.forcePasswordChange)return console.log("Login - Fallback: Redirecting to change password page"),void y("/change-password");const r=(null===(H=t)||void 0===H||null===(K=H.toUpperCase)||void 0===K||null===($=K.call(H))||void 0===$||null===(G=$.trim)||void 0===G?void 0:G.call($))||"";console.log("Login - Fallback: Normalized role:",r),"SUPER_ADMIN"===r?(console.log("Login - Fallback: Redirecting SUPER_ADMIN to /super-admin/dashboard"),y("/super-admin/dashboard")):"ADMIN"===r?(console.log("Login - Fallback: Redirecting ADMIN to /admin/dashboard"),y("/admin/dashboard")):"EMPLOYEE"===r?(console.log("Login - Fallback: Redirecting EMPLOYEE to /employee/dashboard"),y("/employee/dashboard")):(console.log("Login - Fallback: Redirecting FARMER to /dashboard"),y("/dashboard"))}}catch(te){var J,Q;console.error("Login error:",te),console.error("Login error response:",te.response),console.error("Login error message:",te.message),f("Login failed: ".concat((null===(J=te.response)||void 0===J||null===(Q=J.data)||void 0===Q?void 0:Q.message)||te.message||"Invalid credentials or server error."))}finally{v(!1)}},className:"auth-form",children:[(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsx)("label",{children:"Insert Registered Mobile Number as Username"}),(0,Fe.jsx)("input",{type:"text",value:s,onChange:e=>a(e.target.value),required:!0,disabled:g,placeholder:"Enter username"})]}),(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsx)("label",{children:"Enter password"}),(0,Fe.jsxs)("div",{className:"auth-password",children:[(0,Fe.jsx)("input",{type:h?"text":"password",value:n,onChange:e=>i(e.target.value),required:!0,disabled:g,placeholder:"Enter password"}),(0,Fe.jsx)("button",{type:"button",className:"auth-eye",onClick:()=>m(!h),children:"\ud83d\udc41\ufe0f"})]})]}),(0,Fe.jsx)("div",{className:"auth-links",children:(0,Fe.jsx)("a",{href:"/forgot-password",children:"Forgot Password?"})}),(0,Fe.jsxs)("div",{className:"auth-captcha",children:[(0,Fe.jsx)("label",{children:"Captcha"}),(0,Fe.jsxs)("div",{className:"auth-captcha-row",children:[(0,Fe.jsx)("div",{className:"auth-captcha-badge",children:(0,Fe.jsx)("span",{children:d})}),(0,Fe.jsx)("button",{type:"button",className:"auth-refresh",onClick:()=>{u(Me()),c("")},children:"\ud83d\udd04"}),(0,Fe.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"Enter Captcha",className:"auth-captcha-input"})]})]}),p&&(0,Fe.jsx)("div",{className:"auth-error",children:p}),(0,Fe.jsxs)("div",{className:"auth-actions",children:[(0,Fe.jsx)("button",{type:"submit",className:"auth-submit",disabled:g,children:g?"Logging in...":"Log In"}),("employee"===r||"farmer"===r||"fpo"===r)&&(0,Fe.jsx)("button",{type:"button",className:"auth-secondary",onClick:()=>{"employee"===r?y("/register-employee",{state:{role:"EMPLOYEE"}}):"farmer"===r?y("/register-farmer",{state:{role:"FARMER"}}):"fpo"===r&&y("/register-fpo",{state:{role:"FPO"}})},children:"Create New user Acount"})]})]})]})]})]})};var Ue=s(379);const Be=e=>{let{cardId:s,onClose:a,inlineMode:n=!1}=e;const[i,r]=(0,t.useState)(null),[l,o]=(0,t.useState)(!0),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(null),[m,p]=(0,t.useState)(null),f=(0,t.useCallback)(async()=>{try{o(!0);const e=await Oe.idCardAPI.getIdCard(s);r(e),o(!1),d(!0),Oe.idCardAPI.downloadIdCardPng(s).then(e=>{const t=new Blob([e],{type:"image/png"}),s=URL.createObjectURL(t);p(s)}).catch(e=>{console.error("Error downloading PNG:",e)}).finally(()=>d(!1))}catch(e){h("Failed to load ID card"),console.error("Error fetching ID card:",e),o(!1)}},[s]);(0,t.useEffect)(()=>{s&&f();const e=e=>{"Escape"===e.key&&(null===a||void 0===a||a())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s,a,f]);return l?n?(0,Fe.jsx)("div",{className:"id-card-inline",children:(0,Fe.jsx)("div",{className:"loading",children:"Loading\u2026"})}):(0,Fe.jsx)("div",{className:"id-card-modal",children:(0,Fe.jsx)("div",{className:"id-card-content",children:(0,Fe.jsx)("div",{className:"loading",children:"Loading ID card..."})})}):u||!i?n?(0,Fe.jsx)("div",{className:"id-card-inline",children:(0,Fe.jsx)("div",{className:"error",children:u||"ID card not found"})}):(0,Fe.jsx)("div",{className:"id-card-modal",children:(0,Fe.jsxs)("div",{className:"id-card-content",children:[(0,Fe.jsx)("div",{className:"error",children:u||"ID card not found"}),(0,Fe.jsx)("button",{onClick:a,className:"close-btn",children:"Close"})]})}):n?(0,Fe.jsx)("div",{className:"id-card-inline",children:(0,Fe.jsx)("div",{className:"id-card-preview",children:m?(0,Fe.jsx)("img",{src:m,alt:"ID Card",className:"id-card-image"}):(0,Fe.jsx)("div",{className:"loading",children:c?"Rendering\u2026":"Preview unavailable"})})}):(0,Fe.jsx)("div",{className:"id-card-modal-fullscreen",onClick:a,children:(0,Fe.jsxs)("div",{className:"id-card-content-fullscreen",onClick:e=>e.stopPropagation(),children:[(0,Fe.jsxs)("div",{className:"id-card-header-fullscreen",children:[(0,Fe.jsxs)("h1",{className:"id-card-title",children:["ID Card ",i.cardId]}),(0,Fe.jsx)("button",{onClick:a,className:"close-btn-fullscreen","aria-label":"Close viewer",children:(0,Fe.jsx)("i",{className:"fas fa-times"})})]}),(0,Fe.jsx)("div",{className:"id-card-body-fullscreen",children:(0,Fe.jsx)("div",{className:"id-card-display-container",children:(0,Fe.jsx)("div",{className:"id-card-display",children:m?(0,Fe.jsx)("img",{src:m,alt:"ID Card Preview",className:"id-card-image-fullscreen"}):(0,Fe.jsxs)("div",{className:"loading-fullscreen",children:[(0,Fe.jsx)("i",{className:"fas fa-spinner fa-spin"}),(0,Fe.jsx)("p",{children:c?"Rendering ID card\u2026":"Preview unavailable"})]})})})}),(0,Fe.jsx)("div",{className:"id-card-actions-fullscreen",children:(0,Fe.jsxs)("div",{className:"action-buttons-container",children:[(0,Fe.jsxs)("button",{onClick:async()=>{try{const e=await Oe.idCardAPI.downloadIdCardPdf(s),t=new Blob([e],{type:"application/pdf"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="idcard_".concat(s,".pdf"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}catch(e){console.error("Error downloading PDF:",e),alert("Failed to download PDF")}},className:"download-btn-fullscreen pdf",children:[(0,Fe.jsx)("i",{className:"fas fa-file-pdf"}),"Download PDF"]}),(0,Fe.jsxs)("button",{onClick:async()=>{try{const e=await Oe.idCardAPI.downloadIdCardPng(s),t=new Blob([e],{type:"image/png"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="idcard_".concat(s,".png"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}catch(e){console.error("Error downloading PNG:",e),alert("Failed to download PNG")}},className:"download-btn-fullscreen png",children:[(0,Fe.jsx)("i",{className:"fas fa-image"}),"Download PNG"]})]})})]})})};function ze(e,t){if(null==e)return{};var s,a,n=function(e,t){if(null==e)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}const Ve=["children"],Ye=["_f"],qe=["name"],We=["_f"],He=["ref","message","type"],Ke=["formControl"];var $e=e=>"checkbox"===e.type,Ge=e=>e instanceof Date,Je=e=>null==e;const Qe=e=>"object"===typeof e;var Xe=e=>!Je(e)&&!Array.isArray(e)&&Qe(e)&&!Ge(e),Ze=e=>Xe(e)&&e.target?$e(e.target)?e.target.checked:e.target.value:e,et=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),tt="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function st(e){let t;const s=Array.isArray(e),a="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(tt&&(e instanceof Blob||a)||!s&&!Xe(e))return e;if(t=s?[]:Object.create(Object.getPrototypeOf(e)),s||(e=>{const t=e.constructor&&e.constructor.prototype;return Xe(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const s in e)e.hasOwnProperty(s)&&(t[s]=st(e[s]));else t=e}return t}var at=e=>/^\w*$/.test(e),nt=e=>void 0===e,it=e=>Array.isArray(e)?e.filter(Boolean):[],rt=e=>it(e.replace(/["|']|\]/g,"").split(/\.|\[/)),lt=(e,t,s)=>{if(!t||!Xe(e))return s;const a=(at(t)?[t]:rt(t)).reduce((e,t)=>Je(e)?e:e[t],e);return nt(a)||a===e?nt(e[t])?s:e[t]:a},ot=e=>"boolean"===typeof e,ct=(e,t,s)=>{let a=-1;const n=at(t)?[t]:rt(t),i=n.length,r=i-1;for(;++a<i;){const t=n[a];let i=s;if(a!==r){const s=e[t];i=Xe(s)||Array.isArray(s)?s:isNaN(+n[a+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=i,e=e[t]}};const dt="blur",ut="focusout",ht="onBlur",mt="onChange",pt="onSubmit",ft="onTouched",gt="all",vt="max",xt="min",bt="maxLength",yt="minLength",jt="pattern",Nt="required",wt="validate",St=t.createContext(null);St.displayName="HookFormContext";const kt=e=>{const{children:s}=e,a=ze(e,Ve);return t.createElement(St.Provider,{value:a},s)};var Ct=function(e,t,s){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const n={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const n=i;return t._proxyFormState[n]!==gt&&(t._proxyFormState[n]=!a||gt),s&&(s[n]=!0),e[n]}});return n};const At="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var Et=e=>"string"===typeof e,Pt=(e,t,s,a,n)=>Et(e)?(a&&t.watch.add(e),lt(s,e,n)):Array.isArray(e)?e.map(e=>(a&&t.watch.add(e),lt(s,e))):(a&&(t.watchAll=!0),s),It=e=>Je(e)||!Qe(e);function Ft(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(It(e)||It(t))return e===t;if(Ge(e)&&Ge(t))return e.getTime()===t.getTime();const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const i of a){const a=e[i];if(!n.includes(i))return!1;if("ref"!==i){const e=t[i];if(Ge(a)&&Ge(e)||Xe(a)&&Xe(e)||Array.isArray(a)&&Array.isArray(e)?!Ft(a,e,s):a!==e)return!1}}return!0}var Dt=(e,t,s,a,n)=>t?(0,Ue.A)((0,Ue.A)({},s[e]),{},{types:(0,Ue.A)((0,Ue.A)({},s[e]&&s[e].types?s[e].types:{}),{},{[a]:n||!0})}):{},_t=e=>Array.isArray(e)?e:[e],Tt=()=>{let e=[];return{get observers(){return e},next:t=>{for(const s of e)s.next&&s.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},Ot=e=>Xe(e)&&!Object.keys(e).length,Rt=e=>"file"===e.type,Mt=e=>"function"===typeof e,Lt=e=>{if(!tt)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ut=e=>"select-multiple"===e.type,Bt=e=>"radio"===e.type,zt=e=>Lt(e)&&e.isConnected;function Vt(e,t){const s=Array.isArray(t)?t:at(t)?[t]:rt(t),a=1===s.length?e:function(e,t){const s=t.slice(0,-1).length;let a=0;for(;a<s;)e=nt(e)?a++:e[t[a++]];return e}(e,s),n=s.length-1,i=s[n];return a&&delete a[i],0!==n&&(Xe(a)&&Ot(a)||Array.isArray(a)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!nt(e[t]))return!1;return!0}(a))&&Vt(e,s.slice(0,-1)),e}var Yt=e=>{for(const t in e)if(Mt(e[t]))return!0;return!1};function qt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=Array.isArray(e);if(Xe(e)||s)for(const a in e)Array.isArray(e[a])||Xe(e[a])&&!Yt(e[a])?(t[a]=Array.isArray(e[a])?[]:{},qt(e[a],t[a])):Je(e[a])||(t[a]=!0);return t}function Wt(e,t,s){const a=Array.isArray(e);if(Xe(e)||a)for(const n in e)Array.isArray(e[n])||Xe(e[n])&&!Yt(e[n])?nt(t)||It(s[n])?s[n]=Array.isArray(e[n])?qt(e[n],[]):(0,Ue.A)({},qt(e[n])):Wt(e[n],Je(t)?{}:t[n],s[n]):s[n]=!Ft(e[n],t[n]);return s}var Ht=(e,t)=>Wt(e,t,qt(t));const Kt={value:!1,isValid:!1},$t={value:!0,isValid:!0};var Gt=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!nt(e[0].attributes.value)?nt(e[0].value)||""===e[0].value?$t:{value:e[0].value,isValid:!0}:$t:Kt}return Kt},Jt=(e,t)=>{let{valueAsNumber:s,valueAsDate:a,setValueAs:n}=t;return nt(e)?e:s?""===e?NaN:e?+e:e:a&&Et(e)?new Date(e):n?n(e):e};const Qt={isValid:!1,value:null};var Xt=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Qt):Qt;function Zt(e){const t=e.ref;return Rt(t)?t.files:Bt(t)?Xt(e.refs).value:Ut(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):$e(t)?Gt(e.refs).value:Jt(nt(t.value)?e.ref.value:t.value,e)}var es=e=>e instanceof RegExp,ts=e=>nt(e)?e:es(e)?e.source:Xe(e)?es(e.value)?e.value.source:e.value:e,ss=e=>({isOnSubmit:!e||e===pt,isOnBlur:e===ht,isOnChange:e===mt,isOnAll:e===gt,isOnTouch:e===ft});const as="AsyncFunction";var ns=e=>!!e&&!!e.validate&&!!(Mt(e.validate)&&e.validate.constructor.name===as||Xe(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===as)),is=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const rs=(e,t,s,a)=>{for(const n of s||Object.keys(e)){const s=lt(e,n);if(s){const{_f:e}=s,i=ze(s,Ye);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],n)&&!a)return!0;if(e.ref&&t(e.ref,e.name)&&!a)return!0;if(rs(i,t))break}else if(Xe(i)&&rs(i,t))break}}};function ls(e,t,s){const a=lt(e,s);if(a||at(s))return{error:a,name:s};const n=s.split(".");for(;n.length;){const a=n.join("."),i=lt(t,a),r=lt(e,a);if(i&&!Array.isArray(i)&&s!==a)return{name:s};if(r&&r.type)return{name:a,error:r};if(r&&r.root&&r.root.type)return{name:"".concat(a,".root"),error:r.root};n.pop()}return{name:s}}var os=(e,t,s)=>{const a=_t(lt(e,s));return ct(a,"root",t[s]),ct(e,s,a),e},cs=e=>Et(e);function ds(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(cs(e)||Array.isArray(e)&&e.every(cs)||ot(e)&&!e)return{type:s,message:cs(e)?e:"",ref:t}}var us=e=>Xe(e)&&!es(e)?e:{value:e,message:""},hs=async(e,t,s,a,n,i)=>{const{ref:r,refs:l,required:o,maxLength:c,minLength:d,min:u,max:h,pattern:m,validate:p,name:f,valueAsNumber:g,mount:v}=e._f,x=lt(s,f);if(!v||t.has(f))return{};const b=l?l[0]:r,y=e=>{n&&b.reportValidity&&(b.setCustomValidity(ot(e)?"":e||""),b.reportValidity())},j={},N=Bt(r),w=$e(r),S=N||w,k=(g||Rt(r))&&nt(r.value)&&nt(x)||Lt(r)&&""===r.value||""===x||Array.isArray(x)&&!x.length,C=Dt.bind(null,f,a,j),A=function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bt,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yt;const i=e?t:s;j[f]=(0,Ue.A)({type:e?a:n,message:i,ref:r},C(e?a:n,i))};if(i?!Array.isArray(x)||!x.length:o&&(!S&&(k||Je(x))||ot(x)&&!x||w&&!Gt(l).isValid||N&&!Xt(l).isValid)){const{value:e,message:t}=cs(o)?{value:!!o,message:o}:us(o);if(e&&(j[f]=(0,Ue.A)({type:Nt,message:t,ref:b},C(Nt,t)),!a))return y(t),j}if(!k&&(!Je(u)||!Je(h))){let e,t;const s=us(h),n=us(u);if(Je(x)||isNaN(x)){const a=r.valueAsDate||new Date(x),i=e=>new Date((new Date).toDateString()+" "+e),l="time"==r.type,o="week"==r.type;Et(s.value)&&x&&(e=l?i(x)>i(s.value):o?x>s.value:a>new Date(s.value)),Et(n.value)&&x&&(t=l?i(x)<i(n.value):o?x<n.value:a<new Date(n.value))}else{const a=r.valueAsNumber||(x?+x:x);Je(s.value)||(e=a>s.value),Je(n.value)||(t=a<n.value)}if((e||t)&&(A(!!e,s.message,n.message,vt,xt),!a))return y(j[f].message),j}if((c||d)&&!k&&(Et(x)||i&&Array.isArray(x))){const e=us(c),t=us(d),s=!Je(e.value)&&x.length>+e.value,n=!Je(t.value)&&x.length<+t.value;if((s||n)&&(A(s,e.message,t.message),!a))return y(j[f].message),j}if(m&&!k&&Et(x)){const{value:e,message:t}=us(m);if(es(e)&&!x.match(e)&&(j[f]=(0,Ue.A)({type:jt,message:t,ref:r},C(jt,t)),!a))return y(t),j}if(p)if(Mt(p)){const e=ds(await p(x,s),b);if(e&&(j[f]=(0,Ue.A)((0,Ue.A)({},e),C(wt,e.message)),!a))return y(e.message),j}else if(Xe(p)){let e={};for(const t in p){if(!Ot(e)&&!a)break;const n=ds(await p[t](x,s),b,t);n&&(e=(0,Ue.A)((0,Ue.A)({},n),C(t,n.message)),y(n.message),a&&(j[f]=e))}if(!Ot(e)&&(j[f]=(0,Ue.A)({ref:b},e),!a))return j}return y(!0),j};const ms={mode:pt,reValidateMode:mt,shouldFocusError:!0};function ps(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,Ue.A)((0,Ue.A)({},ms),t),a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Mt(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},n={},i=(Xe(s.defaultValues)||Xe(s.values))&&st(s.defaultValues||s.values)||{},r=s.shouldUnregister?{}:st(i),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u=(0,Ue.A)({},d);const h={array:Tt(),state:Tt()},m=s.criteriaMode===gt,p=async e=>{if(!s.disabled&&(d.isValid||u.isValid||e)){const e=s.resolver?Ot((await b()).errors):await y(n,!0);e!==a.isValid&&h.state.next({isValid:e})}},f=(e,t)=>{!s.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((e||Array.from(o.mount)).forEach(e=>{e&&(t?ct(a.validatingFields,e,t):Vt(a.validatingFields,e))}),h.state.next({validatingFields:a.validatingFields,isValidating:!Ot(a.validatingFields)}))},g=(e,t,s,a)=>{const o=lt(n,e);if(o){const n=lt(r,e,nt(s)?lt(i,e):s);nt(n)||a&&a.defaultChecked||t?ct(r,e,t?n:Zt(o._f)):w(e,n),l.mount&&p()}},v=(e,t,n,r,l)=>{let o=!1,c=!1;const m={name:e};if(!s.disabled){if(!n||r){(d.isDirty||u.isDirty)&&(c=a.isDirty,a.isDirty=m.isDirty=j(),o=c!==m.isDirty);const s=Ft(lt(i,e),t);c=!!lt(a.dirtyFields,e),s?Vt(a.dirtyFields,e):ct(a.dirtyFields,e,!0),m.dirtyFields=a.dirtyFields,o=o||(d.dirtyFields||u.dirtyFields)&&c!==!s}if(n){const t=lt(a.touchedFields,e);t||(ct(a.touchedFields,e,n),m.touchedFields=a.touchedFields,o=o||(d.touchedFields||u.touchedFields)&&t!==n)}o&&l&&h.state.next(m)}return o?m:{}},x=(t,n,i,r)=>{const l=lt(a.errors,t),o=(d.isValid||u.isValid)&&ot(n)&&a.isValid!==n;if(s.delayError&&i?(e=(e=>t=>{clearTimeout(c),c=setTimeout(e,t)})(()=>((e,t)=>{ct(a.errors,e,t),h.state.next({errors:a.errors})})(t,i)),e(s.delayError)):(clearTimeout(c),e=null,i?ct(a.errors,t,i):Vt(a.errors,t)),(i?!Ft(l,i):l)||!Ot(r)||o){const e=(0,Ue.A)((0,Ue.A)((0,Ue.A)({},r),o&&ot(n)?{isValid:n}:{}),{},{errors:a.errors,name:t});a=(0,Ue.A)((0,Ue.A)({},a),e),h.state.next(e)}},b=async e=>{f(e,!0);const t=await s.resolver(r,s.context,((e,t,s,a)=>{const n={};for(const i of e){const e=lt(t,i);e&&ct(n,i,e._f)}return{criteriaMode:s,names:[...e],fields:n,shouldUseNativeValidation:a}})(e||o.mount,n,s.criteriaMode,s.shouldUseNativeValidation));return f(e),t},y=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const i in e){const l=e[i];if(l){const{_f:e}=l,c=ze(l,We);if(e){const c=o.array.has(e.name),u=l._f&&ns(l._f);u&&d.validatingFields&&f([i],!0);const h=await hs(l,o.disabled,r,m,s.shouldUseNativeValidation&&!t,c);if(u&&d.validatingFields&&f([i]),h[e.name]&&(n.valid=!1,t))break;!t&&(lt(h,e.name)?c?os(a.errors,h,e.name):ct(a.errors,e.name,h[e.name]):Vt(a.errors,e.name))}!Ot(c)&&await y(c,t,n)}}return n.valid},j=(e,t)=>!s.disabled&&(e&&t&&ct(r,e,t),!Ft(P(),i)),N=(e,t,s)=>Pt(e,o,(0,Ue.A)({},l.mount?r:nt(t)?i:Et(e)?{[e]:t}:t),s,t),w=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=lt(n,e);let i=t;if(a){const s=a._f;s&&(!s.disabled&&ct(r,e,Jt(t,s)),i=Lt(s.ref)&&Je(t)?"":t,Ut(s.ref)?[...s.ref.options].forEach(e=>e.selected=i.includes(e.value)):s.refs?$e(s.ref)?s.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(i)?e.checked=!!i.find(t=>t===e.value):e.checked=i===e.value||!!i)}):s.refs.forEach(e=>e.checked=e.value===i):Rt(s.ref)?s.ref.value="":(s.ref.value=i,s.ref.type||h.state.next({name:e,values:st(r)})))}(s.shouldDirty||s.shouldTouch)&&v(e,i,s.shouldTouch,s.shouldDirty,!0),s.shouldValidate&&E(e)},S=(e,t,s)=>{for(const a in t){if(!t.hasOwnProperty(a))return;const i=t[a],r=e+"."+a,l=lt(n,r);(o.array.has(e)||Xe(i)||l&&!l._f)&&!Ge(i)?S(r,i,s):w(r,i,s)}},k=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=lt(n,e),m=o.array.has(e),p=st(t);ct(r,e,p),m?(h.array.next({name:e,values:st(r)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&s.shouldDirty&&h.state.next({name:e,dirtyFields:Ht(i,r),isDirty:j(e,p)})):!c||c._f||Je(p)?w(e,p,s):S(e,p,s),is(e,o)&&h.state.next((0,Ue.A)((0,Ue.A)({},a),{},{name:e})),h.state.next({name:l.mount?e:void 0,values:st(r)})},C=async t=>{l.mount=!0;const i=t.target;let c=i.name,g=!0;const j=lt(n,c),N=e=>{g=Number.isNaN(e)||Ge(e)&&isNaN(e.getTime())||Ft(e,lt(r,c,e))},w=ss(s.mode),S=ss(s.reValidateMode);if(j){let l,C;const A=i.type?Zt(j._f):Ze(t),P=t.type===dt||t.type===ut,I=!((k=j._f).mount&&(k.required||k.min||k.max||k.maxLength||k.minLength||k.pattern||k.validate))&&!s.resolver&&!lt(a.errors,c)&&!j._f.deps||((e,t,s,a,n)=>!n.isOnAll&&(!s&&n.isOnTouch?!(t||e):(s?a.isOnBlur:n.isOnBlur)?!e:!(s?a.isOnChange:n.isOnChange)||e))(P,lt(a.touchedFields,c),a.isSubmitted,S,w),F=is(c,o,P);ct(r,c,A),P?i&&i.readOnly||(j._f.onBlur&&j._f.onBlur(t),e&&e(0)):j._f.onChange&&j._f.onChange(t);const D=v(c,A,P),_=!Ot(D)||F;if(!P&&h.state.next({name:c,type:t.type,values:st(r)}),I)return(d.isValid||u.isValid)&&("onBlur"===s.mode?P&&p():P||p()),_&&h.state.next((0,Ue.A)({name:c},F?{}:D));if(!P&&F&&h.state.next((0,Ue.A)({},a)),s.resolver){const{errors:e}=await b([c]);if(N(A),g){const t=ls(a.errors,n,c),s=ls(e,n,t.name||c);l=s.error,c=s.name,C=Ot(e)}}else f([c],!0),l=(await hs(j,o.disabled,r,m,s.shouldUseNativeValidation))[c],f([c]),N(A),g&&(l?C=!1:(d.isValid||u.isValid)&&(C=await y(n,!0)));g&&(j._f.deps&&E(j._f.deps),x(c,C,l,D))}var k},A=(e,t)=>{if(lt(a.errors,t)&&e.focus)return e.focus(),1},E=async function(e){let t,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=_t(e);if(s.resolver){const s=await(async e=>{const{errors:t}=await b(e);if(e)for(const s of e){const e=lt(t,s);e?ct(a.errors,s,e):Vt(a.errors,s)}else a.errors=t;return t})(nt(e)?e:l);t=Ot(s),i=e?!l.some(e=>lt(s,e)):t}else e?(i=(await Promise.all(l.map(async e=>{const t=lt(n,e);return await y(t&&t._f?{[e]:t}:t)}))).every(Boolean),(i||a.isValid)&&p()):i=t=await y(n);return h.state.next((0,Ue.A)((0,Ue.A)((0,Ue.A)({},!Et(e)||(d.isValid||u.isValid)&&t!==a.isValid?{}:{name:e}),s.resolver||!e?{isValid:t}:{}),{},{errors:a.errors})),r.shouldFocus&&!i&&rs(n,A,e?l:o.mount),i},P=e=>{const t=(0,Ue.A)({},l.mount?r:i);return nt(e)?t:Et(e)?lt(t,e):e.map(e=>lt(t,e))},I=(e,t)=>({invalid:!!lt((t||a).errors,e),isDirty:!!lt((t||a).dirtyFields,e),error:lt((t||a).errors,e),isValidating:!!lt(a.validatingFields,e),isTouched:!!lt((t||a).touchedFields,e)}),F=(e,t,s)=>{const i=(lt(n,e,{_f:{}})._f||{}).ref,r=lt(a.errors,e)||{},{ref:l,message:o,type:c}=r,d=ze(r,He);ct(a.errors,e,(0,Ue.A)((0,Ue.A)((0,Ue.A)({},d),t),{},{ref:i})),h.state.next({name:e,errors:a.errors,isValid:!1}),s&&s.shouldFocus&&i&&i.focus&&i.focus()},D=e=>h.state.subscribe({next:t=>{var s,n,l;s=e.name,n=t.name,l=e.exact,s&&n&&s!==n&&!_t(s).some(e=>e&&(l?e===n:e.startsWith(n)||n.startsWith(e)))||!((e,t,s,a)=>{s(e);const{name:n}=e,i=ze(e,qe);return Ot(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(e=>t[e]===(!a||gt))})(t,e.formState||d,B,e.reRenderRoot)||e.callback((0,Ue.A)((0,Ue.A)((0,Ue.A)({values:(0,Ue.A)({},r)},a),t),{},{defaultValues:i}))}}).unsubscribe,_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const l of e?_t(e):o.mount)o.mount.delete(l),o.array.delete(l),t.keepValue||(Vt(n,l),Vt(r,l)),!t.keepError&&Vt(a.errors,l),!t.keepDirty&&Vt(a.dirtyFields,l),!t.keepTouched&&Vt(a.touchedFields,l),!t.keepIsValidating&&Vt(a.validatingFields,l),!s.shouldUnregister&&!t.keepDefaultValue&&Vt(i,l);h.state.next({values:st(r)}),h.state.next((0,Ue.A)((0,Ue.A)({},a),t.keepDirty?{isDirty:j()}:{})),!t.keepIsValid&&p()},T=e=>{let{disabled:t,name:s}=e;(ot(t)&&l.mount||t||o.disabled.has(s))&&(t?o.disabled.add(s):o.disabled.delete(s))},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=lt(n,e);const r=ot(t.disabled)||ot(s.disabled);return ct(n,e,(0,Ue.A)((0,Ue.A)({},a||{}),{},{_f:(0,Ue.A)((0,Ue.A)({},a&&a._f?a._f:{ref:{name:e}}),{},{name:e,mount:!0},t)})),o.mount.add(e),a?T({disabled:ot(t.disabled)?t.disabled:s.disabled,name:e}):g(e,!0,t.value),(0,Ue.A)((0,Ue.A)((0,Ue.A)({},r?{disabled:t.disabled||s.disabled}:{}),s.progressive?{required:!!t.required,min:ts(t.min),max:ts(t.max),minLength:ts(t.minLength),maxLength:ts(t.maxLength),pattern:ts(t.pattern)}:{}),{},{name:e,onChange:C,onBlur:C,ref:r=>{if(r){O(e,t),a=lt(n,e);const s=nt(r.value)&&r.querySelectorAll&&r.querySelectorAll("input,select,textarea")[0]||r,l=(e=>Bt(e)||$e(e))(s),o=a._f.refs||[];if(l?o.find(e=>e===s):s===a._f.ref)return;ct(n,e,{_f:(0,Ue.A)((0,Ue.A)({},a._f),l?{refs:[...o.filter(zt),s,...Array.isArray(lt(i,e))?[{}]:[]],ref:{type:s.type,name:e}}:{ref:s})}),g(e,!1,void 0,s)}else a=lt(n,e,{}),a._f&&(a._f.mount=!1),(s.shouldUnregister||t.shouldUnregister)&&(!et(o.array,e)||!l.action)&&o.unMount.add(e)}})},R=()=>s.shouldFocusError&&rs(n,A,o.mount),M=(e,t)=>async i=>{let l;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let c=st(r);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:e,values:t}=await b();a.errors=e,c=st(t)}else await y(n);if(o.disabled.size)for(const e of o.disabled)Vt(c,e);if(Vt(a.errors,"root"),Ot(a.errors)){h.state.next({errors:{}});try{await e(c,i)}catch(d){l=d}}else t&&await t((0,Ue.A)({},a.errors),i),R(),setTimeout(R);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ot(a.errors)&&!l,submitCount:a.submitCount+1,errors:a.errors}),l)throw l},L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?st(e):i,u=st(c),m=Ot(e),p=m?i:u;if(t.keepDefaultValues||(i=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(Ht(i,r))]);for(const t of Array.from(e))lt(a.dirtyFields,t)?ct(p,t,lt(r,t)):k(t,lt(p,t))}else{if(tt&&nt(e))for(const e of o.mount){const t=lt(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Lt(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of o.mount)k(e,lt(p,e));else n={}}r=s.shouldUnregister?t.keepDefaultValues?st(i):{}:st(p),h.array.next({values:(0,Ue.A)({},p)}),h.state.next({values:(0,Ue.A)({},p)})}o={mount:t.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!d.isValid||!!t.keepIsValid||!!t.keepDirtyValues,l.watch=!!s.shouldUnregister,h.state.next({submitCount:t.keepSubmitCount?a.submitCount:0,isDirty:!m&&(t.keepDirty?a.isDirty:!(!t.keepDefaultValues||Ft(e,i))),isSubmitted:!!t.keepIsSubmitted&&a.isSubmitted,dirtyFields:m?{}:t.keepDirtyValues?t.keepDefaultValues&&r?Ht(i,r):a.dirtyFields:t.keepDefaultValues&&e?Ht(i,e):t.keepDirty?a.dirtyFields:{},touchedFields:t.keepTouched?a.touchedFields:{},errors:t.keepErrors?a.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&a.isSubmitSuccessful,isSubmitting:!1,defaultValues:i})},U=(e,t)=>L(Mt(e)?e(r):e,t),B=e=>{a=(0,Ue.A)((0,Ue.A)({},a),e)},z={control:{register:O,unregister:_,getFieldState:I,handleSubmit:M,setError:F,_subscribe:D,_runSchema:b,_focusError:R,_getWatch:N,_getDirty:j,_setValid:p,_setFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,m=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&o&&!s.disabled){if(l.action=!0,p&&Array.isArray(lt(n,e))){const t=o(lt(n,e),c.argA,c.argB);m&&ct(n,e,t)}if(p&&Array.isArray(lt(a.errors,e))){const t=o(lt(a.errors,e),c.argA,c.argB);m&&ct(a.errors,e,t),((e,t)=>{!it(lt(e,t)).length&&Vt(e,t)})(a.errors,e)}if((d.touchedFields||u.touchedFields)&&p&&Array.isArray(lt(a.touchedFields,e))){const t=o(lt(a.touchedFields,e),c.argA,c.argB);m&&ct(a.touchedFields,e,t)}(d.dirtyFields||u.dirtyFields)&&(a.dirtyFields=Ht(i,r)),h.state.next({name:e,isDirty:j(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else ct(r,e,t)},_setDisabledField:T,_setErrors:e=>{a.errors=e,h.state.next({errors:a.errors,isValid:!1})},_getFieldArray:e=>it(lt(l.mount?r:i,e,s.shouldUnregister?lt(i,e,[]):[])),_reset:L,_resetDefaultValues:()=>Mt(s.defaultValues)&&s.defaultValues().then(e=>{U(e,s.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of o.unMount){const t=lt(n,e);t&&(t._f.refs?t._f.refs.every(e=>!zt(e)):!zt(t._f.ref))&&_(e)}o.unMount=new Set},_disableForm:e=>{ot(e)&&(h.state.next({disabled:e}),rs(n,(t,s)=>{const a=lt(n,s);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach(t=>{t.disabled=a._f.disabled||e}))},0,!1))},_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return r},get _state(){return l},set _state(e){l=e},get _defaultValues(){return i},get _names(){return o},set _names(e){o=e},get _formState(){return a},get _options(){return s},set _options(e){s=(0,Ue.A)((0,Ue.A)({},s),e)}},subscribe:e=>(l.mount=!0,u=(0,Ue.A)((0,Ue.A)({},u),e.formState),D((0,Ue.A)((0,Ue.A)({},e),{},{formState:u}))),trigger:E,register:O,handleSubmit:M,watch:(e,t)=>Mt(e)?h.state.subscribe({next:s=>"values"in s&&e(N(void 0,t),s)}):N(e,t,!0),setValue:k,getValues:P,reset:U,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};lt(n,e)&&(nt(t.defaultValue)?k(e,st(lt(i,e))):(k(e,t.defaultValue),ct(i,e,st(t.defaultValue))),t.keepTouched||Vt(a.touchedFields,e),t.keepDirty||(Vt(a.dirtyFields,e),a.isDirty=t.defaultValue?j(e,st(lt(i,e))):j()),t.keepError||(Vt(a.errors,e),d.isValid&&p()),h.state.next((0,Ue.A)({},a)))},clearErrors:e=>{e&&_t(e).forEach(e=>Vt(a.errors,e)),h.state.next({errors:e?a.errors:{}})},unregister:_,setError:F,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=lt(n,e),a=s&&s._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&Mt(e.select)&&e.select())}},getFieldState:I};return(0,Ue.A)((0,Ue.A)({},z),{},{formControl:z})}function fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=t.useRef(void 0),a=t.useRef(void 0),[n,i]=t.useState({isDirty:!1,isValidating:!1,isLoading:Mt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Mt(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current=(0,Ue.A)((0,Ue.A)({},e.formControl),{},{formState:n}),e.defaultValues&&!Mt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const t=ps(e),{formControl:a}=t,i=ze(t,Ke);s.current=(0,Ue.A)((0,Ue.A)({},i),{},{formState:n})}const r=s.current.control;return r._options=e,At(()=>{const e=r._subscribe({formState:r._proxyFormState,callback:()=>i((0,Ue.A)({},r._formState)),reRenderRoot:!0});return i(e=>(0,Ue.A)((0,Ue.A)({},e),{},{isReady:!0})),r._formState.isReady=!0,e},[r]),t.useEffect(()=>r._disableForm(e.disabled),[r,e.disabled]),t.useEffect(()=>{e.mode&&(r._options.mode=e.mode),e.reValidateMode&&(r._options.reValidateMode=e.reValidateMode)},[r,e.mode,e.reValidateMode]),t.useEffect(()=>{e.errors&&(r._setErrors(e.errors),r._focusError())},[r,e.errors]),t.useEffect(()=>{e.shouldUnregister&&r._subjects.state.next({values:r._getWatch()})},[r,e.shouldUnregister]),t.useEffect(()=>{if(r._proxyFormState.isDirty){const e=r._getDirty();e!==n.isDirty&&r._subjects.state.next({isDirty:e})}},[r,n.isDirty]),t.useEffect(()=>{e.values&&!Ft(e.values,a.current)?(r._reset(e.values,(0,Ue.A)({keepFieldsRef:!0},r._options.resetOptions)),a.current=e.values,i(e=>(0,Ue.A)({},e))):r._resetDefaultValues()},[r,e.values]),t.useEffect(()=>{r._state.mount||(r._setValid(),r._state.mount=!0),r._state.watch&&(r._state.watch=!1,r._subjects.state.next((0,Ue.A)({},r._formState))),r._removeUnmounted()}),s.current.formState=Ct(n,r),s.current}const gs=e=>{var s,a,n,i,r,l,o,c,d,u,h,m,p,f,g,v,x,b,y,j,N,w,S,k,C,A,E,P,I,F,D,_,T,O,R,M,L,U,B,z,V,Y,q,W;let{isInDashboard:H=!1,editData:K=null,onClose:$,onSubmit:G}=e;const J=ee(),[Q,X]=(0,t.useState)(0),[Z,te]=(0,t.useState)(null),[se,ae]=(0,t.useState)(null),[ne,ie]=(0,t.useState)(""),[re,le]=(0,t.useState)(""),[oe,ce]=(0,t.useState)(""),[de,ue]=(0,t.useState)(""),[he,me]=(0,t.useState)("Current"),[pe]=(0,t.useState)(K),[fe]=(0,t.useState)((null===K||void 0===K?void 0:K.photo)||null);(0,t.useEffect)(()=>{null!==K&&void 0!==K&&K.photoFileName&&ie(K.photoFileName)},[K]);const ge=fs({defaultValues:{salutation:(null===K||void 0===K?void 0:K.salutation)||"",firstName:(null===K||void 0===K?void 0:K.firstName)||"",middleName:(null===K||void 0===K?void 0:K.middleName)||"",lastName:(null===K||void 0===K?void 0:K.lastName)||"",gender:(null===K||void 0===K?void 0:K.gender)||"",nationality:(null===K||void 0===K?void 0:K.nationality)||"",dateOfBirth:(null===K||void 0===K?void 0:K.dateOfBirth)||"",contactNumber:(null===K||void 0===K?void 0:K.contactNumber)||"",fatherName:(null===K||void 0===K?void 0:K.fatherName)||"",alternativeType:(null===K||void 0===K?void 0:K.alternativeType)||"",alternativeNumber:(null===K||void 0===K?void 0:K.alternativeNumber)||"",email:(null===K||void 0===K?void 0:K.email)||"",photo:(null===K||void 0===K?void 0:K.photo)||null,country:(null===K||void 0===K?void 0:K.country)||"India",state:(null===K||void 0===K?void 0:K.state)||"",district:(null===K||void 0===K?void 0:K.district)||"",block:(null===K||void 0===K?void 0:K.block)||"",village:(null===K||void 0===K?void 0:K.village)||"",pincode:(null===K||void 0===K?void 0:K.pincode)||"",education:(null===K||void 0===K?void 0:K.education)||"",experience:(null===K||void 0===K?void 0:K.experience)||"",currentSurveyNumber:(null===K||void 0===K?void 0:K.currentSurveyNumber)||"",currentLandHolding:(null===K||void 0===K?void 0:K.currentLandHolding)||"",currentGeoTag:(null===K||void 0===K?void 0:K.currentGeoTag)||"",currentCrop:(null===K||void 0===K?void 0:K.currentCrop)||"",currentNetIncome:(null===K||void 0===K?void 0:K.currentNetIncome)||"",currentSoilTest:(null===K||void 0===K?void 0:K.currentSoilTest)||"",currentSoilTestCertificateFileName:(null===K||void 0===K?void 0:K.currentSoilTestCertificateFileName)||null,proposedSurveyNumber:(null===K||void 0===K?void 0:K.proposedSurveyNumber)||"",proposedLandHolding:(null===K||void 0===K?void 0:K.proposedLandHolding)||"",proposedGeoTag:(null===K||void 0===K?void 0:K.proposedGeoTag)||"",cropType:(null===K||void 0===K?void 0:K.cropType)||"",netIncome:(null===K||void 0===K?void 0:K.netIncome)||"",proposedSoilTest:(null===K||void 0===K?void 0:K.proposedSoilTest)||"",soilTestCertificate:(null===K||void 0===K?void 0:K.soilTestCertificate)||null,currentWaterSource:(null===K||void 0===K?void 0:K.currentWaterSource)||"",currentDischargeLPH:(null===K||void 0===K?void 0:K.currentDischargeLPH)||"",currentSummerDischarge:(null===K||void 0===K?void 0:K.currentSummerDischarge)||"",currentBorewellLocation:(null===K||void 0===K?void 0:K.currentBorewellLocation)||"",proposedWaterSource:(null===K||void 0===K?void 0:K.proposedWaterSource)||"",proposedDischargeLPH:(null===K||void 0===K?void 0:K.proposedDischargeLPH)||"",proposedSummerDischarge:(null===K||void 0===K?void 0:K.proposedSummerDischarge)||"",proposedBorewellLocation:(null===K||void 0===K?void 0:K.proposedBorewellLocation)||"",bankName:(null===K||void 0===K?void 0:K.bankName)||"",accountNumber:(null===K||void 0===K?void 0:K.accountNumber)||"",branchName:(null===K||void 0===K?void 0:K.branchName)||"",ifscCode:(null===K||void 0===K?void 0:K.ifscCode)||"",passbookFile:(null===K||void 0===K?void 0:K.passbookFile)||null,documentType:(null===K||void 0===K?void 0:K.documentType)||"",documentNumber:(null===K||void 0===K?void 0:K.documentNumber)||"",documentFileName:(null===K||void 0===K?void 0:K.documentFileName)||null}}),{register:ve,handleSubmit:xe,watch:be,setValue:ye,trigger:je,clearErrors:Ne,formState:{errors:we}}=ge,Se={Cereals:["Rice","Wheat","Maize","Sorghum","Pearl Millet","Finger Millet"],Pulses:["Chickpea","Pigeon Pea","Lentil","Mung Bean","Urad Bean","Cowpea"],Oilseeds:["Groundnut","Soybean","Sunflower","Sesame","Mustard","Safflower"],Vegetables:["Tomato","Onion","Potato","Brinjal","Cabbage","Cauliflower"],Fruits:["Mango","Banana","Orange","Apple","Grape","Pomegranate"],"Cash Crops":["Cotton","Sugarcane","Tobacco","Jute","Tea","Coffee"]},ke=["Borewell","Open Well","Canal","River","Pond","Rainfed","Drip Irrigation","Sprinkler Irrigation"],Ce=async e=>{try{console.log("Form submitted with data:",e),G?await G(e):(H?$&&$():J("/admin/dashboard"),alert("Farmer registration completed successfully!"))}catch(t){console.error("Error submitting form:",t),alert("Error submitting form. Please try again.")}};return(0,Fe.jsxs)("div",{className:H?"farmer-wrapper dashboard-mode":"farmer-wrapper",children:[(0,Fe.jsx)("div",{className:"form-full",children:(0,Fe.jsx)(kt,(0,Ue.A)((0,Ue.A)({},ge),{},{children:(0,Fe.jsxs)("form",{onSubmit:ge.handleSubmit(Ce),className:"farmer",children:[0===Q&&(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"field-left",children:[(0,Fe.jsxs)("div",{className:"form-group photo-group",children:[(0,Fe.jsxs)("label",{children:["Photo ",(0,Fe.jsx)("span",{className:"optional",children:"(Optional)"})]}),(0,Fe.jsx)("div",{className:"photo-box",children:Z?(0,Fe.jsx)("img",{src:Z,alt:"Preview",className:"photo-preview"}):fe?(0,Fe.jsxs)(Fe.Fragment,{children:[console.log("\ud83d\udc68\u200d\ud83c\udf3e Fetched photo URL:",fe),(0,Fe.jsx)("img",{src:fe,alt:"Farmer",className:"photo-preview",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block",console.log("\u274c Failed to load fetched photo:",fe)}}),(0,Fe.jsx)("span",{style:{display:"none",color:"#666"},children:"Photo not available"})]}):(0,Fe.jsx)("span",{className:"photo-placeholder",children:"No photo selected"})}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"file",accept:"image/*",className:"photo-input"},ve("photo")),{},{onChange:e=>{const t=e.target.files[0];t&&(te(URL.createObjectURL(t)),ye("photo",t,{shouldValidate:!0}),ie(t.name),Ne("photo"))}})),(0,Fe.jsx)("div",{style:{marginTop:"6px",fontSize:"0.95em",color:"#444"},children:ne?"Selected: ".concat(ne):fe&&pe&&pe.photoFileName?"Current: ".concat(pe.photoFileName):null}),we.photo&&(0,Fe.jsx)("p",{className:"error-text",children:we.photo.message})]}),(0,Fe.jsxs)("label",{className:"label",children:["Salutation",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({className:"input"},ve("salutation",{required:"Salutation is required"})),{},{children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"Mr.",children:"Mr."}),(0,Fe.jsx)("option",{value:"Mrs.",children:"Mrs."}),(0,Fe.jsx)("option",{value:"Ms.",children:"Ms."}),(0,Fe.jsx)("option",{value:"Miss.",children:"Miss."}),(0,Fe.jsx)("option",{value:"Dr.",children:"Dr."})]})),we.salutation&&(0,Fe.jsx)("p",{className:"error",children:we.salutation.message}),(0,Fe.jsxs)("label",{className:"label",children:["First Name",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({className:"input",placeholder:"First Name"},ve("firstName",{required:"First Name is required"}))),we.firstName&&(0,Fe.jsx)("p",{className:"error",children:we.firstName.message}),(0,Fe.jsxs)("label",{className:"label",children:["Middle Name",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({className:"input",placeholder:"Middle Name"},ve("middleName",{required:"Middle Name is required"}))),we.middleName&&(0,Fe.jsx)("p",{className:"error",children:we.middleName.message}),(0,Fe.jsxs)("label",{className:"label",children:["Last Name",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({className:"input",placeholder:"Last Name"},ve("lastName",{required:"Last Name is required"}))),we.lastName&&(0,Fe.jsx)("p",{className:"error",children:we.lastName.message})]}),(0,Fe.jsxs)("div",{className:"field-right",children:[(0,Fe.jsxs)("label",{className:"label",children:["Gender",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({className:"input"},ve("gender",{required:"Gender is required"})),{},{children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"Male",children:"Male"}),(0,Fe.jsx)("option",{value:"Female",children:"Female"}),(0,Fe.jsx)("option",{value:"Transgender",children:"Transgender"})]})),we.gender&&(0,Fe.jsx)("p",{className:"error",children:we.gender.message}),(0,Fe.jsxs)("label",{className:"label",children:["Nationality",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({className:"input"},ve("nationality",{required:"Nationality is required"})),{},{children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"Indian",children:"Indian"})]})),we.nationality&&(0,Fe.jsx)("p",{className:"error",children:we.nationality.message}),(0,Fe.jsxs)("label",{children:["Date of Birth  ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({type:"date",placeholder:"YYYY-MM-DD"},ve("dateOfBirth"))),(null===(s=we.dateOfBirth)||void 0===s?void 0:s.message)&&(0,Fe.jsx)("p",{className:"reg-error",children:we.dateOfBirth.message}),(0,Fe.jsxs)("label",{children:["Contact Number ",(0,Fe.jsx)("span",{className:"optional"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"tel",maxLength:10},ve("contactNumber")),{},{placeholder:"10-digit number"}))]}),(null===(a=we.contactNumber)||void 0===a?void 0:a.message)&&(0,Fe.jsx)("p",{className:"error",children:we.contactNumber.message}),(0,Fe.jsxs)("label",{children:["Email Address ",(0,Fe.jsx)("span",{className:"required",children:"*"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"email",className:"input"},ve("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Please enter a valid email address"}})),{},{placeholder:"Enter email address"}))]}),(null===(n=we.email)||void 0===n?void 0:n.message)&&(0,Fe.jsx)("p",{className:"error",children:we.email.message}),(0,Fe.jsxs)("label",{children:["Father Name ",(0,Fe.jsx)("span",{className:"optional"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},ve("fatherName")),{},{placeholder:"Enter father's name"}))]}),(null===(i=we.fatherName)||void 0===i?void 0:i.message)&&(0,Fe.jsx)("p",{className:"error",children:we.fatherName.message}),(0,Fe.jsxs)("label",{children:["Alternative Type ",(0,Fe.jsx)("span",{className:"optional"}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},ve("alternativeType")),{},{children:[(0,Fe.jsx)("option",{value:"",children:"Select Relation"}),(0,Fe.jsx)("option",{value:"Father",children:"Father"}),(0,Fe.jsx)("option",{value:"Mother",children:"Mother"}),(0,Fe.jsx)("option",{value:"Brother",children:"Brother"}),(0,Fe.jsx)("option",{value:"Sister",children:"Sister"}),(0,Fe.jsx)("option",{value:"Son",children:"Son"}),(0,Fe.jsx)("option",{value:"Daughter",children:"Daughter"}),(0,Fe.jsx)("option",{value:"Spouse",children:"Spouse"}),(0,Fe.jsx)("option",{value:"Other",children:"Other"})]}))]}),(null===(r=we.alternativeType)||void 0===r?void 0:r.message)&&(0,Fe.jsx)("p",{className:"error",children:we.alternativeType.message}),(0,Fe.jsxs)("label",{children:["Alternative Number ",(0,Fe.jsx)("span",{className:"optional"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"tel",maxLength:10},ve("alternativeNumber")),{},{placeholder:"10-digit number"}))]}),(null===(l=we.alternativeNumber)||void 0===l?void 0:l.message)&&(0,Fe.jsx)("p",{className:"error",children:we.alternativeNumber.message})]})]}),1===Q&&(0,Fe.jsxs)("div",{className:"address-field",children:[(0,Fe.jsxs)("label",{children:["Country ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},ve("country",{required:"Country is required"})),{},{placeholder:"Enter your country"})),(null===(o=we.country)||void 0===o?void 0:o.message)&&(0,Fe.jsx)("p",{className:"error",children:we.country.message}),(0,Fe.jsxs)("label",{children:["State ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},ve("state",{required:"State is required"})),{},{placeholder:"Enter your state"})),(null===(c=we.state)||void 0===c?void 0:c.message)&&(0,Fe.jsx)("p",{className:"error",children:we.state.message}),(0,Fe.jsxs)("label",{children:["District ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},ve("district",{required:"District is required"})),{},{placeholder:"Enter your district"})),(null===(d=we.district)||void 0===d?void 0:d.message)&&(0,Fe.jsx)("p",{className:"error",children:we.district.message}),(0,Fe.jsxs)("label",{children:["Mandal ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},ve("block",{required:"block is required"})),{},{placeholder:"Enter your block"})),(null===(u=we.mandal)||void 0===u?void 0:u.message)&&(0,Fe.jsx)("p",{className:"error",children:we.mandal.message}),(0,Fe.jsxs)("label",{children:["Village ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},ve("village",{required:"Village is required"})),{},{placeholder:"Enter your village"})),(null===(h=we.village)||void 0===h?void 0:h.message)&&(0,Fe.jsx)("p",{className:"error",children:we.village.message}),(0,Fe.jsxs)("label",{children:["Pincode ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},ve("pincode",{required:"Pincode is required"})),{},{placeholder:"e.g. 500001"})),(null===(m=we.pincode)||void 0===m?void 0:m.message)&&(0,Fe.jsx)("p",{className:"error",children:we.pincode.message})]}),2===Q&&(0,Fe.jsx)(Fe.Fragment,{children:(0,Fe.jsxs)("div",{className:"profes-field",children:[(0,Fe.jsxs)("label",{children:["Experience ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({},ve("experience")),{},{placeholder:"e.g. 15 Years",className:"input-large"})),(0,Fe.jsx)("p",{children:null===(p=we.experience)||void 0===p?void 0:p.message}),(0,Fe.jsxs)("label",{children:["Education ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},ve("education")),{},{className:"input-large",children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"Illiterate",children:"Illiterate"}),(0,Fe.jsx)("option",{value:"Primary Schooling",children:"Primary Schooling"}),(0,Fe.jsx)("option",{value:"High School",children:"High School"}),(0,Fe.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,Fe.jsx)("option",{value:"Degree",children:"Degree"})]})),(0,Fe.jsx)("p",{children:null===(f=we.education)||void 0===f?void 0:f.message})]})}),3===Q&&(0,Fe.jsx)(Fe.Fragment,{children:(0,Fe.jsx)("div",{className:"current-field",children:(0,Fe.jsxs)("div",{className:"currentform-grid",children:[(0,Fe.jsxs)("div",{className:"cropform-columnleft",children:[(0,Fe.jsxs)("div",{className:"form-group photo-group",children:[(0,Fe.jsxs)("label",{children:["Photo ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("div",{className:"photo-box-large",children:se?(0,Fe.jsx)("img",{src:se,alt:"Preview",className:"photo-preview-large"}):(0,Fe.jsx)("span",{className:"photo-placeholder-large",children:"No photo selected"})}),(0,Fe.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&(ae(URL.createObjectURL(t)),ye("photoFileName",t,{shouldValidate:!0}))},className:"photo-input-large"})]}),(0,Fe.jsxs)("label",{children:["Survey Numbers ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({},ve("currentSurveyNumber")),{},{className:"input-large",placeholder:"Enter survey numbers"})),(0,Fe.jsx)("p",{children:null===(g=we.currentSurveyNumber)||void 0===g?void 0:g.message}),(0,Fe.jsxs)("label",{children:["Total Land Holding (In Acres Nos) ",(0,Fe.jsx)("span",{className:"optional",children:"(Optional)"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"number",step:"any"},ve("currentLandHolding",{valueAsNumber:!0})),{},{className:"input-large",placeholder:"Enter land holding in acres"})),(0,Fe.jsx)("p",{children:null===(v=we.currentLandHolding)||void 0===v?void 0:v.message}),(0,Fe.jsxs)("label",{children:["Geo-tag ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({},ve("currentGeoTag")),{},{className:"input-large",placeholder:"Enter geo-tag coordinates"})),(0,Fe.jsx)("p",{children:null===(x=we.currentGeoTag)||void 0===x?void 0:x.message})]}),(0,Fe.jsxs)("div",{className:"cropform-columnright",children:[(0,Fe.jsxs)("label",{children:["Select Crop Category ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsxs)("select",{value:oe,onChange:e=>{ce(e.target.value),ye("currentCrop","")},className:"input-large",children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),Object.keys(Se).map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]}),oe&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("label",{children:["Select Crop Name ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},ve("currentCrop")),{},{defaultValue:"",className:"input-large",children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),Se[oe].map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]}))]}),(null===(b=we.currentCrop)||void 0===b?void 0:b.message)&&(0,Fe.jsx)("p",{className:"error",children:we.currentCrop.message}),(0,Fe.jsxs)("label",{children:["Net Income (As per Current Crop/Yr) ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({},ve("currentNetIncome")),{},{className:"input-large",placeholder:"Enter net income per year"})),(0,Fe.jsx)("p",{children:null===(y=we.currentNetIncome)||void 0===y?void 0:y.message}),(0,Fe.jsxs)("label",{children:["Soil Test ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},ve("currentSoilTest")),{},{onChange:e=>ye("currentSoilTest","true"===e.target.value),value:"boolean"===typeof be("currentSoilTest")?String(be("currentSoilTest")):"",className:"input-large",children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"true",children:"Yes"}),(0,Fe.jsx)("option",{value:"false",children:"No"})]})),(0,Fe.jsx)("p",{children:null===(j=we.currentSoilTest)||void 0===j?void 0:j.message}),(0,Fe.jsxs)("label",{children:["Soil Test Certificate ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"file"},ve("currentSoilTestCertificateFileName")),{},{className:"input-large"})),(null===(N=we.currentSoilTestCertificateFileName)||void 0===N?void 0:N.message)&&(0,Fe.jsx)("p",{className:"error",children:we.currentSoilTestCertificateFileName.message})]})]})})}),4===Q&&(0,Fe.jsx)("div",{className:"proposed-field",children:(0,Fe.jsxs)("div",{className:"proposedform-grid",children:[(0,Fe.jsxs)("div",{className:"proposedform-columnleft",children:[(0,Fe.jsxs)("label",{children:["Survey Numbers ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({},ve("proposedSurveyNumber")),{},{className:"input-large",placeholder:"Enter survey numbers"})),(0,Fe.jsx)("p",{children:null===(w=we.proposedSurveyNumber)||void 0===w?void 0:w.message}),(0,Fe.jsxs)("label",{children:["Geo-tag ",(0,Fe.jsx)("span",{className:"optional",children:"(Optional)"})]}),(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"Latitude, Longitude",className:"input-large"},ve("proposedGeoTag",{pattern:{value:/^-?\d+(\.\d+)?\s*,\s*-?\d+(\.\d+)?$/,message:"Enter valid Latitude, Longitude (e.g., 17.123, 78.456)"}}))),(null===(S=we.proposedGeoTag)||void 0===S?void 0:S.message)&&(0,Fe.jsx)("p",{className:"error",children:we.proposedGeoTag.message}),(0,Fe.jsxs)("label",{children:["Select Crop Category ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsxs)("select",{value:de,onChange:e=>{ue(e.target.value),ye("cropType","")},className:"input-large",children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),Object.keys(Se).map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]}),de&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("label",{children:["Select Crop Name ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},ve("cropType")),{},{defaultValue:"",className:"input-large",children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),Se[de].map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]}))]}),(null===(k=we.cropType)||void 0===k?void 0:k.message)&&(0,Fe.jsx)("p",{className:"error",children:we.cropType.message}),(0,Fe.jsxs)("label",{children:["Soil Test ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},ve("proposedSoilTest")),{},{onChange:e=>ye("proposedSoilTest","true"===e.target.value),value:"boolean"===typeof be("proposedSoilTest")?String(be("proposedSoilTest")):"",className:"input-large",children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"true",children:"Yes"}),(0,Fe.jsx)("option",{value:"false",children:"No"})]})),(0,Fe.jsx)("p",{children:null===(C=we.proposedSoilTest)||void 0===C?void 0:C.message})]}),(0,Fe.jsxs)("div",{className:"proposedform-columnright",children:[(0,Fe.jsxs)("label",{children:["Total Land Holding (In Acres) ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)({type:"number",step:"any",className:"input-large",placeholder:"Enter land holding in acres"},ve("proposedLandHolding",{valueAsNumber:!0}))),(0,Fe.jsx)("p",{children:null===(A=we.proposedLandHolding)||void 0===A?void 0:A.message}),(0,Fe.jsxs)("label",{children:["Net Income (Per Crop/Yr) ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},ve("netIncome")),{},{className:"input-large",placeholder:"Enter net income per year"})),(null===(E=we.netIncome)||void 0===E?void 0:E.message)&&(0,Fe.jsx)("p",{className:"error",children:we.netIncome.message}),(0,Fe.jsxs)("label",{children:["Soil Test Certificate ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"file"},ve("soilTestCertificate")),{},{className:"input-large"})),(null===(P=we.soilTestCertificate)||void 0===P?void 0:P.message)&&(0,Fe.jsx)("p",{className:"error",children:we.soilTestCertificate.message})]})]})}),5===Q&&(0,Fe.jsxs)("div",{className:"irrigation-field",children:[(0,Fe.jsxs)("div",{className:"tab-header",children:[(0,Fe.jsx)("span",{className:"Current"===he?"tab active":"tab",onClick:()=>me("Current"),children:"Current Crop Addition"}),(0,Fe.jsx)("span",{className:"Proposed"===he?"tab active":"tab",onClick:()=>me("Proposed"),children:"Proposed Crop Addition"})]}),"Current"===he&&(0,Fe.jsxs)("div",{className:"tab-content",children:[(0,Fe.jsxs)("label",{children:["Water Source ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},ve("currentWaterSource")),{},{defaultValue:"",className:"input-large",children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),ke.map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]})),(null===(I=we.currentWaterSource)||void 0===I?void 0:I.message)&&(0,Fe.jsx)("p",{className:"error",children:we.currentWaterSource.message}),(0,Fe.jsxs)("label",{children:["Borewell wise Discharge in LPH ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({},ve("currentDischargeLPH")),{},{className:"input-large",placeholder:"Enter discharge in LPH"})),(null===(F=we.currentDischargeLPH)||void 0===F?void 0:F.message)&&(0,Fe.jsx)("p",{className:"error",children:we.currentDischargeLPH.message}),(0,Fe.jsxs)("label",{children:["Discharge during summer months ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({},ve("currentSummerDischarge")),{},{className:"input-large",placeholder:"Enter summer discharge"})),(null===(D=we.currentSummerDischarge)||void 0===D?void 0:D.message)&&(0,Fe.jsx)("p",{className:"error",children:we.currentSummerDischarge.message}),(0,Fe.jsxs)("label",{children:["Borewell location ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({},ve("currentBorewellLocation")),{},{className:"input-large",placeholder:"Enter borewell location"})),(null===(_=we.currentBorewellLocation)||void 0===_?void 0:_.message)&&(0,Fe.jsx)("p",{className:"error",children:we.currentBorewellLocation.message})]}),"Proposed"===he&&(0,Fe.jsxs)("div",{className:"tab-content",children:[(0,Fe.jsxs)("label",{children:["Water Source ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},ve("proposedWaterSource")),{},{defaultValue:"",className:"input-large",children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),ke.map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]})),(null===(T=we.proposedWaterSource)||void 0===T?void 0:T.message)&&(0,Fe.jsx)("p",{className:"error",children:we.proposedWaterSource.message}),(0,Fe.jsxs)("label",{children:["Borewell wise Discharge in LPH ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({},ve("proposedDischargeLPH")),{},{className:"input-large",placeholder:"Enter discharge in LPH"})),(null===(O=we.proposedDischargeLPH)||void 0===O?void 0:O.message)&&(0,Fe.jsx)("p",{className:"error",children:we.proposedDischargeLPH.message}),(0,Fe.jsxs)("label",{children:["Discharge during summer months ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({},ve("proposedSummerDischarge")),{},{className:"input-large",placeholder:"Enter summer discharge"})),(null===(R=we.proposedSummerDischarge)||void 0===R?void 0:R.message)&&(0,Fe.jsx)("p",{className:"error",children:we.proposedSummerDischarge.message}),(0,Fe.jsxs)("label",{children:["Borewell location ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({},ve("proposedBorewellLocation")),{},{className:"input-large",placeholder:"Enter borewell location"})),(null===(M=we.proposedBorewellLocation)||void 0===M?void 0:M.message)&&(0,Fe.jsx)("p",{className:"error",children:we.proposedBorewellLocation.message})]})]}),6===Q&&(0,Fe.jsxs)("div",{className:"other-field",children:[(0,Fe.jsx)("h3",{children:"Bank Details"}),(0,Fe.jsxs)("label",{children:["Bank Name ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},ve("bankName")),{},{className:"input-large",placeholder:"Enter bank name"})),(null===(L=we.bankName)||void 0===L?void 0:L.message)&&(0,Fe.jsx)("p",{className:"error",children:we.bankName.message}),(0,Fe.jsxs)("label",{children:["Account Number ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},ve("accountNumber")),{},{className:"input-large",placeholder:"Enter account number"})),(null===(U=we.accountNumber)||void 0===U?void 0:U.message)&&(0,Fe.jsx)("p",{className:"error",children:we.accountNumber.message}),(0,Fe.jsxs)("label",{children:["Branch Name ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},ve("branchName")),{},{className:"input-large",placeholder:"Enter branch name"})),(null===(B=we.branchName)||void 0===B?void 0:B.message)&&(0,Fe.jsx)("p",{className:"error",children:we.branchName.message}),(0,Fe.jsxs)("label",{children:["IFSC Code ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},ve("ifscCode")),{},{className:"input-large",placeholder:"Enter IFSC code"})),(null===(z=we.ifscCode)||void 0===z?void 0:z.message)&&(0,Fe.jsx)("p",{className:"error",children:we.ifscCode.message}),(0,Fe.jsxs)("label",{children:["Passbook ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsx)("input",{type:"file",accept:"image/*,application/pdf",className:"input-large",onChange:e=>{const t=e.target.files[0];ye("passbookFile",t),je("passbookFile")}}),(null===(V=we.passbookFile)||void 0===V?void 0:V.message)&&(0,Fe.jsx)("p",{className:"error",children:we.passbookFile.message})]}),7===Q&&(0,Fe.jsxs)("div",{className:"other-field",children:[(0,Fe.jsxs)("label",{className:"label",children:["Add Document ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({className:"input-large"},ve("documentType",{required:"Document Type is required"})),{},{onChange:e=>{le(e.target.value),ye("documentType",e.target.value)},children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"voterId",children:"ID/ Voter Card"}),(0,Fe.jsx)("option",{value:"aadharNumber",children:"Aadhar Number"}),(0,Fe.jsx)("option",{value:"panNumber",children:"Pan Number"}),(0,Fe.jsx)("option",{value:"ppbNumber",children:"PPB Number"})]})),(0,Fe.jsx)("p",{className:"error-text",children:null===(Y=we.documentType)||void 0===Y?void 0:Y.message}),re&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"voterId"===re?"Voter ID":"aadharNumber"===re?"Aadhar Number":"panNumber"===re?"PAN Number":"PPB Number",className:"input-large"},ve("documentNumber",{required:"".concat("voterId"===re?"Voter ID":"aadharNumber"===re?"Aadhar Number":"panNumber"===re?"PAN Number":"PPB Number"," is required")}))),(0,Fe.jsx)("p",{className:"error-text",children:null===(q=we.documentNumber)||void 0===q?void 0:q.message}),(0,Fe.jsx)("input",(0,Ue.A)({type:"file",accept:"image/*,application/pdf",className:"input-large"},ve("documentFileName",{required:"".concat("voterId"===re?"Voter ID":"aadharNumber"===re?"Aadhar":"panNumber"===re?"PAN":"PPB"," File is required")}))),(0,Fe.jsx)("p",{className:"error-text",children:null===(W=we.documentFileName)||void 0===W?void 0:W.message})]})]}),(0,Fe.jsx)("div",{className:"btn-group",children:0===Q?(0,Fe.jsx)("button",{type:"button",onClick:async()=>{await je()&&X(Q+1)},children:"Next"}):7===Q?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{type:"button",onClick:()=>X(Q-1),children:"Previous"}),(0,Fe.jsx)("button",{type:"button",onClick:async()=>{await je()&&await xe(Ce)()},children:"Submit"})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{type:"button",onClick:()=>X(Q-1),children:"Previous"}),(0,Fe.jsx)("button",{type:"button",onClick:async()=>{await je()&&X(Q+1)},children:"Next"})]})})]})}))}),!H&&(0,Fe.jsx)("div",{className:"form-right",style:{position:"relative"},children:(0,Fe.jsx)("button",{type:"button",onClick:()=>{H||J("/dashboard")},style:{position:"absolute",top:12,right:12,background:"rgba(0,0,0,0.45)",color:"#fff",border:"none",borderRadius:"50%",width:32,height:32,cursor:"pointer",fontWeight:700,fontSize:20,lineHeight:"32px",textAlign:"center",zIndex:2},"aria-label":"Close and go back",children:"\xd7"})})]})},vs=e=>{let{onClose:s,onSubmit:a,editData:n=null}=e;const[i,r]=(0,t.useState)(!0),l=()=>{r(!1),s&&s()};return i?(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal-content farmer-modal",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:n?"Edit Farmer":"Add New Farmer"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:l,children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"modal-body",children:(0,Fe.jsx)(gs,{isInDashboard:!0,editData:n,onClose:l,onSubmit:async e=>{try{await a(e),l()}catch(t){console.error("Error submitting farmer data:",t)}}})})]})}):null},xs=e=>{var s,a,n,i,r,l,o,c,d,u,h,m,p,f,g,v,x,b,y,j,N,w,S,k,C,A,E,P,I,F,D,_,T,O,R,M,L,U;let{isInDashboard:B=!1,editData:z=null,onClose:V,onSubmit:Y}=e;const q=ee(),[W,H]=(0,t.useState)(0),[K,$]=(0,t.useState)(null),[G,J]=(0,t.useState)(""),Q=fs({defaultValues:{salutation:(null===z||void 0===z?void 0:z.salutation)||"",firstName:(null===z||void 0===z?void 0:z.firstName)||"",middleName:(null===z||void 0===z?void 0:z.middleName)||"",lastName:(null===z||void 0===z?void 0:z.lastName)||"",gender:(null===z||void 0===z?void 0:z.gender)||"",nationality:(null===z||void 0===z?void 0:z.nationality)||"",dob:(null===z||void 0===z?void 0:z.dob)||"",photo:(null===z||void 0===z?void 0:z.photo)||null,contactNumber:(null===z||void 0===z?void 0:z.contactNumber)||"",email:(null===z||void 0===z?void 0:z.email)||"",relationType:(null===z||void 0===z?void 0:z.relationType)||"",relationName:(null===z||void 0===z?void 0:z.relationName)||"",altNumber:(null===z||void 0===z?void 0:z.altNumber)||"",altNumberType:(null===z||void 0===z?void 0:z.altNumberType)||"",country:(null===z||void 0===z?void 0:z.country)||"",state:(null===z||void 0===z?void 0:z.state)||"",district:(null===z||void 0===z?void 0:z.district)||"",block:(null===z||void 0===z?void 0:z.block)||"",village:(null===z||void 0===z?void 0:z.village)||"",zipcode:(null===z||void 0===z?void 0:z.zipcode)||"",professional:{education:(null===z||void 0===z||null===(s=z.professional)||void 0===s?void 0:s.education)||"",experience:(null===z||void 0===z||null===(a=z.professional)||void 0===a?void 0:a.experience)||""},bank:{bankName:(null===z||void 0===z||null===(n=z.bank)||void 0===n?void 0:n.bankName)||"",accountNumber:(null===z||void 0===z||null===(i=z.bank)||void 0===i?void 0:i.accountNumber)||"",branchName:(null===z||void 0===z||null===(r=z.bank)||void 0===r?void 0:r.branchName)||"",ifscCode:(null===z||void 0===z||null===(l=z.bank)||void 0===l?void 0:l.ifscCode)||"",passbook:(null===z||void 0===z||null===(o=z.bank)||void 0===o?void 0:o.passbook)||null},documentType:(null===z||void 0===z?void 0:z.documentType)||"",voterId:(null===z||void 0===z?void 0:z.voterId)||"",voterFile:(null===z||void 0===z?void 0:z.voterFile)||null,aadharNumber:(null===z||void 0===z?void 0:z.aadharNumber)||"",aadharFile:(null===z||void 0===z?void 0:z.aadharFile)||null,panNumber:(null===z||void 0===z?void 0:z.panNumber)||"",panFile:(null===z||void 0===z?void 0:z.panFile)||null,ppbNumber:(null===z||void 0===z?void 0:z.ppbNumber)||"",ppbFile:(null===z||void 0===z?void 0:z.ppbFile)||null,role:(null===z||void 0===z?void 0:z.role)||"",accessStatus:(null===z||void 0===z?void 0:z.accessStatus)||""}}),{register:X,handleSubmit:Z,watch:te,setValue:se,trigger:ae,clearErrors:ne,formState:{errors:ie}}=Q;return(0,Fe.jsxs)("div",{className:B?"employee-wrapper dashboard-mode":"employee-wrapper",children:[(0,Fe.jsx)("div",{className:"form-full",children:(0,Fe.jsx)(kt,(0,Ue.A)((0,Ue.A)({},Q),{},{children:(0,Fe.jsxs)("form",{onSubmit:Z(async e=>{try{console.log("Employee form submitted with data:",e),Y?await Y(e):(B?V&&V():q("/admin/dashboard"),alert("Employee registration completed successfully!"))}catch(t){console.error("Error submitting form:",t),alert("Error submitting form. Please try again.")}}),className:"employee-form",children:[0===W&&(0,Fe.jsxs)("div",{className:"employeeform-grid",children:[(0,Fe.jsxs)("div",{className:"frame-photo",children:[(0,Fe.jsxs)("label",{className:"label",children:["Photo ",(0,Fe.jsx)("span",{className:"optional",children:"(Optional)"})]}),(0,Fe.jsx)("div",{className:"photo-box",children:K?(0,Fe.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,Fe.jsx)("img",{src:K,alt:"",className:"photo-preview"}),(0,Fe.jsx)("button",{type:"button",onClick:()=>{$(null),se("photo",null)},style:{position:"absolute",top:4,right:4,background:"rgba(0,0,0,0.5)",color:"#fff",border:"none",borderRadius:"50%",width:28,height:28,cursor:"pointer",fontWeight:700,fontSize:18,lineHeight:"28px",textAlign:"center",zIndex:2},"aria-label":"Remove photo",children:"\xd7"})]}):z&&z.photoFileName?(0,Fe.jsx)("img",{src:"http://localhost:8080/uploads/".concat(z.photoFileName),className:"photo-preview",alt:"",onError:e=>{e.target.style.display="none",e.target.nextSibling&&(e.target.nextSibling.style.display="block")}}):(0,Fe.jsx)("span",{className:"photo-placeholder",children:"No photo selected"})}),(0,Fe.jsx)("div",{style:{marginTop:"6px",fontSize:"0.95em",color:"#444"},children:K&&te("photo")&&te("photo")[0]&&te("photo")[0].name?"Selected: ".concat(te("photo")[0].name):z&&z.photoFileName?"Current: ".concat(z.photoFileName):null}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"file",accept:"image/*"},X("photo")),{},{onChange:e=>{const t=e.target.files[0];t&&($(URL.createObjectURL(t)),se("photo",t,{shouldValidate:!0}),ne("photo"))}})),!B&&ie.photo&&(0,Fe.jsx)("p",{className:"error",children:ie.photo.message})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Last Name",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({className:"input",placeholder:"Last Name"},X("lastName",{required:"Last Name is required"}))),!B&&ie.lastName&&(0,Fe.jsx)("p",{className:"error",children:ie.lastName.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Salutation",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({className:"input"},X("salutation",{required:"Salutation is required"})),{},{children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"Mr",children:"Mr"}),(0,Fe.jsx)("option",{value:"Mrs.",children:"Mrs."}),(0,Fe.jsx)("option",{value:"Ms.",children:"Ms."}),(0,Fe.jsx)("option",{value:"Miss.",children:"Miss."}),(0,Fe.jsx)("option",{value:"Dr.",children:"Dr."})]})),!B&&ie.salutation&&(0,Fe.jsx)("p",{className:"error",children:ie.salutation.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Gender",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({className:"input"},X("gender",{required:"Gender is required"})),{},{children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"Male",children:"Male"}),(0,Fe.jsx)("option",{value:"Female",children:"Female"}),(0,Fe.jsx)("option",{value:"Transgender",children:"Transgender"})]})),!B&&ie.gender&&(0,Fe.jsx)("p",{className:"error",children:ie.gender.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["First Name",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({className:"input",placeholder:"First Name"},X("firstName",{required:"First Name is required"}))),!B&&ie.firstName&&(0,Fe.jsx)("p",{className:"error",children:ie.firstName.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["DOB",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({type:"date",className:"input"},X("dob",{required:"Date of Birth is required"}))),!B&&ie.dob&&(0,Fe.jsx)("p",{className:"error",children:ie.dob.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Middle Name",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({className:"input",placeholder:"Middle Name"},X("middleName",{required:"Middle Name is required"}))),!B&&ie.middleName&&(0,Fe.jsx)("p",{className:"error",children:ie.middleName.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Nationality",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({className:"input"},X("nationality",{required:"Nationality is required"})),{},{children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"Indian",children:"Indian"})]})),!B&&ie.nationality&&(0,Fe.jsx)("p",{className:"error",children:ie.nationality.message})]})]}),1===W&&(0,Fe.jsxs)("div",{className:"emp-form-one",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Contact Number",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text",className:"input"},X("contactNumber",{required:"Contact Number is required",pattern:{value:/^[0-9]{10}$/,message:"Enter a valid 10-digit number"}})),{},{placeholder:""})),!B&&(0,Fe.jsx)("p",{className:"error",children:null===(c=ie.contactNumber)||void 0===c?void 0:c.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:[" Email",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"email",className:"input"},X("email",{required:"Email is required",pattern:{value:/^\S+@\S+\.\S+$/,message:"Invalid email address"}})),{},{placeholder:""})),!B&&(0,Fe.jsx)("p",{className:"error",children:null===(d=ie.email)||void 0===d?void 0:d.message})]})]}),2===W&&(0,Fe.jsxs)("div",{className:"emp-form-two",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",htmlFor:"relationType",children:["Select ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({id:"relationType",className:"input"},X("relationType",{required:"Please select a relation"})),{},{children:[(0,Fe.jsx)("option",{value:"",children:"-- Select --"}),(0,Fe.jsx)("option",{value:"do",children:"D/O"}),(0,Fe.jsx)("option",{value:"so",children:"S/O"}),(0,Fe.jsx)("option",{value:"wo",children:"W/O"})]})),!B&&ie.relationType&&(0,Fe.jsx)("p",{className:"error",children:ie.relationType.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Relation Name ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"Krishna Kumar",className:"input"},X("relationName",{required:"Relation Name is required"}))),!B&&ie.relationName&&(0,Fe.jsx)("p",{className:"error",children:ie.relationName.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"label",children:"Alternative Number"}),(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"91-987xxxxxx16",className:"input"},X("altNumber",{pattern:{value:/^\d{10}$/,message:"Must be 10 digits"}}))),!B&&ie.altNumber&&(0,Fe.jsx)("p",{className:"error",children:ie.altNumber.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",htmlFor:"altNumberType",children:["Alternative Type ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({id:"altNumberType",className:"input"},X("altNumberType",{required:"Please select an alternative type"})),{},{children:[(0,Fe.jsx)("option",{value:"",children:"Select Relation"}),(0,Fe.jsx)("option",{value:"Father",children:"Father"}),(0,Fe.jsx)("option",{value:"Mother",children:"Mother"}),(0,Fe.jsx)("option",{value:"Brother",children:"Brother"}),(0,Fe.jsx)("option",{value:"Sister",children:"Sister"}),(0,Fe.jsx)("option",{value:"Son",children:"Son"}),(0,Fe.jsx)("option",{value:"Daughter",children:"Daughter"}),(0,Fe.jsx)("option",{value:"Spouse",children:"Spouse"}),(0,Fe.jsx)("option",{value:"Other",children:"Other"})]})),!B&&ie.altNumberType&&(0,Fe.jsx)("p",{className:"error",children:ie.altNumberType.message})]})]}),3===W&&(0,Fe.jsxs)("div",{className:"emp-form-three",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Country ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({className:"input"},X("country",{required:"Country is required"})),{},{children:[(0,Fe.jsx)("option",{value:"",children:"Select Country"}),(0,Fe.jsx)("option",{value:"India",children:"India"}),(0,Fe.jsx)("option",{value:"USA",children:"USA"}),(0,Fe.jsx)("option",{value:"UK",children:"UK"}),(0,Fe.jsx)("option",{value:"Canada",children:"Canada"})]})),!B&&ie.country&&(0,Fe.jsx)("p",{className:"error",children:null===(u=ie.country)||void 0===u?void 0:u.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["State ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},X("state")),{},{className:"input",children:[(0,Fe.jsx)("option",{value:"",children:"Select State"}),[{id:1,name:"Andhra Pradesh"},{id:2,name:"Telangana"},{id:3,name:"Karnataka"},{id:4,name:"Tamil Nadu"},{id:5,name:"Kerala"}].map(e=>(0,Fe.jsx)("option",{value:e.name,children:e.name},e.id))]})),!B&&(0,Fe.jsx)("p",{className:"error",children:null===(h=ie.state)||void 0===h?void 0:h.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["District ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},X("district")),{},{className:"input",children:[(0,Fe.jsx)("option",{value:"",children:"Select District"}),[{id:1,name:"Hyderabad"},{id:2,name:"Rangareddy"},{id:3,name:"Medak"},{id:4,name:"Nizamabad"},{id:5,name:"Adilabad"}].map(e=>(0,Fe.jsx)("option",{value:e.name,children:e.name},e.id))]})),!B&&(0,Fe.jsx)("p",{className:"error",children:null===(m=ie.district)||void 0===m?void 0:m.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Block (mandal) ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},X("block")),{},{className:"input",children:[(0,Fe.jsx)("option",{value:"",children:"Select Block"}),[{id:1,name:"Madhapur"},{id:2,name:"Gachibowli"},{id:3,name:"Kondapur"},{id:4,name:"Hitech City"},{id:5,name:"Jubilee Hills"}].map(e=>(0,Fe.jsx)("option",{value:e.name,children:e.name},e.id))]})),!B&&(0,Fe.jsx)("p",{className:"error",children:null===(p=ie.block)||void 0===p?void 0:p.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Village ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},X("village")),{},{className:"input",children:[(0,Fe.jsx)("option",{value:"",children:"Select Village"}),[{id:1,name:"Village 1"},{id:2,name:"Village 2"},{id:3,name:"Village 3"},{id:4,name:"Village 4"},{id:5,name:"Village 5"}].map(e=>(0,Fe.jsx)("option",{value:e.name,children:e.name},e.id))]})),!B&&(0,Fe.jsx)("p",{className:"error",children:null===(f=ie.village)||void 0===f?void 0:f.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Zipcode ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"56xxxx",className:"input"},X("zipcode"))),!B&&(0,Fe.jsx)("p",{className:"error",children:null===(g=ie.zipcode)||void 0===g?void 0:g.message})]})]}),4===W&&(0,Fe.jsxs)("div",{className:"emp-form-four",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Education ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({className:"input"},X("professional.education")),{},{children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"Primary Schooling",children:"Primary Schooling"}),(0,Fe.jsx)("option",{value:"High School",children:"High School"}),(0,Fe.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,Fe.jsx)("option",{value:"Degree",children:"Degree"}),(0,Fe.jsx)("option",{value:"Graduate",children:"Graduate"}),(0,Fe.jsx)("option",{value:"Post-Graduate",children:"Post-Graduate"})]})),!B&&(null===(v=ie.professional)||void 0===v?void 0:v.education)&&(0,Fe.jsx)("p",{className:"error",children:null===(x=ie.education)||void 0===x?void 0:x.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Experience ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"15 Years",className:"input"},X("professional.experience"))),!B&&(null===(b=ie.professional)||void 0===b?void 0:b.experience)&&(0,Fe.jsx)("p",{className:"error",children:null===(y=ie.experience)||void 0===y?void 0:y.message})]})]}),5===W&&(0,Fe.jsxs)("div",{className:"emp-form-five",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Bank Name ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"HDFC Bank",className:"input"},X("bank.bankName"))),!B&&(null===(j=ie.bank)||void 0===j?void 0:j.bankName)&&(0,Fe.jsx)("p",{className:"error",children:null===(N=ie.bankName)||void 0===N?void 0:N.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Account Number ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"281398301653",className:"input"},X("bank.accountNumber"))),!B&&(null===(w=ie.bank)||void 0===w?void 0:w.accountNumber)&&(0,Fe.jsx)("p",{className:"error",children:null===(S=ie.accountNumber)||void 0===S?void 0:S.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Branch name ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"Madhapur",className:"input"},X("bank.branchName"))),!B&&(null===(k=ie.bank)||void 0===k?void 0:k.branchName)&&(0,Fe.jsx)("p",{className:"error",children:null===(C=ie.branchName)||void 0===C?void 0:C.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["IFSC Code ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"HDFC0001234",className:"input"},X("bank.ifscCode"))),!B&&(null===(A=ie.bank)||void 0===A?void 0:A.ifscCode)&&(0,Fe.jsx)("p",{className:"error",children:null===(E=ie.ifscCode)||void 0===E?void 0:E.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Passbook ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)({type:"file",className:"input"},X("bank.passbook"))),!B&&(null===(P=ie.bank)||void 0===P?void 0:P.passbook)&&(0,Fe.jsx)("p",{className:"error",children:null===(I=ie.passbook)||void 0===I?void 0:I.message})]})]}),6===W&&(0,Fe.jsxs)("div",{className:"emp-form-six",children:[(0,Fe.jsxs)("label",{className:"label",children:["Add Document ",(0,Fe.jsx)("span",{className:"optional"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({className:"docinput"},X("documentType",{required:"Document Type is required"})),{},{onChange:e=>{J(e.target.value),se("documentType",e.target.value)},children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"voterId",children:"ID/ Voter Card"}),(0,Fe.jsx)("option",{value:"aadharNumber",children:"Aadhar Number"}),(0,Fe.jsx)("option",{value:"panNumber",children:"Pan Number"}),(0,Fe.jsx)("option",{value:"ppbNumber",children:"PPB Number"})]})),!B&&(0,Fe.jsx)("p",{className:"error-text",children:null===(F=ie.documentType)||void 0===F?void 0:F.message}),"voterId"===G&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"Voter ID",className:"input"},X("voterId",{required:"Voter ID is required"}))),!B&&(0,Fe.jsx)("p",{className:"error-text",children:null===(D=ie.voterId)||void 0===D?void 0:D.message}),(0,Fe.jsx)("input",(0,Ue.A)({type:"file",accept:"image/*,application/pdf"},X("voterFile",{required:"Voter ID File is required"}))),!B&&(0,Fe.jsx)("p",{className:"error-text",children:null===(_=ie.voterFile)||void 0===_?void 0:_.message})]}),"aadharNumber"===G&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"Aadhar Number",className:"input"},X("aadharNumber",{required:"Aadhar Number is required"}))),!B&&(0,Fe.jsx)("p",{className:"error-text",children:null===(T=ie.aadharNumber)||void 0===T?void 0:T.message}),(0,Fe.jsx)("input",(0,Ue.A)({type:"file",accept:"image/*,application/pdf"},X("aadharFile",{required:"Aadhar File is required"}))),!B&&(0,Fe.jsx)("p",{className:"error-text",children:null===(O=ie.aadharFile)||void 0===O?void 0:O.message})]}),"panNumber"===G&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"PAN Number",className:"input"},X("panNumber",{required:"PAN Number is required"}))),!B&&(0,Fe.jsx)("p",{className:"error-text",children:null===(R=ie.panNumber)||void 0===R?void 0:R.message}),(0,Fe.jsx)("input",(0,Ue.A)({type:"file",accept:"image/*,application/pdf"},X("panFile",{required:"PAN File is required"}))),!B&&(0,Fe.jsx)("p",{className:"error-text",children:null===(M=ie.panFile)||void 0===M?void 0:M.message})]}),"ppbNumber"===G&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("input",(0,Ue.A)({type:"text",placeholder:"PPB Number",className:"input"},X("ppbNumber"))),!B&&(0,Fe.jsx)("p",{className:"error-text",children:null===(L=ie.ppbNumber)||void 0===L?void 0:L.message}),(0,Fe.jsx)("input",(0,Ue.A)({type:"file",accept:"image/*,application/pdf"},X("ppbFile"))),!B&&(0,Fe.jsx)("p",{className:"error-text",children:null===(U=ie.ppbFile)||void 0===U?void 0:U.message})]})]}),7===W&&(0,Fe.jsxs)("div",{className:"emp-form-seven",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Role/Designation ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({className:"input"},X("role",{required:!0})),{},{children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"manager",children:"Manager"}),(0,Fe.jsx)("option",{value:"employee",children:"Employee"})]})),!B&&ie.role&&(0,Fe.jsx)("p",{className:"error",children:ie.role.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"label",children:["Access ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({className:"input"},X("accessStatus",{required:!0})),{},{children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),(0,Fe.jsx)("option",{value:"active",children:"Active"}),(0,Fe.jsx)("option",{value:"inactive",children:"Inactive"})]})),!B&&ie.accessStatus&&(0,Fe.jsx)("p",{className:"error",children:ie.accessStatus.message})]})]}),(0,Fe.jsx)("div",{className:"employee-btn",children:0===W?(0,Fe.jsx)("button",{type:"button",onClick:async()=>{await ae()&&H(W+1)},children:"Next"}):7===W?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{type:"button",onClick:()=>H(W-1),children:"Previous"}),(0,Fe.jsx)("button",{type:"submit",children:"Submit"})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{type:"button",onClick:()=>H(W-1),children:"Previous"}),(0,Fe.jsx)("button",{type:"button",onClick:async()=>{await ae()&&H(W+1)},children:"Next"})]})})]})}))}),!B&&(0,Fe.jsx)("div",{className:"form-right",style:{position:"relative"},children:(0,Fe.jsx)("button",{type:"button",onClick:()=>{B||q("/dashboard")},style:{position:"absolute",top:12,right:12,background:"rgba(0,0,0,0.45)",color:"#fff",border:"none",borderRadius:"50%",width:32,height:32,cursor:"pointer",fontWeight:700,fontSize:20,lineHeight:"32px",textAlign:"center",zIndex:2},"aria-label":"Close and go back",children:"\xd7"})})]})},bs=e=>{var s;let{farmers:a,employees:n,onClose:i,onAssign:r}=e;const[l,o]=(0,t.useState)([]),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(!1);var m,p;((0,t.useEffect)(()=>{console.log("=== ASSIGNMENT MODAL MOUNTED ==="),console.log("Employees on mount:",n),console.log("Employees count on mount:",(null===n||void 0===n?void 0:n.length)||0),n&&n.length>0&&console.log("First employee on mount:",n[0])},[]),console.log("=== ASSIGNMENT MODAL DEBUG ==="),console.log("Employees received:",n),console.log("Employees count:",(null===n||void 0===n?void 0:n.length)||0),console.log("Employees type:",typeof n),console.log("Employees is array:",Array.isArray(n)),n&&n.length>0)&&(console.log("First employee:",n[0]),console.log("First employee name:",null===(m=n[0])||void 0===m?void 0:m.name),console.log("First employee designation:",null===(p=n[0])||void 0===p?void 0:p.designation),console.log("All employee names:",n.map(e=>null===e||void 0===e?void 0:e.name)));return(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal-content large",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:"Assign Farmers to Employee"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:i,children:"\xd7"})]}),(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c&&0!==l.length){h(!0);try{const e=n.find(e=>e.id===parseInt(c)),t=l.map(t=>{const s=a.find(e=>e.id===t);return{farmerId:t,employeeId:parseInt(c),employeeName:e.name,farmerName:s.name}});await r(t)}catch(t){console.error("Error assigning farmers:",t)}finally{h(!1)}}else alert("Please select an employee and at least one farmer")},className:"form",children:[(0,Fe.jsxs)("div",{className:"assignment-section",children:[(0,Fe.jsx)("div",{className:"section-header",children:(0,Fe.jsx)("h3",{children:"Select Employee"})}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"employee",children:"Employee *"}),(0,Fe.jsxs)("select",{id:"employee",value:c,onChange:e=>d(e.target.value),required:!0,children:[(0,Fe.jsx)("option",{value:"",children:"Select Employee"}),(console.log("=== RENDERING EMPLOYEE OPTIONS ==="),console.log("Employees for rendering:",n),console.log("Employees length for rendering:",(null===n||void 0===n?void 0:n.length)||0),n&&n.length>0&&console.log("Rendering employee options:",n.map(e=>({id:e.id,name:e.name,designation:e.designation,displayText:"".concat(e.name||"Unknown"," - ").concat(e.designation||"Employee")}))),n&&n.length>0?n.map(e=>(0,Fe.jsxs)("option",{value:e.id,children:[e.name||"Unknown"," - ",e.designation||"Employee"]},e.id)):(0,Fe.jsx)("option",{value:"",disabled:!0,children:"No employees available"}))]})]})]}),(0,Fe.jsxs)("div",{className:"assignment-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h3",{children:"Select Farmers"}),(0,Fe.jsx)("button",{type:"button",className:"btn-link",onClick:()=>{l.length===a.length?o([]):o(a.map(e=>e.id))},children:l.length===a.length?"Deselect All":"Select All"})]}),(0,Fe.jsx)("div",{className:"farmers-list",children:0===a.length?(0,Fe.jsx)("p",{className:"no-data",children:"No unassigned farmers available"}):a.map(e=>(0,Fe.jsx)("div",{className:"farmer-item",children:(0,Fe.jsxs)("label",{className:"checkbox-label",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:l.includes(e.id),onChange:()=>{return t=e.id,void o(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}}),(0,Fe.jsx)("span",{className:"checkmark"}),(0,Fe.jsxs)("div",{className:"farmer-info",children:[(0,Fe.jsx)("strong",{children:e.name}),(0,Fe.jsx)("span",{children:e.phone}),(0,Fe.jsxs)("span",{children:[e.state,", ",e.district]})]})]})},e.id))})]}),(0,Fe.jsxs)("div",{className:"assignment-summary",children:[(0,Fe.jsxs)("div",{className:"summary-item",children:[(0,Fe.jsx)("span",{children:"Selected Farmers:"}),(0,Fe.jsx)("strong",{children:l.length})]}),(0,Fe.jsxs)("div",{className:"summary-item",children:[(0,Fe.jsx)("span",{children:"Selected Employee:"}),(0,Fe.jsx)("strong",{children:c?null===(s=n.find(e=>e.id===parseInt(c)))||void 0===s?void 0:s.name:"None"})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"btn-secondary",onClick:i,children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"btn-primary",disabled:u||0===l.length||!c,children:u?"Assigning...":"Assign ".concat(l.length," Farmer").concat(1!==l.length?"s":"")})]})]})]})})},ys=e=>{var s;let{farmers:a=[],employees:n=[],onBack:i,onAssign:r}=e;const[l,o]=(0,t.useState)(""),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!1);return(0,Fe.jsxs)("div",{className:"view-farmer-content",children:[(0,Fe.jsxs)("div",{className:"view-farmer-header",children:[(0,Fe.jsx)("button",{className:"back-btn",onClick:i,style:{background:"#10b981",border:"1px solid #059669",borderRadius:"8px",padding:"10px 16px",cursor:"pointer",color:"white",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},onMouseEnter:e=>{e.target.style.background="#059669",e.target.style.borderColor="#047857",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"},onMouseLeave:e=>{e.target.style.background="#10b981",e.target.style.borderColor="#059669",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)"},children:"\u2190 Back to Farmers"}),(0,Fe.jsx)("h2",{style:{margin:0,flex:1,textAlign:"center"},children:"Assign Farmers to Employee"}),(0,Fe.jsx)("div",{style:{display:"flex",gap:"8px"},children:(0,Fe.jsx)("button",{onClick:()=>{console.log("\ud83d\udd0d Assign Farmers button clicked!"),(async()=>{if(console.log("\ud83d\udd0d Assign Farmers button clicked!"),console.log("\ud83d\udd0d Selected Employee ID:",l),console.log("\ud83d\udd0d Selected Farmer IDs:",c),l&&0!==c.length){h(!0);try{const e=n.find(e=>String(e.id)===String(l));if(console.log("\ud83d\udd0d Found employee:",e),!e)throw new Error("Selected employee not found in the list");const t=c.map(t=>{const s=a.find(e=>e.id===t)||{};return{farmerId:t,employeeId:Number(l),employeeName:(null===e||void 0===e?void 0:e.name)||"",farmerName:(null===s||void 0===s?void 0:s.name)||""}});console.log("\ud83d\udd0d Created assignments:",t),console.log("\ud83d\udd0d Calling onAssign with assignments..."),await r(t),console.log("\ud83d\udd0d onAssign completed successfully!"),o(""),d([])}catch(e){console.error("\u274c Error in handleAssign:",e),alert("Failed to assign farmers: "+e.message)}finally{h(!1)}}else alert("Please select an employee and at least one farmer")})()},disabled:u,style:{background:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:u?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",minWidth:"140px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",position:"relative",zIndex:9999,pointerEvents:"auto",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease"},onMouseEnter:e=>{u||(e.target.style.background="#059669",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)")},onMouseLeave:e=>{u||(e.target.style.background="#10b981",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)")},children:u?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Assigning..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"fas fa-user-plus"}),"Assign Farmers"]})})})]}),(0,Fe.jsx)("div",{className:"view-farmer-body",children:(0,Fe.jsxs)("div",{className:"farmer-details-container",style:{maxWidth:"100%",width:"100%"},children:[(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Select Employee"}),(0,Fe.jsx)("div",{className:"detail-grid",children:(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Employee"}),(0,Fe.jsxs)("select",{className:"edit-input",value:l,onChange:e=>o(e.target.value),children:[(0,Fe.jsx)("option",{value:"",children:"Select Employee"}),n.map(e=>(0,Fe.jsxs)("option",{value:e.id,children:[e.name||"Unknown",e.designation?" - ".concat(e.designation):""]},e.id))]})]})})]}),(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Select Farmers"}),(0,Fe.jsx)("div",{style:{marginBottom:12},children:(0,Fe.jsx)("button",{className:"select-all-btn",onClick:()=>{c.length===a.length?d([]):d(a.map(e=>e.id))},type:"button",children:c.length===a.length?"Deselect All":"Select All"})}),(0,Fe.jsx)("div",{className:"detail-grid",style:{gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))"},children:a.map(e=>(0,Fe.jsxs)("div",{className:"detail-item",style:{border:"1px solid #e5e7eb",borderRadius:8,background:"#f9fafb",padding:12,display:"flex",alignItems:"center",gap:12},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:c.includes(e.id),onChange:()=>{return t=e.id,void d(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Fe.jsx)("span",{style:{fontWeight:600},children:e.name}),(0,Fe.jsx)("span",{style:{color:"#6b7280",fontSize:12},children:[e.district,e.state].filter(Boolean).join(", ")})]})]},e.id))})]}),(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Summary"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Selected Farmers:"}),(0,Fe.jsx)("span",{children:c.length})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Selected Employee:"}),(0,Fe.jsx)("span",{children:(null===(s=n.find(e=>String(e.id)===String(l)))||void 0===s?void 0:s.name)||"None"})]})]})]})]})})]})},js=e=>{let{isOpen:s,onClose:a,farmer:n,onUpload:i,onApprove:r,onReject:l,onReferBack:o}=e;const[c,d]=(0,t.useState)({aadhaar:null,pan:null,landDocuments:null,bankPassbook:null,incomeCertificate:null,casteCertificate:null,otherDocuments:[]}),[u,h]=(0,t.useState)({}),[m,p]=(0,t.useState)("PENDING"),[f,g]=(0,t.useState)(""),[v,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(!1);if(!s||!n)return null;const j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;d(null!==t?e=>(0,Ue.A)((0,Ue.A)({},e),{},{otherDocuments:e.otherDocuments.filter((e,s)=>s!==t)}):t=>(0,Ue.A)((0,Ue.A)({},t),{},{[e]:null}))},N=e=>c[e]?"uploaded":"missing",w=()=>[{key:"aadhaar",label:"Aadhaar Card",required:!0},{key:"pan",label:"PAN Card",required:!0},{key:"landDocuments",label:"Land Documents",required:!0},{key:"bankPassbook",label:"Bank Passbook",required:!0},{key:"incomeCertificate",label:"Income Certificate",required:!1},{key:"casteCertificate",label:"Caste Certificate",required:!1}].filter(e=>e.required).every(e=>"uploaded"===N(e.key));return(0,Fe.jsxs)("div",{className:"kyc-document-upload-modal",children:[(0,Fe.jsx)("div",{className:"modal-overlay",onClick:a}),(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:"KYC Document Upload & Review"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsxs)("div",{className:"farmer-info",children:[(0,Fe.jsx)("h3",{children:"Farmer Information"}),(0,Fe.jsxs)("div",{className:"info-grid",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Name:"}),(0,Fe.jsx)("span",{children:n.name})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Phone:"}),(0,Fe.jsx)("span",{children:n.phone})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"State:"}),(0,Fe.jsx)("span",{children:n.state})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"District:"}),(0,Fe.jsx)("span",{children:n.district})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"KYC Status:"}),(0,Fe.jsx)("span",{className:"status-badge status-".concat(m.toLowerCase()),children:m})]})]})]}),(0,Fe.jsxs)("div",{className:"document-upload-section",children:[(0,Fe.jsx)("h3",{children:"Required Documents"}),(0,Fe.jsx)("div",{className:"document-grid",children:[{key:"aadhaar",label:"Aadhaar Card",required:!0},{key:"pan",label:"PAN Card",required:!0},{key:"landDocuments",label:"Land Documents",required:!0},{key:"bankPassbook",label:"Bank Passbook",required:!0},{key:"incomeCertificate",label:"Income Certificate",required:!1},{key:"casteCertificate",label:"Caste Certificate",required:!1}].map(e=>(0,Fe.jsxs)("div",{className:"document-item ".concat(N(e.key)),children:[(0,Fe.jsxs)("div",{className:"document-header",children:[(0,Fe.jsx)("h4",{children:e.label}),e.required&&(0,Fe.jsx)("span",{className:"required-badge",children:"Required"})]}),c[e.key]?(0,Fe.jsxs)("div",{className:"uploaded-document",children:[(0,Fe.jsxs)("div",{className:"document-info",children:[(0,Fe.jsx)("span",{className:"document-name",children:c[e.key].name}),(0,Fe.jsxs)("span",{className:"document-size",children:[(c[e.key].size/1024/1024).toFixed(2)," MB"]})]}),(0,Fe.jsxs)("div",{className:"document-actions",children:[(0,Fe.jsx)("button",{className:"view-btn",onClick:()=>window.open(c[e.key].url),children:"\ud83d\udc41\ufe0f View"}),(0,Fe.jsx)("button",{className:"remove-btn",onClick:()=>j(e.key),children:"\ud83d\uddd1\ufe0f Remove"})]})]}):(0,Fe.jsx)("div",{className:"upload-area",children:void 0!==u[e.key]?(0,Fe.jsxs)("div",{className:"upload-progress",children:[(0,Fe.jsx)("div",{className:"progress-bar",children:(0,Fe.jsx)("div",{className:"progress-fill",style:{width:"".concat(u[e.key],"%")}})}),(0,Fe.jsxs)("span",{children:[u[e.key],"%"]})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("input",{type:"file",id:"file-".concat(e.key),accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:t=>((e,t)=>{if(!t)return;h(t=>(0,Ue.A)((0,Ue.A)({},t),{},{[e]:0}));const s=setInterval(()=>{h(a=>{const n=a[e]+10;return n>=100&&(clearInterval(s),d(s=>(0,Ue.A)((0,Ue.A)({},s),{},{[e]:{name:t.name,size:t.size,type:t.type,uploadedAt:(new Date).toISOString(),url:URL.createObjectURL(t)}}))),(0,Ue.A)((0,Ue.A)({},a),{},{[e]:n})})},100);setTimeout(()=>{h(t=>(0,Ue.A)((0,Ue.A)({},t),{},{[e]:100}))},1e3)})(e.key,t.target.files[0]),style:{display:"none"}}),(0,Fe.jsxs)("label",{htmlFor:"file-".concat(e.key),className:"upload-label",children:[(0,Fe.jsx)("div",{className:"upload-icon",children:"\ud83d\udcc1"}),(0,Fe.jsxs)("span",{children:["Click to upload ",e.label]}),(0,Fe.jsx)("small",{children:"PDF, JPG, PNG, DOC (Max 10MB)"})]})]})})]},e.key))}),(0,Fe.jsxs)("div",{className:"additional-documents",children:[(0,Fe.jsx)("h4",{children:"Additional Documents"}),(0,Fe.jsxs)("div",{className:"upload-area",children:[(0,Fe.jsx)("input",{type:"file",id:"additional-files",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:e=>{return t=e.target.files,void Array.from(t).forEach(e=>{const t={name:e.name,size:e.size,type:e.type,uploadedAt:(new Date).toISOString(),url:URL.createObjectURL(e)};d(e=>(0,Ue.A)((0,Ue.A)({},e),{},{otherDocuments:[...e.otherDocuments,t]}))});var t},style:{display:"none"}}),(0,Fe.jsxs)("label",{htmlFor:"additional-files",className:"upload-label",children:[(0,Fe.jsx)("div",{className:"upload-icon",children:"\ud83d\udcc1"}),(0,Fe.jsx)("span",{children:"Upload Additional Documents"}),(0,Fe.jsx)("small",{children:"Multiple files allowed"})]})]}),c.otherDocuments.length>0&&(0,Fe.jsx)("div",{className:"additional-documents-list",children:c.otherDocuments.map((e,t)=>(0,Fe.jsxs)("div",{className:"additional-document",children:[(0,Fe.jsx)("span",{className:"document-name",children:e.name}),(0,Fe.jsxs)("div",{className:"document-actions",children:[(0,Fe.jsx)("button",{className:"view-btn",onClick:()=>window.open(e.url),children:"\ud83d\udc41\ufe0f View"}),(0,Fe.jsx)("button",{className:"remove-btn",onClick:()=>j("otherDocuments",t),children:"\ud83d\uddd1\ufe0f Remove"})]})]},t))})]})]}),(0,Fe.jsxs)("div",{className:"kyc-actions",children:[(0,Fe.jsx)("h3",{children:"KYC Review Actions"}),(0,Fe.jsxs)("div",{className:"action-buttons",children:[(0,Fe.jsx)("button",{className:"action-btn approve-btn ".concat(w()?"":"disabled"),onClick:async()=>{y(!0);try{await new Promise(e=>setTimeout(e,1e3)),p("APPROVED"),r&&r(n.id,c),alert("KYC approved successfully!")}catch(e){console.error("Error approving KYC:",e),alert("Error approving KYC")}finally{y(!1)}},disabled:!w()||b,children:b?"\u23f3 Processing...":"\u2705 Approve KYC"}),(0,Fe.jsx)("button",{className:"action-btn refer-back-btn",onClick:()=>document.getElementById("refer-back-reason").focus(),disabled:b,children:"\ud83d\udd04 Refer Back"}),(0,Fe.jsx)("button",{className:"action-btn reject-btn",onClick:()=>document.getElementById("rejection-reason").focus(),disabled:b,children:"\u274c Reject KYC"})]}),(0,Fe.jsxs)("div",{className:"reason-input",children:[(0,Fe.jsx)("label",{htmlFor:"refer-back-reason",children:"Refer Back Reason:"}),(0,Fe.jsx)("textarea",{id:"refer-back-reason",value:v,onChange:e=>x(e.target.value),placeholder:"Enter reason for referring back...",rows:"3"}),v&&(0,Fe.jsx)("button",{className:"submit-reason-btn",onClick:async()=>{if(v.trim()){y(!0);try{await new Promise(e=>setTimeout(e,1e3)),p("REFER_BACK"),o&&o(n.id,v,c),alert("KYC referred back successfully!")}catch(e){console.error("Error referring back KYC:",e),alert("Error referring back KYC")}finally{y(!1)}}else alert("Please provide a reason for referring back")},disabled:b,children:b?"Processing...":"Submit Refer Back"})]}),(0,Fe.jsxs)("div",{className:"reason-input",children:[(0,Fe.jsx)("label",{htmlFor:"rejection-reason",children:"Rejection Reason:"}),(0,Fe.jsx)("textarea",{id:"rejection-reason",value:f,onChange:e=>g(e.target.value),placeholder:"Enter reason for rejection...",rows:"3"}),f&&(0,Fe.jsx)("button",{className:"submit-reason-btn reject",onClick:async()=>{if(f.trim()){y(!0);try{await new Promise(e=>setTimeout(e,1e3)),p("REJECTED"),l&&l(n.id,f,c),alert("KYC rejected successfully!")}catch(e){console.error("Error rejecting KYC:",e),alert("Error rejecting KYC")}finally{y(!1)}}else alert("Please provide a rejection reason")},disabled:b,children:b?"Processing...":"Submit Rejection"})]})]})]}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsx)("button",{className:"close-button",onClick:a,children:"Close"})})]})]})},Ns=e=>{var s;let{farmerData:a,onClose:n,onSave:i}=e;const[r,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)({});(0,t.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(null===n||void 0===n||n())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n]),(0,t.useEffect)(()=>{a&&c({firstName:a.firstName||"",middleName:a.middleName||"",lastName:a.lastName||"",name:a.name||a.fullName||"",dateOfBirth:a.dateOfBirth||a.dob||"",gender:a.gender||"",contactNumber:a.contactNumber||a.phoneNumber||a.phone||a.mobileNumber||"",email:a.email||a.emailId||a.emailAddress||"",fatherName:a.fatherName||a.relationName||a.father||"",nationality:a.nationality||"",alternativeContactNumber:a.alternativeContactNumber||a.altNumber||a.alternateContact||a.alternativeNumber||"",alternativeRelationType:a.alternativeRelationType||a.altRelationType||"",state:a.state||"",district:a.district||"",country:a.country||"",block:a.block||"",village:a.village||"",pincode:a.pincode||"",kycStatus:a.kycStatus||"PENDING"})},[a]);const d=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];for(const n of t){const e=null===a||void 0===a?void 0:a[n];if(void 0!==e&&null!==e&&""!==String(e).trim())return e}},u={name:(()=>{const e=d("name","fullName");if(e)return e;const t=[d("firstName"),d("middleName"),d("lastName")].filter(Boolean);return t.length?t.join(" "):void 0})(),dateOfBirth:d("dateOfBirth","dob"),gender:d("gender"),contactNumber:d("contactNumber","phoneNumber","phone","mobileNumber"),email:d("email","emailId","emailAddress")||"Not available",fatherName:d("fatherName","relationName","father"),nationality:d("nationality"),alternativeContactNumber:d("alternativeContactNumber","altNumber","alternateContact","alternativeNumber"),alternativeRelationType:d("alternativeRelationType","altRelationType"),state:d("state"),district:d("district"),country:d("country"),block:d("block"),village:d("village"),pincode:d("pincode")};console.log("\ud83d\udd0d ViewFarmerRegistrationDetails - Raw farmerData:",a),console.log("\ud83d\udd0d ViewFarmerRegistrationDetails - Normalized data:",u),console.log("\ud83d\udd0d ViewFarmerRegistrationDetails - Available keys:",Object.keys(a||{})),console.log("\ud83d\udd0d Date of Birth:",null===a||void 0===a?void 0:a.dateOfBirth,"Type:",typeof(null===a||void 0===a?void 0:a.dateOfBirth)),console.log("\ud83d\udd0d Father Name:",null===a||void 0===a?void 0:a.fatherName,"Type:",typeof(null===a||void 0===a?void 0:a.fatherName)),console.log("\ud83d\udd0d Nationality:",null===a||void 0===a?void 0:a.nationality,"Type:",typeof(null===a||void 0===a?void 0:a.nationality)),console.log("\ud83d\udd0d Alternative Contact:",null===a||void 0===a?void 0:a.alternativeContactNumber,"Type:",typeof(null===a||void 0===a?void 0:a.alternativeContactNumber)),console.log("\ud83d\udd0d Alternative Relation:",null===a||void 0===a?void 0:a.alternativeRelationType,"Type:",typeof(null===a||void 0===a?void 0:a.alternativeRelationType));const h=e=>{if(null===e||void 0===e)return"Not provided";if("object"===typeof e)return console.warn("ViewFarmerRegistrationDetails: Object found in value:",e),"Object (see console)";const t=String(e);return""===t.trim()?"Not provided":t},m=(e,t)=>{c(s=>(0,Ue.A)((0,Ue.A)({},s),{},{[e]:t}))};return(0,Fe.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,Fe.jsxs)("div",{className:"modal-content view-farmer-modal",onClick:e=>e.stopPropagation(),children:[(0,Fe.jsxs)("div",{className:"modal-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"8px"},children:[(0,Fe.jsx)("button",{className:"back-btn",onClick:n,style:{background:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"6px 10px",cursor:"pointer",color:"#111827"},children:"\u2190 Back"}),(0,Fe.jsx)("h2",{style:{margin:0,flex:1,textAlign:"center"},children:"Farmer Registration Details"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[r?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{onClick:async()=>{try{i&&(await i(o),l(!1))}catch(e){console.error("Error saving farmer:",e),alert("Failed to save farmer data")}},style:{background:"#10b981",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Save"}),(0,Fe.jsx)("button",{onClick:()=>{l(!1),a&&c({firstName:a.firstName||"",middleName:a.middleName||"",lastName:a.lastName||"",name:a.name||a.fullName||"",dateOfBirth:a.dateOfBirth||a.dob||"",gender:a.gender||"",contactNumber:a.contactNumber||a.phoneNumber||a.phone||a.mobileNumber||"",email:a.email||a.emailId||a.emailAddress||"",fatherName:a.fatherName||a.relationName||a.father||"",nationality:a.nationality||"",alternativeContactNumber:a.alternativeContactNumber||a.altNumber||a.alternateContact||a.alternativeNumber||"",alternativeRelationType:a.alternativeRelationType||a.altRelationType||"",state:a.state||"",district:a.district||"",country:a.country||"",block:a.block||"",village:a.village||"",pincode:a.pincode||"",kycStatus:a.kycStatus||"PENDING"})},style:{background:"#6b7280",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Cancel"})]}):(0,Fe.jsx)("button",{onClick:()=>l(!0),style:{background:"#10b981",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Edit"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:n,children:"\xd7"})]})]}),(0,Fe.jsx)("div",{className:"modal-body",children:(0,Fe.jsxs)("div",{className:"farmer-details-container",children:[(!a||"object"!==typeof a)&&(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Personal Information"}),(0,Fe.jsx)("div",{className:"detail-grid",children:(0,Fe.jsxs)("div",{className:"detail-item full-width",children:[(0,Fe.jsx)("label",{children:"Notice:"}),(0,Fe.jsx)("span",{children:" No farmer data available or invalid data format."})]})})]}),(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Personal Information"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Name:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.name||"",onChange:e=>m("name",e.target.value),className:"edit-input",placeholder:"Enter full name"}):(0,Fe.jsx)("span",{children:h(u.name)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Date of Birth:"}),r?(0,Fe.jsx)("input",{type:"date",value:o.dateOfBirth||"",onChange:e=>m("dateOfBirth",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:(e=>{if(!e)return"Not provided";try{let t;return t="string"===typeof e?e.includes("T")||e.includes("Z")?new Date(e):new Date(e+"T00:00:00"):e instanceof Date?e:new Date(e),isNaN(t.getTime())?(console.warn("Invalid date format:",e),"Invalid date"):t.toLocaleDateString()}catch(t){return console.warn("Error formatting date:",e,t),"Invalid date"}})(u.dateOfBirth)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Gender:"}),r?(0,Fe.jsxs)("select",{value:o.gender||"",onChange:e=>m("gender",e.target.value),className:"edit-input",children:[(0,Fe.jsx)("option",{value:"",children:"Select Gender"}),(0,Fe.jsx)("option",{value:"Male",children:"Male"}),(0,Fe.jsx)("option",{value:"Female",children:"Female"}),(0,Fe.jsx)("option",{value:"Other",children:"Other"})]}):(0,Fe.jsx)("span",{children:h(u.gender)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Contact Number:"}),r?(0,Fe.jsx)("input",{type:"tel",value:o.contactNumber||"",onChange:e=>m("contactNumber",e.target.value),className:"edit-input",placeholder:"Enter contact number"}):(0,Fe.jsx)("span",{children:h(u.contactNumber)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Email:"}),r?(0,Fe.jsx)("input",{type:"email",value:o.email||"",onChange:e=>m("email",e.target.value),className:"edit-input",placeholder:"Enter email address"}):(0,Fe.jsx)("span",{children:h(u.email)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Father's Name:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.fatherName||"",onChange:e=>m("fatherName",e.target.value),className:"edit-input",placeholder:"Enter father's name"}):(0,Fe.jsx)("span",{children:h(u.fatherName)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Nationality:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.nationality||"",onChange:e=>m("nationality",e.target.value),className:"edit-input",placeholder:"Enter nationality"}):(0,Fe.jsx)("span",{children:h(u.nationality)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Alternative Contact:"}),r?(0,Fe.jsx)("input",{type:"tel",value:o.alternativeContactNumber||"",onChange:e=>m("alternativeContactNumber",e.target.value),className:"edit-input",placeholder:"Enter alternative contact"}):(0,Fe.jsx)("span",{children:h(u.alternativeContactNumber)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Alternative Relation:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.alternativeRelationType||"",onChange:e=>m("alternativeRelationType",e.target.value),className:"edit-input",placeholder:"Enter alternative relation"}):(0,Fe.jsx)("span",{children:h(u.alternativeRelationType)})]})]})]}),(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Address Information"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"State:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.state||"",onChange:e=>m("state",e.target.value),className:"edit-input",placeholder:"Enter state"}):(0,Fe.jsx)("span",{children:h(u.state)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"District:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.district||"",onChange:e=>m("district",e.target.value),className:"edit-input",placeholder:"Enter district"}):(0,Fe.jsx)("span",{children:h(u.district)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Block:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.block||"",onChange:e=>m("block",e.target.value),className:"edit-input",placeholder:"Enter block"}):(0,Fe.jsx)("span",{children:h(u.block)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Village:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.village||"",onChange:e=>m("village",e.target.value),className:"edit-input",placeholder:"Enter village"}):(0,Fe.jsx)("span",{children:h(u.village)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Pincode:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.pincode||"",onChange:e=>m("pincode",e.target.value),className:"edit-input",placeholder:"Enter pincode"}):(0,Fe.jsx)("span",{children:h(u.pincode)})]}),(0,Fe.jsxs)("div",{className:"detail-item full-width",children:[(0,Fe.jsx)("label",{children:"Complete Address:"}),(0,Fe.jsx)("span",{children:[h(u.village),h(u.block),h(u.district),h(u.state),h(u.pincode)].filter(e=>"Not provided"!==e).join(", ")})]})]})]}),(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Assignment Information"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"KYC Status:"}),r?(0,Fe.jsxs)("select",{value:o.kycStatus||"PENDING",onChange:e=>m("kycStatus",e.target.value),className:"edit-input",children:[(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Fe.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,Fe.jsx)("option",{value:"REJECTED",children:"Rejected"}),(0,Fe.jsx)("option",{value:"REFER_BACK",children:"Refer Back"})]}):(0,Fe.jsx)("span",{className:"kyc-status-badge ".concat(null===(s=h(a.kycStatus))||void 0===s?void 0:s.toLowerCase()),children:h(a.kycStatus)||"PENDING"})]}),a.assignedEmployee&&(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Assigned Employee:"}),(0,Fe.jsx)("span",{children:"object"===typeof a.assignedEmployee?"".concat(h(a.assignedEmployee.firstName)," ").concat(h(a.assignedEmployee.lastName)):h(a.assignedEmployee)})]}),a.assignedEmployeeId&&(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Assigned Employee ID:"}),(0,Fe.jsx)("span",{children:h(a.assignedEmployeeId)})]})]})]})]})})]})})},ws=e=>{var s,a;let{farmerData:n,onBack:i,onSave:r}=e;const[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)({});(0,t.useEffect)(()=>{n&&d({firstName:n.firstName||"",middleName:n.middleName||"",lastName:n.lastName||"",name:n.name||n.fullName||"",dateOfBirth:n.dateOfBirth||n.dob||"",gender:n.gender||"",contactNumber:n.contactNumber||n.phoneNumber||n.phone||n.mobileNumber||"",email:n.email||n.emailId||n.emailAddress||"",fatherName:n.fatherName||n.relationName||n.father||"",nationality:n.nationality||"",alternativeContactNumber:n.alternativeContactNumber||n.altNumber||n.alternateContact||n.alternativeNumber||"",alternativeRelationType:n.alternativeRelationType||n.altRelationType||"",state:n.state||"",district:n.district||"",country:n.country||"",block:n.block||"",village:n.village||"",pincode:n.pincode||"",kycStatus:n.kycStatus||"PENDING"})},[n]);const u=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];for(const a of t){const e=null===n||void 0===n?void 0:n[a];if(void 0!==e&&null!==e&&""!==String(e).trim())return e}},h={name:(()=>{const e=u("name","fullName");if(e)return e;const t=[u("firstName"),u("middleName"),u("lastName")].filter(Boolean);return t.length?t.join(" "):void 0})(),dateOfBirth:u("dateOfBirth","dob"),gender:u("gender"),contactNumber:u("contactNumber","phoneNumber","phone","mobileNumber"),email:u("email","emailId","emailAddress")||"Not available",fatherName:u("fatherName","relationName","father"),nationality:u("nationality"),alternativeContactNumber:u("alternativeContactNumber","altNumber","alternateContact","alternativeNumber"),alternativeRelationType:u("alternativeRelationType","altRelationType"),state:u("state"),district:u("district"),country:u("country"),block:u("block"),village:u("village"),pincode:u("pincode")},m=e=>{if(null===e||void 0===e)return"Not provided";if("object"===typeof e)return console.warn("ViewFarmer: Object found in value:",e),"Object (see console)";const t=String(e);return""===t.trim()?"Not provided":t},p=(e,t)=>{d(s=>(0,Ue.A)((0,Ue.A)({},s),{},{[e]:t}))};return(0,Fe.jsxs)("div",{className:"view-farmer-content",children:[(0,Fe.jsxs)("div",{className:"view-farmer-header",children:[(0,Fe.jsx)("button",{className:"back-btn",onClick:i,style:{background:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"6px 10px",cursor:"pointer",color:"#111827"},children:"\u2190 Back to Farmers"}),(0,Fe.jsx)("h2",{style:{margin:0,flex:1,textAlign:"center"},children:"Farmer Details"}),(0,Fe.jsx)("div",{style:{display:"flex",gap:"8px"},children:l?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{onClick:async()=>{try{r&&(await r(c),o(!1))}catch(e){console.error("Error saving farmer:",e),alert("Failed to save farmer data")}},style:{background:"#10b981",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Save"}),(0,Fe.jsx)("button",{onClick:()=>{o(!1),n&&d({firstName:n.firstName||"",middleName:n.middleName||"",lastName:n.lastName||"",name:n.name||n.fullName||"",dateOfBirth:n.dateOfBirth||n.dob||"",gender:n.gender||"",contactNumber:n.contactNumber||n.phoneNumber||n.phone||n.mobileNumber||"",email:n.email||n.emailId||n.emailAddress||"",fatherName:n.fatherName||n.relationName||n.father||"",nationality:n.nationality||"",alternativeContactNumber:n.alternativeContactNumber||n.altNumber||n.alternateContact||n.alternativeNumber||"",alternativeRelationType:n.alternativeRelationType||n.altRelationType||"",state:n.state||"",district:n.district||"",country:n.country||"",block:n.block||"",village:n.village||"",pincode:n.pincode||"",kycStatus:n.kycStatus||"PENDING"})},style:{background:"#6b7280",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Cancel"})]}):(0,Fe.jsx)("button",{onClick:()=>o(!0),style:{background:"#10b981",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Edit"})})]}),(0,Fe.jsx)("div",{className:"farmer-middle-section",children:(0,Fe.jsxs)("div",{className:"middle-section-content",children:[(0,Fe.jsx)("div",{className:"middle-section-left"}),(0,Fe.jsx)("div",{className:"middle-section-right",children:(0,Fe.jsxs)("div",{className:"farmer-id-card",children:[(0,Fe.jsx)("div",{className:"farmer-id-photo",children:null!==n&&void 0!==n&&n.photoFileName||null!==n&&void 0!==n&&n.photo?(0,Fe.jsx)("img",{src:n.photoFileName||n.photo,alt:"Farmer",className:"farmer-id-photo-img"}):(0,Fe.jsx)("div",{className:"farmer-id-photo-placeholder",children:(0,Fe.jsx)("i",{className:"fas fa-user"})})}),(0,Fe.jsxs)("div",{className:"farmer-id-info",children:[(0,Fe.jsxs)("div",{className:"farmer-id-number",children:["ID: ",(null===n||void 0===n?void 0:n.id)||(null===n||void 0===n?void 0:n.farmerId)||"N/A"]}),(0,Fe.jsx)("div",{className:"farmer-id-name",children:c.name||(c.firstName?"".concat(c.firstName||""," ").concat(c.middleName||""," ").concat(c.lastName||"").trim():"Farmer Name")}),(0,Fe.jsx)("div",{className:"farmer-id-status",children:(0,Fe.jsx)("span",{className:"farmer-status-badge ".concat((null===n||void 0===n||null===(s=n.kycStatus)||void 0===s?void 0:s.toLowerCase())||"pending"),children:m(null===n||void 0===n?void 0:n.kycStatus)||"PENDING"})})]})]})})]})}),(0,Fe.jsx)("div",{className:"view-farmer-body",children:(0,Fe.jsxs)("div",{className:"farmer-details-container",children:[(!n||"object"!==typeof n)&&(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Personal Information"}),(0,Fe.jsx)("div",{className:"detail-grid",children:(0,Fe.jsxs)("div",{className:"detail-item full-width",children:[(0,Fe.jsx)("label",{children:"Notice:"}),(0,Fe.jsx)("span",{children:" No farmer data available or invalid data format."})]})})]}),(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Personal Information"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Name:"}),l?(0,Fe.jsx)("input",{type:"text",value:c.name||"",onChange:e=>p("name",e.target.value),className:"edit-input",placeholder:"Enter full name"}):(0,Fe.jsx)("span",{children:m(h.name)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Date of Birth:"}),l?(0,Fe.jsx)("input",{type:"date",value:c.dateOfBirth||"",onChange:e=>p("dateOfBirth",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:(e=>{if(!e)return"Not provided";try{let t;return t="string"===typeof e?e.includes("T")||e.includes("Z")?new Date(e):new Date(e+"T00:00:00"):e instanceof Date?e:new Date(e),isNaN(t.getTime())?(console.warn("Invalid date format:",e),"Invalid date"):t.toLocaleDateString()}catch(t){return console.warn("Error formatting date:",e,t),"Invalid date"}})(h.dateOfBirth)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Gender:"}),l?(0,Fe.jsxs)("select",{value:c.gender||"",onChange:e=>p("gender",e.target.value),className:"edit-input",children:[(0,Fe.jsx)("option",{value:"",children:"Select Gender"}),(0,Fe.jsx)("option",{value:"Male",children:"Male"}),(0,Fe.jsx)("option",{value:"Female",children:"Female"}),(0,Fe.jsx)("option",{value:"Other",children:"Other"})]}):(0,Fe.jsx)("span",{children:m(h.gender)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Contact Number:"}),l?(0,Fe.jsx)("input",{type:"tel",value:c.contactNumber||"",onChange:e=>p("contactNumber",e.target.value),className:"edit-input",placeholder:"Enter contact number"}):(0,Fe.jsx)("span",{children:m(h.contactNumber)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Email:"}),l?(0,Fe.jsx)("input",{type:"email",value:c.email||"",onChange:e=>p("email",e.target.value),className:"edit-input",placeholder:"Enter email address"}):(0,Fe.jsx)("span",{children:m(h.email)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Father's Name:"}),l?(0,Fe.jsx)("input",{type:"text",value:c.fatherName||"",onChange:e=>p("fatherName",e.target.value),className:"edit-input",placeholder:"Enter father's name"}):(0,Fe.jsx)("span",{children:m(h.fatherName)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Nationality:"}),l?(0,Fe.jsx)("input",{type:"text",value:c.nationality||"",onChange:e=>p("nationality",e.target.value),className:"edit-input",placeholder:"Enter nationality"}):(0,Fe.jsx)("span",{children:m(h.nationality)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Alternative Contact:"}),l?(0,Fe.jsx)("input",{type:"tel",value:c.alternativeContactNumber||"",onChange:e=>p("alternativeContactNumber",e.target.value),className:"edit-input",placeholder:"Enter alternative contact"}):(0,Fe.jsx)("span",{children:m(h.alternativeContactNumber)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Alternative Relation:"}),l?(0,Fe.jsx)("input",{type:"text",value:c.alternativeRelationType||"",onChange:e=>p("alternativeRelationType",e.target.value),className:"edit-input",placeholder:"Enter alternative relation"}):(0,Fe.jsx)("span",{children:m(h.alternativeRelationType)})]})]})]}),(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Address Information"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"State:"}),l?(0,Fe.jsx)("input",{type:"text",value:c.state||"",onChange:e=>p("state",e.target.value),className:"edit-input",placeholder:"Enter state"}):(0,Fe.jsx)("span",{children:m(h.state)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"District:"}),l?(0,Fe.jsx)("input",{type:"text",value:c.district||"",onChange:e=>p("district",e.target.value),className:"edit-input",placeholder:"Enter district"}):(0,Fe.jsx)("span",{children:m(h.district)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Block:"}),l?(0,Fe.jsx)("input",{type:"text",value:c.block||"",onChange:e=>p("block",e.target.value),className:"edit-input",placeholder:"Enter block"}):(0,Fe.jsx)("span",{children:m(h.block)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Village:"}),l?(0,Fe.jsx)("input",{type:"text",value:c.village||"",onChange:e=>p("village",e.target.value),className:"edit-input",placeholder:"Enter village"}):(0,Fe.jsx)("span",{children:m(h.village)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Pincode:"}),l?(0,Fe.jsx)("input",{type:"text",value:c.pincode||"",onChange:e=>p("pincode",e.target.value),className:"edit-input",placeholder:"Enter pincode"}):(0,Fe.jsx)("span",{children:m(h.pincode)})]}),(0,Fe.jsxs)("div",{className:"detail-item full-width",children:[(0,Fe.jsx)("label",{children:"Complete Address:"}),(0,Fe.jsx)("span",{children:[m(h.village),m(h.block),m(h.district),m(h.state),m(h.pincode)].filter(e=>"Not provided"!==e).join(", ")})]})]})]}),(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Assignment Information"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"KYC Status:"}),l?(0,Fe.jsxs)("select",{value:c.kycStatus||"PENDING",onChange:e=>p("kycStatus",e.target.value),className:"edit-input",children:[(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Fe.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,Fe.jsx)("option",{value:"REJECTED",children:"Rejected"}),(0,Fe.jsx)("option",{value:"REFER_BACK",children:"Refer Back"})]}):(0,Fe.jsx)("span",{className:"kyc-status-badge ".concat(null===(a=m(n.kycStatus))||void 0===a?void 0:a.toLowerCase()),children:m(n.kycStatus)||"PENDING"})]}),n.assignedEmployee&&(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Assigned Employee:"}),(0,Fe.jsx)("span",{children:"object"===typeof n.assignedEmployee?"".concat(m(n.assignedEmployee.firstName)," ").concat(m(n.assignedEmployee.lastName)):m(n.assignedEmployee)})]}),n.assignedEmployeeId&&(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Assigned Employee ID:"}),(0,Fe.jsx)("span",{children:m(n.assignedEmployeeId)})]})]})]})]})})]})},Ss=e=>{let{employeeData:s,employee:a,onClose:n,onUpdate:i}=e;const[r,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(0),d=s||a||{},u=d.firstName||(d.name?String(d.name).split(" ")[0]:""),h=d.lastName||(d.name?String(d.name).split(" ").slice(1).join(" "):""),m=d.contactNumber||d.phone||"",p=d.dateOfBirth||d.dob||"",f=d.gender||"",g=d.address||"",v=d.city||d.district||"",x=d.state||"",b=d.pincode||d.zipcode||"",y=d.employeeId||(d.id?"EMP".concat(String(d.id).padStart(6,"0")):""),j=d.department||"",N=d.designation||d.role||"",w=d.joiningDate||"",S=d.salary||"",k=d.supervisor||"",C=fs({defaultValues:{firstName:u,lastName:h,email:d.email||"",phone:m,dateOfBirth:p,gender:f,address:g,city:v,state:x,pincode:b,employeeId:y,department:j,designation:N,joiningDate:w,salary:S,supervisor:k,highestQualification:d.highestQualification||"",institution:d.institution||"",graduationYear:d.graduationYear||"",specialization:d.specialization||"",emergencyName:d.emergencyName||"",emergencyPhone:d.emergencyPhone||"",emergencyRelation:d.emergencyRelation||"",photo:d.photo||null,idProof:d.idProof||null,addressProof:d.addressProof||null,educationalCertificates:d.educationalCertificates||null,skills:d.skills||"",languages:d.languages||"",certifications:d.certifications||"",workExperience:d.workExperience||"",references:d.references||""}}),{register:A,handleSubmit:E,watch:P,setValue:I,trigger:F,clearErrors:D,formState:{errors:_}}=C,T=[{title:"Personal Information",fields:["firstName","lastName","email","phone","dateOfBirth","gender","address","city","state","pincode"]},{title:"Employment Information",fields:["employeeId","department","designation","joiningDate","salary","supervisor"]},{title:"Educational Information",fields:["highestQualification","institution","graduationYear","specialization"]},{title:"Emergency Contact",fields:["emergencyName","emergencyPhone","emergencyRelation"]},{title:"Documents",fields:["photo","idProof","addressProof","educationalCertificates"]},{title:"Additional Information",fields:["skills","languages","certifications","workExperience","references"]}];return(0,Fe.jsx)("div",{className:"view-edit-employee-modal",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:r?"Edit Employee Details":"Employee Details"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:n,children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsx)("div",{className:"step-indicator",children:T.map((e,t)=>(0,Fe.jsxs)("div",{className:"step ".concat(t===o?"active":""," ").concat(t<o?"completed":""),children:[(0,Fe.jsx)("span",{className:"step-number",children:t+1}),(0,Fe.jsx)("span",{className:"step-title",children:e.title})]},t))}),(0,Fe.jsx)(kt,(0,Ue.A)((0,Ue.A)({},C),{},{children:(0,Fe.jsxs)("form",{onSubmit:E(async e=>{i&&await i(e),l(!1)}),children:[(()=>{switch(o){case 0:return(0,Fe.jsxs)("div",{className:"form-section",children:[(0,Fe.jsx)("h3",{children:"Personal Information"}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"First Name *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},A("firstName",{required:"First name is required"})),{},{disabled:!r})),_.firstName&&(0,Fe.jsx)("span",{className:"error",children:_.firstName.message})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Last Name *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},A("lastName",{required:"Last name is required"})),{},{disabled:!r})),_.lastName&&(0,Fe.jsx)("span",{className:"error",children:_.lastName.message})]})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Email *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"email"},A("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{disabled:!r})),_.email&&(0,Fe.jsx)("span",{className:"error",children:_.email.message})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Phone *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"tel"},A("phone",{required:"Phone is required",pattern:{value:/^[0-9]{10}$/,message:"Phone number must be 10 digits"}})),{},{disabled:!r})),_.phone&&(0,Fe.jsx)("span",{className:"error",children:_.phone.message})]})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Date of Birth *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"date"},A("dateOfBirth",{required:"Date of birth is required"})),{},{disabled:!r})),_.dateOfBirth&&(0,Fe.jsx)("span",{className:"error",children:_.dateOfBirth.message})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Gender *"}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},A("gender",{required:"Gender is required"})),{},{disabled:!r,children:[(0,Fe.jsx)("option",{value:"",children:"Select Gender"}),(0,Fe.jsx)("option",{value:"male",children:"Male"}),(0,Fe.jsx)("option",{value:"female",children:"Female"}),(0,Fe.jsx)("option",{value:"other",children:"Other"})]})),_.gender&&(0,Fe.jsx)("span",{className:"error",children:_.gender.message})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Address *"}),(0,Fe.jsx)("textarea",(0,Ue.A)((0,Ue.A)({},A("address",{required:"Address is required"})),{},{disabled:!r})),_.address&&(0,Fe.jsx)("span",{className:"error",children:_.address.message})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"City *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},A("city",{required:"City is required"})),{},{disabled:!r})),_.city&&(0,Fe.jsx)("span",{className:"error",children:_.city.message})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"State *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},A("state",{required:"State is required"})),{},{disabled:!r})),_.state&&(0,Fe.jsx)("span",{className:"error",children:_.state.message})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pincode *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},A("pincode",{required:"Pincode is required",pattern:{value:/^[0-9]{6}$/,message:"Pincode must be 6 digits"}})),{},{disabled:!r})),_.pincode&&(0,Fe.jsx)("span",{className:"error",children:_.pincode.message})]})]})]});case 1:return(0,Fe.jsxs)("div",{className:"form-section",children:[(0,Fe.jsx)("h3",{children:"Employment Information"}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Employee ID *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},A("employeeId",{required:"Employee ID is required"})),{},{disabled:!r})),_.employeeId&&(0,Fe.jsx)("span",{className:"error",children:_.employeeId.message})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Department *"}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},A("department",{required:"Department is required"})),{},{disabled:!r,children:[(0,Fe.jsx)("option",{value:"",children:"Select Department"}),(0,Fe.jsx)("option",{value:"IT",children:"IT"}),(0,Fe.jsx)("option",{value:"HR",children:"HR"}),(0,Fe.jsx)("option",{value:"Finance",children:"Finance"}),(0,Fe.jsx)("option",{value:"Marketing",children:"Marketing"}),(0,Fe.jsx)("option",{value:"Operations",children:"Operations"})]})),_.department&&(0,Fe.jsx)("span",{className:"error",children:_.department.message})]})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Designation *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},A("designation",{required:"Designation is required"})),{},{disabled:!r})),_.designation&&(0,Fe.jsx)("span",{className:"error",children:_.designation.message})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Joining Date *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"date"},A("joiningDate",{required:"Joining date is required"})),{},{disabled:!r})),_.joiningDate&&(0,Fe.jsx)("span",{className:"error",children:_.joiningDate.message})]})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Salary *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"number"},A("salary",{required:"Salary is required"})),{},{disabled:!r})),_.salary&&(0,Fe.jsx)("span",{className:"error",children:_.salary.message})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Supervisor"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},A("supervisor")),{},{disabled:!r}))]})]})]});case 2:return(0,Fe.jsxs)("div",{className:"form-section",children:[(0,Fe.jsx)("h3",{children:"Educational Information"}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Highest Qualification *"}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},A("highestQualification",{required:"Highest qualification is required"})),{},{disabled:!r,children:[(0,Fe.jsx)("option",{value:"",children:"Select Qualification"}),(0,Fe.jsx)("option",{value:"High School",children:"High School"}),(0,Fe.jsx)("option",{value:"Diploma",children:"Diploma"}),(0,Fe.jsx)("option",{value:"Bachelor's Degree",children:"Bachelor's Degree"}),(0,Fe.jsx)("option",{value:"Master's Degree",children:"Master's Degree"}),(0,Fe.jsx)("option",{value:"PhD",children:"PhD"})]})),_.highestQualification&&(0,Fe.jsx)("span",{className:"error",children:_.highestQualification.message})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Institution *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},A("institution",{required:"Institution is required"})),{},{disabled:!r})),_.institution&&(0,Fe.jsx)("span",{className:"error",children:_.institution.message})]})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Graduation Year *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"number"},A("graduationYear",{required:"Graduation year is required",min:{value:1950,message:"Invalid year"},max:{value:(new Date).getFullYear(),message:"Year cannot be in future"}})),{},{disabled:!r})),_.graduationYear&&(0,Fe.jsx)("span",{className:"error",children:_.graduationYear.message})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Specialization"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},A("specialization")),{},{disabled:!r}))]})]})]});case 3:return(0,Fe.jsxs)("div",{className:"form-section",children:[(0,Fe.jsx)("h3",{children:"Emergency Contact"}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Emergency Contact Name *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},A("emergencyName",{required:"Emergency contact name is required"})),{},{disabled:!r})),_.emergencyName&&(0,Fe.jsx)("span",{className:"error",children:_.emergencyName.message})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Emergency Contact Phone *"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"tel"},A("emergencyPhone",{required:"Emergency contact phone is required",pattern:{value:/^[0-9]{10}$/,message:"Phone number must be 10 digits"}})),{},{disabled:!r})),_.emergencyPhone&&(0,Fe.jsx)("span",{className:"error",children:_.emergencyPhone.message})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Relationship *"}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},A("emergencyRelation",{required:"Relationship is required"})),{},{disabled:!r,children:[(0,Fe.jsx)("option",{value:"",children:"Select Relationship"}),(0,Fe.jsx)("option",{value:"Spouse",children:"Spouse"}),(0,Fe.jsx)("option",{value:"Parent",children:"Parent"}),(0,Fe.jsx)("option",{value:"Sibling",children:"Sibling"}),(0,Fe.jsx)("option",{value:"Friend",children:"Friend"}),(0,Fe.jsx)("option",{value:"Other",children:"Other"})]})),_.emergencyRelation&&(0,Fe.jsx)("span",{className:"error",children:_.emergencyRelation.message})]})]});case 4:return(0,Fe.jsxs)("div",{className:"form-section",children:[(0,Fe.jsx)("h3",{children:"Documents"}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Photo (Optional)"}),(0,Fe.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{e.target.files[0]&&(I("photo",e.target.files[0]),D("photo"))},disabled:!r}),P("photo")&&(0,Fe.jsx)("div",{className:"file-preview",children:(0,Fe.jsx)("img",{src:URL.createObjectURL(P("photo")),className:"file-preview",alt:""})})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"ID Proof (Optional)"}),(0,Fe.jsx)("input",{type:"file",accept:".pdf,.doc,.docx,image/*",onChange:e=>{e.target.files[0]&&(I("idProof",e.target.files[0]),D("idProof"))},disabled:!r})]})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Address Proof (Optional)"}),(0,Fe.jsx)("input",{type:"file",accept:".pdf,.doc,.docx,image/*",onChange:e=>{e.target.files[0]&&(I("addressProof",e.target.files[0]),D("addressProof"))},disabled:!r})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Educational Certificates (Optional)"}),(0,Fe.jsx)("input",{type:"file",accept:".pdf,.doc,.docx,image/*",multiple:!0,onChange:e=>{e.target.files.length>0&&(I("educationalCertificates",Array.from(e.target.files)),D("educationalCertificates"))},disabled:!r})]})]})]});case 5:return(0,Fe.jsxs)("div",{className:"form-section",children:[(0,Fe.jsx)("h3",{children:"Additional Information"}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Skills"}),(0,Fe.jsx)("textarea",(0,Ue.A)((0,Ue.A)({},A("skills")),{},{placeholder:"Enter your skills (comma separated)",disabled:!r}))]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Languages Known"}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},A("languages")),{},{placeholder:"e.g., English, Hindi, Spanish",disabled:!r}))]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Certifications"}),(0,Fe.jsx)("textarea",(0,Ue.A)((0,Ue.A)({},A("certifications")),{},{placeholder:"Enter your certifications",disabled:!r}))]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Work Experience"}),(0,Fe.jsx)("textarea",(0,Ue.A)((0,Ue.A)({},A("workExperience")),{},{placeholder:"Describe your previous work experience",disabled:!r}))]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"References"}),(0,Fe.jsx)("textarea",(0,Ue.A)((0,Ue.A)({},A("references")),{},{placeholder:"Enter references with contact details",disabled:!r}))]})]});default:return null}})(),(0,Fe.jsx)("div",{className:"form-actions",children:r?(0,Fe.jsxs)(Fe.Fragment,{children:[o>0&&(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{o>0&&c(o-1)},children:"Previous"}),o<T.length-1?(0,Fe.jsx)("button",{type:"button",className:"btn btn-primary",onClick:async()=>{const e=T[o].fields;await F(e)&&o<T.length-1&&c(o+1)},children:"Next"}):(0,Fe.jsx)("button",{type:"submit",className:"btn btn-success",children:"Save Changes"}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{l(!1),c(0),C.reset()},children:"Cancel"})]}):(0,Fe.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>l(!0),children:"Edit Details"})})]})}))]})]})})},ks=e=>{var s;let{employeeData:a,onBack:n,onSave:i}=e;const[r,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)({}),d=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];for(const n of s){const t=null===e||void 0===e?void 0:e[n];if(void 0!==t&&null!==t&&""!==String(t).trim())return t}},u={firstName:d(a,"firstName"),lastName:d(a,"lastName"),middleName:d(a,"middleName"),email:d(a,"email"),contactNumber:d(a,"contactNumber","phone"),dateOfBirth:d(a,"dob","dateOfBirth"),gender:d(a,"gender"),role:d(a,"role"),designation:d(a,"designation"),status:d(a,"accessStatus","status"),state:d(a,"state"),district:d(a,"district"),zipcode:d(a,"zipcode","pincode"),country:d(a,"country"),block:d(a,"block"),village:d(a,"village"),nationality:d(a,"nationality"),education:d(a,"education"),experience:d(a,"experience"),relationType:d(a,"relationType"),relationName:d(a,"relationName"),altNumber:d(a,"altNumber"),altNumberType:d(a,"altNumberType")};(0,t.useEffect)(()=>{a&&c({firstName:u.firstName||"",lastName:u.lastName||"",middleName:u.middleName||"",email:u.email||"",contactNumber:u.contactNumber||"",dateOfBirth:u.dateOfBirth||"",gender:u.gender||"",role:u.role||"",designation:u.designation||"",status:u.status||"ACTIVE",state:u.state||"",district:u.district||"",zipcode:u.zipcode||"",country:u.country||"",block:u.block||"",village:u.village||"",nationality:u.nationality||"",education:u.education||"",experience:u.experience||"",relationType:u.relationType||"",relationName:u.relationName||"",altNumber:u.altNumber||"",altNumberType:u.altNumberType||""})},[a,u.firstName,u.lastName,u.middleName,u.email,u.contactNumber,u.dateOfBirth,u.gender,u.role,u.designation,u.status,u.state,u.district,u.zipcode,u.country,u.block,u.village,u.nationality,u.education,u.experience,u.relationType,u.relationName,u.altNumber,u.altNumberType]);const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Not provided";if(null===e||void 0===e)return t;const s=String(e).trim();return""===s?t:s},m=(e,t)=>{c(s=>(0,Ue.A)((0,Ue.A)({},s),{},{[e]:t}))};return(0,Fe.jsxs)("div",{className:"view-farmer-content",children:[(0,Fe.jsxs)("div",{className:"view-farmer-header",children:[(0,Fe.jsx)("button",{className:"back-btn",onClick:n,children:"\u2190 Back to Employees"}),(0,Fe.jsx)("h2",{style:{margin:0,flex:1,textAlign:"center"},children:"Employee Details"}),(0,Fe.jsx)("div",{style:{display:"flex",gap:"8px"},children:r?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{onClick:async()=>{try{await(null===i||void 0===i?void 0:i(o)),l(!1)}catch(Qh){console.error("Error saving employee:",Qh),alert("Failed to save employee data")}},style:{background:"#10b981",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Save"}),(0,Fe.jsx)("button",{onClick:()=>{l(!1),a&&c({firstName:u.firstName||"",lastName:u.lastName||"",middleName:u.middleName||"",email:u.email||"",contactNumber:u.contactNumber||"",dateOfBirth:u.dateOfBirth||"",gender:u.gender||"",role:u.role||"",designation:u.designation||"",status:u.status||"ACTIVE",state:u.state||"",district:u.district||"",zipcode:u.zipcode||"",country:u.country||"",block:u.block||"",village:u.village||"",nationality:u.nationality||"",education:u.education||"",experience:u.experience||"",relationType:u.relationType||"",relationName:u.relationName||"",altNumber:u.altNumber||"",altNumberType:u.altNumberType||""})},style:{background:"#6b7280",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Cancel"})]}):(0,Fe.jsx)("button",{onClick:()=>l(!0),style:{background:"#10b981",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Edit"})})]}),(0,Fe.jsx)("div",{className:"farmer-middle-section",children:(0,Fe.jsxs)("div",{className:"middle-section-content",children:[(0,Fe.jsx)("div",{className:"middle-section-left"}),(0,Fe.jsx)("div",{className:"middle-section-right",children:(0,Fe.jsxs)("div",{className:"farmer-id-card",children:[(0,Fe.jsx)("div",{className:"farmer-id-photo",children:null!==a&&void 0!==a&&a.photoFileName||null!==a&&void 0!==a&&a.photo?(0,Fe.jsx)("img",{src:a.photoFileName||a.photo,alt:"Employee",className:"farmer-id-photo-img"}):(0,Fe.jsx)("div",{className:"farmer-id-photo-placeholder",children:(0,Fe.jsx)("i",{className:"fas fa-user"})})}),(0,Fe.jsxs)("div",{className:"farmer-id-info",children:[(0,Fe.jsxs)("div",{className:"farmer-id-number",children:["ID: ",(null===a||void 0===a?void 0:a.id)||(null===a||void 0===a?void 0:a.employeeId)||"N/A"]}),(0,Fe.jsx)("div",{className:"farmer-id-name",children:u.firstName&&u.lastName?"".concat(u.firstName," ").concat(u.middleName||""," ").concat(u.lastName).trim():u.firstName||u.lastName||"Employee Name"}),(0,Fe.jsx)("div",{className:"farmer-id-status",children:(0,Fe.jsx)("span",{className:"farmer-status-badge ".concat((null===(s=u.status)||void 0===s?void 0:s.toLowerCase())||"active"),children:h(u.status)||"ACTIVE"})})]})]})})]})}),(0,Fe.jsx)("div",{className:"view-farmer-body",children:(0,Fe.jsxs)("div",{className:"farmer-details-container",children:[(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Personal Information"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"First Name:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.firstName||"",onChange:e=>m("firstName",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.firstName)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Middle Name:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.middleName||"",onChange:e=>m("middleName",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.middleName)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Last Name:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.lastName||"",onChange:e=>m("lastName",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.lastName)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Email:"}),r?(0,Fe.jsx)("input",{type:"email",value:o.email||"",onChange:e=>m("email",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.email)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Contact Number:"}),r?(0,Fe.jsx)("input",{type:"tel",value:o.contactNumber||"",onChange:e=>m("contactNumber",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.contactNumber)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Date of Birth:"}),r?(0,Fe.jsx)("input",{type:"date",value:o.dateOfBirth||"",onChange:e=>m("dateOfBirth",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:(e=>{if(!e)return"Not provided";try{let t;return t="string"===typeof e?e.includes("T")||e.includes("Z")?new Date(e):new Date(e+"T00:00:00"):e instanceof Date?e:new Date(e),isNaN(t.getTime())?"Invalid date":t.toLocaleDateString()}catch(t){return"Invalid date"}})(u.dateOfBirth)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Gender:"}),r?(0,Fe.jsxs)("select",{value:o.gender||"",onChange:e=>m("gender",e.target.value),className:"edit-input",children:[(0,Fe.jsx)("option",{value:"",children:"Select Gender"}),(0,Fe.jsx)("option",{value:"Male",children:"Male"}),(0,Fe.jsx)("option",{value:"Female",children:"Female"}),(0,Fe.jsx)("option",{value:"Other",children:"Other"})]}):(0,Fe.jsx)("span",{children:h(u.gender)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Nationality:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.nationality||"",onChange:e=>m("nationality",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.nationality)})]})]})]}),(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Employment"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Role:"}),r?(0,Fe.jsxs)("select",{value:o.role||"",onChange:e=>m("role",e.target.value),className:"edit-input",children:[(0,Fe.jsx)("option",{value:"",children:"Select Role"}),(0,Fe.jsx)("option",{value:"employee",children:"Employee"}),(0,Fe.jsx)("option",{value:"admin",children:"Admin"}),(0,Fe.jsx)("option",{value:"super_admin",children:"Super Admin"})]}):(0,Fe.jsx)("span",{children:h(u.role)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Designation:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.designation||"",onChange:e=>m("designation",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.designation)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Status:"}),r?(0,Fe.jsxs)("select",{value:o.status||"ACTIVE",onChange:e=>m("status",e.target.value),className:"edit-input",children:[(0,Fe.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,Fe.jsx)("option",{value:"INACTIVE",children:"Inactive"}),(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"})]}):(0,Fe.jsx)("span",{children:h(u.status)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Education:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.education||"",onChange:e=>m("education",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.education)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Experience:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.experience||"",onChange:e=>m("experience",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.experience)})]})]})]}),(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Address"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Country:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.country||"",onChange:e=>m("country",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.country)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"State:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.state||"",onChange:e=>m("state",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.state)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"District:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.district||"",onChange:e=>m("district",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.district)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Block:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.block||"",onChange:e=>m("block",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.block)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Village:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.village||"",onChange:e=>m("village",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.village)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Zipcode:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.zipcode||"",onChange:e=>m("zipcode",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.zipcode)})]})]})]}),(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Additional Information"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Relation Type:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.relationType||"",onChange:e=>m("relationType",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.relationType)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Relation Name:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.relationName||"",onChange:e=>m("relationName",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.relationName)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Alternative Number:"}),r?(0,Fe.jsx)("input",{type:"tel",value:o.altNumber||"",onChange:e=>m("altNumber",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.altNumber)})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Alternative Number Type:"}),r?(0,Fe.jsx)("input",{type:"text",value:o.altNumberType||"",onChange:e=>m("altNumberType",e.target.value),className:"edit-input"}):(0,Fe.jsx)("span",{children:h(u.altNumberType)})]})]})]})]})})]})},Cs=e=>{let{title:t,value:s,icon:a,color:n="blue"}=e;return(0,Fe.jsxs)("div",{className:"stats-card ".concat(n),children:[(0,Fe.jsx)("div",{className:"stats-icon",children:a}),(0,Fe.jsxs)("div",{className:"stats-content",children:[(0,Fe.jsx)("h3",{className:"stats-title",children:t}),(0,Fe.jsx)("p",{className:"stats-value",children:s})]})]})},As=e=>({View:"\ud83d\udc41\ufe0f",Edit:"\u270f\ufe0f",Delete:"\ud83d\uddd1\ufe0f",Approve:"\u2705",Reject:"\u274c",Dashboard:"\ud83d\udcca",Settings:"\u2699\ufe0f",Profile:"\ud83d\udc64",Logout:"\ud83d\udeaa"}[e]||"\ud83d\udd27"),Es=e=>{let{actions:s,customActions:a,item:n,onEdit:i,onDelete:r,onView:l}=e;const[o,c]=(0,t.useState)(!1),d=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const u=[];return a&&Array.isArray(a)&&u.push(...a),s&&Array.isArray(s)&&u.push(...s),a&&0!==a.length||s&&0!==s.length||(u.push({label:"Dashboard",icon:"\ud83d\udcca",className:"primary",onClick:()=>l&&l(n,"overview")},{label:"Edit FPO",icon:"\u270f\ufe0f",className:"primary",onClick:()=>i&&i(n)},{label:"FPO Board Members",icon:"\ud83d\udc65",onClick:()=>l&&l(n,"board-members")},{label:"FPO Farm Services",icon:"\ud83d\ude9c",onClick:()=>l&&l(n,"services")},{label:"FPO Turnover",icon:"\ud83d\udcc8",onClick:()=>l&&l(n,"turnover")},{label:"FPO Crop Entries",icon:"\ud83c\udf3e",onClick:()=>l&&l(n,"crops")},{label:"FPO Input Shop",icon:"\ud83c\udfec",onClick:()=>l&&l(n,"input-shop")},{label:"FPO Product Categories",icon:"\ud83c\udff7\ufe0f",onClick:()=>l&&l(n,"product-categories")},{label:"FPO Products",icon:"\ud83d\udce6",onClick:()=>l&&l(n,"products")},{label:"FPO Users",icon:"\ud83d\udc64",onClick:()=>l&&l(n,"users")}),r&&u.push({label:"Delete",icon:"\ud83d\uddd1\ufe0f",className:"danger",onClick:()=>r(n)})),a&&0!==a.length||s&&0!==s.length||(l&&u.push({label:"View",icon:"\ud83d\udc41\ufe0f",className:"info",onClick:()=>l(n)}),i&&u.push({label:"Edit",icon:"\u270f\ufe0f",className:"primary",onClick:()=>i(n)}),r&&u.push({label:"Delete",icon:"\ud83d\uddd1\ufe0f",className:"danger",onClick:()=>r(n)})),(0,Fe.jsxs)("div",{className:"action-dropdown-container",ref:d,children:[!o&&(0,Fe.jsx)("button",{className:"dropdown-toggle-btn",onClick:()=>{c(!0)},"aria-label":"Actions",title:"Actions",children:(0,Fe.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Fe.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,Fe.jsx)("circle",{cx:"19",cy:"12",r:"1"}),(0,Fe.jsx)("circle",{cx:"5",cy:"12",r:"1"})]})}),o&&u.length>0&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("div",{className:"dropdown-backdrop",onClick:()=>{c(!1)}}),(0,Fe.jsx)("div",{className:"dropdown-menu-enhanced",children:u.map((e,t)=>e.showCondition&&n&&!e.showCondition(n)?null:(0,Fe.jsxs)("button",{className:"dropdown-item-enhanced ".concat(e.className||""),onClick:()=>(e=>{e.onClick&&n&&e.onClick(n),c(!1)})(e),title:e.label,children:[(0,Fe.jsx)("span",{className:"action-icon",children:e.icon||As(e.label)}),(0,Fe.jsx)("span",{className:"action-label",children:e.label}),"danger"===e.className&&(0,Fe.jsx)("span",{className:"action-badge",children:"\u26a0\ufe0f"})]},t))})]})]})},Ps=e=>{let{data:t,columns:s,onEdit:a,onDelete:n,onView:i,showDelete:r=!1,customActions:l}=e;const o=l&&Array.isArray(l)?l:[],c=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"approved":case"active":return"status-approved";case"pending":return"status-pending";case"refer_back":return"status-refer-back";case"rejected":case"inactive":return"status-rejected";case"assigned":return"status-assigned";case"unassigned":return"status-unassigned";default:return"status-default"}},d=(e,t)=>{try{if(e&&"object"===typeof e){const t=e.name||[e.firstName,e.middleName,e.lastName].filter(Boolean).join(" ")||[e.firstName,e.lastName].filter(Boolean).join(" ")||e.fullName||e.employeeName||e.email||e.userName;if(t&&String(t).trim().length)return String(t);if(void 0!==e.id)return"#".concat(e.id);try{const t=JSON.stringify(e);return t.length<=60?t:"N/A"}catch(s){return"N/A"}}return null===e||void 0===e?"N/A":String(e)}catch(a){return console.error("DataTable: Error rendering value for column ".concat(t,":"),a),"Error"}};return(0,Fe.jsxs)("div",{className:"data-table-container",children:[(0,Fe.jsxs)("table",{className:"data-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[s&&Array.isArray(s)&&s.map((e,t)=>(0,Fe.jsx)("th",{children:e.headerRender?e.headerRender():e.label},t)),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:t&&Array.isArray(t)&&t.map((e,t)=>(0,Fe.jsxs)("tr",{children:[s&&Array.isArray(s)&&s.map((t,s)=>(0,Fe.jsx)("td",{children:(()=>{if(!e||"object"!==typeof e)return"N/A";const s=e[t.key];if(t.render&&"function"===typeof t.render)try{return t.render(s,e)}catch(Qh){return console.error("DataTable: error in custom render for",t.key,Qh),d(s,t.key)}if("kycStatus"===t.key||"assignmentStatus"===t.key||"status"===t.key||"accessStatus"===t.key)return(0,Fe.jsx)("span",{className:c(s),children:d(s,t.key)});if("registrationDate"===t.key||"assignedDate"===t.key)return s?new Date(s).toLocaleDateString():"N/A";if("name"===t.key){if(e.firstName||e.lastName){const t=[e.firstName,e.middleName,e.lastName].filter(Boolean);return t.length>0?t.join(" "):"N/A"}return e.name?e.name:"N/A"}return"assignedEmployee"===t.key?d(s,t.key):"phone"===t.key||"phoneNumber"===t.key?e.phoneNumber||e.phone||e.contactNumber||"N/A":"email"===t.key||"emailAddress"===t.key?e.email||e.emailAddress||"N/A":"select"===t.key&&t.render?t.render(s,e):d(s,t.key)})()},s)),(0,Fe.jsx)("td",{children:e&&(0,Fe.jsx)(Es,{item:e,onEdit:a?()=>a(e):void 0,onDelete:r&&n?()=>n(e):void 0,onView:i?()=>i(e):void 0,customActions:o.map(t=>(0,Ue.A)((0,Ue.A)({},t),{},{onClick:()=>t.onClick(e)}))})})]},t))})]}),(!t||!Array.isArray(t)||0===t.length)&&(0,Fe.jsx)("div",{className:"no-data",children:(0,Fe.jsx)("p",{children:"No data available"})})]})},Is=e=>{let{variant:s="default",onShowChangePassword:a,onShowChangeUserId:n}=e;const{user:i,logout:r}=_e(),l=ee(),[o,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(!1),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),g=(0,t.useRef)(null),[v,x]=(0,t.useState)(null),b=(0,t.useRef)(null),y=()=>{c(!1),l("/change-password")},j=()=>{c(!1),l("/change-userid")},[N]=(0,t.useState)([{id:1,type:"info",message:"New farmer registration pending approval",time:"2 minutes ago"},{id:2,type:"warning",message:"KYC verification overdue for 3 farmers",time:"1 hour ago"},{id:3,type:"success",message:"Employee assignment completed successfully",time:"3 hours ago"}]),[w,S]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=localStorage.getItem("userProfilePhoto");e&&x(e)},[]);const k=()=>{console.log("Photo click triggered"),console.log("fileInputRef.current:",b.current),b.current?(b.current.click(),console.log("File input clicked")):console.error("File input ref is null")};(0,t.useEffect)(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const C=()=>{r(),window.location.href="/login"},A=()=>{if(null!==i&&void 0!==i&&i.name)return i.name;if(null!==i&&void 0!==i&&i.userName){switch(i.role||"USER"){case"ADMIN":return"Admin User";case"SUPER_ADMIN":return"Super Admin User";case"EMPLOYEE":return"Employee User";case"FARMER":return"Farmer User";default:return i.userName}}return"User"},E=()=>null!==i&&void 0!==i&&i.role?i.role.replace("_"," "):"USER",P=()=>{const e=A();return(t=e)?t.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U";var t},I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"large";return console.log("renderAvatar called with:",{className:e,size:t,userPhoto:!!v}),v?(0,Fe.jsxs)("div",{className:"".concat(e," user-avatar-with-photo"),onClick:k,children:[(0,Fe.jsx)("img",{src:v,alt:"Profile",className:"user-avatar-photo",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}}),(0,Fe.jsx)("div",{className:"avatar-upload-overlay",children:(0,Fe.jsx)("i",{className:"fas fa-camera"})})]}):(0,Fe.jsxs)("div",{className:"".concat(e," user-avatar-with-upload"),onClick:k,children:[(0,Fe.jsx)("div",{className:"user-avatar-initials",children:P()}),(0,Fe.jsx)("div",{className:"avatar-upload-overlay",children:(0,Fe.jsx)("i",{className:"fas fa-camera"})})]})},F=()=>(null===i||void 0===i?void 0:i.email)||"".concat((null===i||void 0===i?void 0:i.userName)||"user","@date.com");return"compact"===s?(0,Fe.jsxs)("div",{className:"user-profile-dropdown-component compact",ref:g,children:[(0,Fe.jsxs)("div",{className:"user-profile-dropdown-trigger compact",onClick:()=>c(!o),title:"User Menu",children:[I("user-profile-dropdown-avatar-compact"),(0,Fe.jsx)("i",{className:"fas fa-chevron-down user-profile-dropdown-arrow ".concat(o?"rotated":"")})]}),o&&(0,Fe.jsxs)("div",{className:"user-profile-dropdown-menu compact show",children:[(0,Fe.jsxs)("div",{className:"user-profile-dropdown-header",children:[I("user-profile-dropdown-avatar-large"),(0,Fe.jsxs)("div",{className:"user-profile-dropdown-details",children:[(0,Fe.jsx)("span",{className:"user-profile-dropdown-name-large",children:A()}),(0,Fe.jsx)("span",{className:"user-profile-dropdown-role",children:E()}),(0,Fe.jsx)("span",{className:"user-profile-dropdown-email",children:F()})]})]}),(0,Fe.jsxs)("div",{className:"user-profile-dropdown-actions",children:[(0,Fe.jsxs)("button",{className:"user-profile-dropdown-action-btn",onClick:y,children:[(0,Fe.jsx)("i",{className:"fas fa-key"}),"Change Password"]}),(0,Fe.jsxs)("button",{className:"user-profile-dropdown-action-btn",onClick:j,children:[(0,Fe.jsx)("i",{className:"fas fa-user-edit"}),"Change User ID"]}),(0,Fe.jsxs)("button",{className:"user-profile-dropdown-action-btn logout",onClick:C,children:[(0,Fe.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]})]}):"enhanced"===s?(0,Fe.jsxs)("div",{className:"user-profile-dropdown enhanced",ref:g,children:[(0,Fe.jsxs)("div",{className:"enhanced-user-header",children:[(0,Fe.jsxs)("div",{className:"user-profile-section",children:[(0,Fe.jsxs)("div",{className:"user-profile-info",children:[(0,Fe.jsxs)("div",{className:"user-avatar-container",children:[I("user-avatar-large"),(0,Fe.jsx)("div",{className:"user-status-indicator ".concat("online")})]}),(0,Fe.jsxs)("div",{className:"user-details",children:[(0,Fe.jsx)("span",{className:"user-name-display",children:A()}),(0,Fe.jsx)("span",{className:"user-role-display",children:E()}),(0,Fe.jsx)("span",{className:"user-email-display",children:F()})]})]}),(0,Fe.jsxs)("div",{className:"user-actions",children:[(0,Fe.jsxs)("button",{className:"header-action-btn",title:"Notifications",onClick:()=>u(!0),children:[(0,Fe.jsx)("i",{className:"fas fa-bell"}),(0,Fe.jsx)("span",{className:"notification-badge",children:N.length})]}),(0,Fe.jsx)("button",{className:"header-action-btn",title:"Settings",onClick:()=>m(!0),children:(0,Fe.jsx)("i",{className:"fas fa-cog"})}),(0,Fe.jsx)("button",{className:"header-action-btn",title:"Help",onClick:()=>f(!0),children:(0,Fe.jsx)("i",{className:"fas fa-question-circle"})})]})]}),(0,Fe.jsx)("div",{className:"user-profile-trigger",onClick:()=>c(!o),title:"User Menu",children:(0,Fe.jsx)("i",{className:"fas fa-chevron-down dropdown-arrow ".concat(o?"rotated":"")})})]}),o&&(0,Fe.jsxs)("div",{className:"user-dropdown-menu enhanced show",children:[(0,Fe.jsxs)("div",{className:"dropdown-header",children:[I("user-avatar-large"),(0,Fe.jsxs)("div",{className:"user-details",children:[(0,Fe.jsx)("span",{className:"user-name-large",children:A()}),(0,Fe.jsx)("span",{className:"user-role",children:E()}),(0,Fe.jsx)("span",{className:"user-email",children:F()})]})]}),(0,Fe.jsxs)("div",{className:"dropdown-actions",children:[(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:y,children:[(0,Fe.jsx)("i",{className:"fas fa-key"}),"Change Password"]}),(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:j,children:[(0,Fe.jsx)("i",{className:"fas fa-user-edit"}),"Change User ID"]}),(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>m(!0),children:[(0,Fe.jsx)("i",{className:"fas fa-cog"}),"Settings"]}),(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>f(!0),children:[(0,Fe.jsx)("i",{className:"fas fa-question-circle"}),"Help & Support"]}),(0,Fe.jsxs)("button",{className:"dropdown-action-btn logout",onClick:C,children:[(0,Fe.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]})]}):(0,Fe.jsxs)("div",{className:"user-profile-dropdown",ref:g,children:[(0,Fe.jsxs)("div",{className:"user-profile-trigger",onClick:()=>{console.log("UserProfileDropdown clicked, current isOpen:",o),c(!o)},children:[I("user-avatar"),(0,Fe.jsxs)("div",{className:"user-info",children:[(0,Fe.jsx)("span",{className:"user-name",children:A()}),(0,Fe.jsx)("span",{className:"user-role",children:E()})]}),(0,Fe.jsx)("i",{className:"fas fa-chevron-down dropdown-arrow ".concat(o?"rotated":"")})]}),o&&(0,Fe.jsxs)("div",{className:"user-dropdown-menu show",children:[(0,Fe.jsxs)("div",{className:"dropdown-header",children:[I("user-avatar-large"),(0,Fe.jsxs)("div",{className:"user-details",children:[(0,Fe.jsx)("span",{className:"user-name-large",children:A()}),(0,Fe.jsx)("span",{className:"user-role",children:E()}),(0,Fe.jsx)("span",{className:"user-email",children:F()})]})]}),(0,Fe.jsxs)("div",{className:"dropdown-actions",children:[(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>{console.log("Upload photo button clicked"),k()},children:[(0,Fe.jsx)("i",{className:"fas fa-camera"}),v?"Change Photo":"Upload Photo"]}),v&&(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>{x(null),localStorage.removeItem("userProfilePhoto")},children:[(0,Fe.jsx)("i",{className:"fas fa-trash"}),"Remove Photo"]}),(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:y,children:[(0,Fe.jsx)("i",{className:"fas fa-key"}),"Change Password"]}),(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:j,children:[(0,Fe.jsx)("i",{className:"fas fa-user-edit"}),"Change User ID"]}),(0,Fe.jsxs)("button",{className:"dropdown-action-btn logout",onClick:C,children:[(0,Fe.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]}),d&&(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h3",{children:"Notifications"}),(0,Fe.jsx)("button",{className:"modal-close",onClick:()=>u(!1),children:(0,Fe.jsx)("i",{className:"fas fa-times"})})]}),(0,Fe.jsx)("div",{className:"notifications-list",children:N.map(e=>(0,Fe.jsxs)("div",{className:"notification-item ".concat(e.type),children:[(0,Fe.jsx)("div",{className:"notification-icon",children:(0,Fe.jsx)("i",{className:"fas fa-".concat("info"===e.type?"info-circle":"warning"===e.type?"exclamation-triangle":"check-circle")})}),(0,Fe.jsxs)("div",{className:"notification-content",children:[(0,Fe.jsx)("p",{className:"notification-message",children:e.message}),(0,Fe.jsx)("span",{className:"notification-time",children:e.time})]})]},e.id))}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsx)("button",{className:"btn-secondary",onClick:()=>u(!1),children:"Close"})})]})}),h&&(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h3",{children:"Settings"}),(0,Fe.jsx)("button",{className:"modal-close",onClick:()=>m(!1),children:(0,Fe.jsx)("i",{className:"fas fa-times"})})]}),(0,Fe.jsx)("div",{className:"settings-content",children:(0,Fe.jsx)("p",{children:"Settings functionality coming soon!"})}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsx)("button",{className:"btn-secondary",onClick:()=>m(!1),children:"Close"})})]})}),p&&(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h3",{children:"Help & Support"}),(0,Fe.jsx)("button",{className:"modal-close",onClick:()=>f(!1),children:(0,Fe.jsx)("i",{className:"fas fa-times"})})]}),(0,Fe.jsx)("div",{className:"help-content",children:(0,Fe.jsx)("p",{children:"Help and support functionality coming soon!"})}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsx)("button",{className:"btn-secondary",onClick:()=>f(!1),children:"Close"})})]})}),w&&(0,Fe.jsxs)("div",{className:"notification-toast ".concat(w.type),children:[(0,Fe.jsxs)("div",{className:"notification-toast-content",children:[(0,Fe.jsx)("i",{className:"fas fa-".concat("success"===w.type?"check-circle":"info-circle")}),(0,Fe.jsx)("span",{children:w.message})]}),(0,Fe.jsx)("button",{className:"notification-toast-close",onClick:()=>S(null),children:(0,Fe.jsx)("i",{className:"fas fa-times"})})]}),(0,Fe.jsx)("input",{type:"file",ref:b,onChange:e=>{console.log("Photo upload triggered:",e);const t=e.target.files[0];if(console.log("Selected file:",t),t){if(!t.type.startsWith("image/"))return void alert("Please select an image file.");if(t.size>5242880)return void alert("Image size should be less than 5MB.");console.log("File validation passed, reading file...");const e=new FileReader;e.onload=e=>{const t=e.target.result;console.log("Photo data loaded:",t.substring(0,50)+"..."),x(t),localStorage.setItem("userProfilePhoto",t),console.log("Photo saved to localStorage and state")},e.onerror=e=>{console.error("Error reading file:",e),alert("Error reading the file. Please try again.")},e.readAsDataURL(t)}else console.log("No file selected")},accept:"image/*",style:{display:"none"}})]})},Fs=e=>{var s;let{registration:a,onClose:n,onUpdate:i}=e;const[r,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)({status:(null===a||void 0===a?void 0:a.status)||"",role:(null===a||void 0===a?void 0:a.role)||""});return a?(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal-content registration-detail-modal",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:"Registration Details"}),(0,Fe.jsx)("button",{className:"modal-close",onClick:n,children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"modal-body",children:(0,Fe.jsxs)("div",{className:"registration-info",children:[(0,Fe.jsxs)("div",{className:"info-section",children:[(0,Fe.jsx)("h3",{children:"Personal Information"}),(0,Fe.jsxs)("div",{className:"info-grid",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Name:"}),(0,Fe.jsx)("span",{children:a.name})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Email:"}),(0,Fe.jsx)("span",{children:a.email})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Phone:"}),(0,Fe.jsx)("span",{children:a.phoneNumber})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Gender:"}),(0,Fe.jsx)("span",{children:a.gender})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Date of Birth:"}),(0,Fe.jsx)("span",{children:a.dateOfBirth})]})]})]}),(0,Fe.jsxs)("div",{className:"info-section",children:[(0,Fe.jsx)("h3",{children:"Account Information"}),(0,Fe.jsxs)("div",{className:"info-grid",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Role:"}),(0,Fe.jsx)("div",{className:"editable-field",children:r?(0,Fe.jsxs)("select",{value:o.role,onChange:e=>(async e=>{try{await Oe.superAdminAPI.updateUser(a.id,{role:e}),c(t=>(0,Ue.A)((0,Ue.A)({},t),{},{role:e})),i&&i(),alert("Role updated successfully!")}catch(n){var t,s;console.error("Error updating role:",n),alert("Failed to update role: ".concat((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||n.message))}})(e.target.value),className:"form-select",children:[(0,Fe.jsx)("option",{value:"FARMER",children:"Farmer"}),(0,Fe.jsx)("option",{value:"EMPLOYEE",children:"Employee"}),(0,Fe.jsx)("option",{value:"ADMIN",children:"Admin"}),(0,Fe.jsx)("option",{value:"SUPER_ADMIN",children:"Super Admin"})]}):(0,Fe.jsx)("span",{className:"status-badge role-".concat(a.role.toLowerCase()),children:a.role})})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Status:"}),(0,Fe.jsx)("div",{className:"editable-field",children:r?(0,Fe.jsxs)("select",{value:o.status,onChange:e=>(async e=>{try{"APPROVED"===e?await Oe.superAdminAPI.approveUser(a.id,a.role):"REJECTED"===e?await Oe.superAdminAPI.rejectUser(a.id,"Rejected by admin"):await Oe.superAdminAPI.updateUserStatus(a.id,e),c(t=>(0,Ue.A)((0,Ue.A)({},t),{},{status:e})),i&&i(),alert("Registration ".concat(e.toLowerCase()," successfully!"))}catch(n){var t,s;console.error("Error updating registration status:",n),alert("Failed to update registration status: ".concat((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||n.message))}})(e.target.value),className:"form-select",children:[(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Fe.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,Fe.jsx)("option",{value:"REJECTED",children:"Rejected"})]}):(0,Fe.jsx)("span",{className:"status-badge status-".concat(a.status.toLowerCase()),children:a.status})})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"KYC Status:"}),(0,Fe.jsx)("span",{className:"status-badge kyc-".concat((null===(s=a.kycStatus)||void 0===s?void 0:s.toLowerCase())||"pending"),children:a.kycStatus||"PENDING"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Registration Date:"}),(0,Fe.jsx)("span",{children:new Date(a.createdAt).toLocaleDateString()})]})]})]}),a.state&&(0,Fe.jsxs)("div",{className:"info-section",children:[(0,Fe.jsx)("h3",{children:"Location Information"}),(0,Fe.jsxs)("div",{className:"info-grid",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"State:"}),(0,Fe.jsx)("span",{children:a.state})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"District:"}),(0,Fe.jsx)("span",{children:a.district})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Region:"}),(0,Fe.jsx)("span",{children:a.region})]})]})]})]})}),(0,Fe.jsxs)("div",{className:"modal-footer",children:[(0,Fe.jsx)("button",{className:"action-btn ".concat(r?"secondary":"primary"),onClick:()=>l(!r),children:r?"Cancel Editing":"Edit Registration"}),(0,Fe.jsx)("button",{className:"action-btn secondary",onClick:n,children:"Close"})]})]})}):null},Ds=e=>{let{registration:s,onBack:a,onUpdate:n}=e;const[i,r]=(0,t.useState)(!1),[l,o]=(0,t.useState)({status:(null===s||void 0===s?void 0:s.status)||"PENDING",role:(null===s||void 0===s?void 0:s.role)||"FARMER"});if(!s)return null;const c=(e,t)=>{o(s=>(0,Ue.A)((0,Ue.A)({},s),{},{[e]:t}))};return(0,Fe.jsxs)("div",{className:"view-farmer-content",children:[(0,Fe.jsxs)("div",{className:"view-farmer-header",children:[(0,Fe.jsx)("button",{className:"back-btn",onClick:a,children:"\u2190 Back to Registration"}),(0,Fe.jsx)("h2",{style:{margin:0,flex:1,textAlign:"center"},children:"Registration Details"}),(0,Fe.jsx)("div",{style:{display:"flex",gap:"8px"},children:i?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{onClick:async()=>{try{await Oe.superAdminAPI.updateUserStatus(s.id,l.status),alert("Registration updated successfully!"),await n(s.id,l),r(!1)}catch(a){var e,t;console.error("Error updating registration:",a),alert("Failed to update registration: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||a.message))}},style:{background:"#059669",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Save"}),(0,Fe.jsx)("button",{onClick:()=>r(!1),style:{background:"#6b7280",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Cancel"})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{onClick:()=>r(!0),style:{background:"#10b981",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Edit"}),"PENDING"===s.status&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{onClick:async()=>{try{await Oe.superAdminAPI.approveUser(s.id,l.role),alert("User approved successfully! Temporary password has been sent to their email."),await n(s.id,(0,Ue.A)((0,Ue.A)({},l),{},{status:"APPROVED"}))}catch(a){var e,t;console.error("Error approving registration:",a),alert("Failed to approve registration: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||a.message))}},style:{background:"#059669",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Approve"}),(0,Fe.jsx)("button",{onClick:async()=>{try{await Oe.superAdminAPI.rejectUser(s.id),alert("User rejected successfully! Rejection email has been sent."),await n(s.id,(0,Ue.A)((0,Ue.A)({},l),{},{status:"REJECTED"}))}catch(a){var e,t;console.error("Error rejecting registration:",a),alert("Failed to reject registration: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||a.message))}},style:{background:"#dc2626",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Reject"})]})]})})]}),(0,Fe.jsx)("div",{className:"view-farmer-body",children:(0,Fe.jsxs)("div",{className:"farmer-details-container",children:[(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Personal Information"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Name:"}),(0,Fe.jsx)("span",{children:s.name||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Email:"}),(0,Fe.jsx)("span",{children:s.email||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Phone:"}),(0,Fe.jsx)("span",{children:s.phoneNumber||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Gender:"}),(0,Fe.jsx)("span",{children:s.gender||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Date of Birth:"}),(0,Fe.jsx)("span",{children:s.dateOfBirth||"Not provided"})]})]})]}),(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Account Information"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Role:"}),i?(0,Fe.jsxs)("select",{value:l.role,onChange:e=>c("role",e.target.value),className:"edit-input",children:[(0,Fe.jsx)("option",{value:"FARMER",children:"Farmer"}),(0,Fe.jsx)("option",{value:"EMPLOYEE",children:"Employee"}),(0,Fe.jsx)("option",{value:"ADMIN",children:"Admin"}),(0,Fe.jsx)("option",{value:"SUPER_ADMIN",children:"Super Admin"})]}):(0,Fe.jsx)("span",{className:"status-badge",children:s.role})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Status:"}),i?(0,Fe.jsxs)("select",{value:l.status,onChange:e=>c("status",e.target.value),className:"edit-input",children:[(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Fe.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,Fe.jsx)("option",{value:"REJECTED",children:"Rejected"})]}):(0,Fe.jsx)("span",{className:"status-badge ".concat(s.status.toLowerCase()),children:s.status})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"KYC Status:"}),(0,Fe.jsx)("span",{className:"status-badge ".concat((s.kycStatus||"PENDING").toLowerCase()),children:s.kycStatus||"PENDING"})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Registration Date:"}),(0,Fe.jsx)("span",{children:s.createdAt?new Date(s.createdAt).toLocaleDateString():"Not provided"})]})]})]}),(s.state||s.district||s.region)&&(0,Fe.jsxs)("div",{className:"detail-section",children:[(0,Fe.jsx)("h3",{children:"Location Information"}),(0,Fe.jsxs)("div",{className:"detail-grid",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"State:"}),(0,Fe.jsx)("span",{children:s.state||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"District:"}),(0,Fe.jsx)("span",{children:s.district||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Region:"}),(0,Fe.jsx)("span",{children:s.region||"Not provided"})]})]})]})]})})]})},_s=e=>{let{userRole:s,hideHeader:a=!1}=e;const[n,i]=(0,t.useState)("import"),[r,l]=(0,t.useState)("FARMER"),[o,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),[g,v]=(0,t.useState)({format:"EXCEL",assignedEmployeeEmail:"",location:"",kycStatus:"",fromDate:"",toDate:""}),[x,b]=(0,t.useState)({location:"",employeeEmail:""}),y=(0,t.useRef)(),j=e=>e&&e.toLowerCase().startsWith("farmer")?"farmers":"employees",N=async e=>{try{const t=await Oe.apiService.downloadTemplate(j(e)),s=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=window.URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download="".concat(e.toLowerCase(),"_import_template.xlsx"),document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(a),document.body.removeChild(n)}catch(t){console.error("Error downloading template:",t),alert("Failed to download template")}},w=async e=>{let t=0;const s=async()=>{try{const a=await Oe.apiService.getImportStatus(e);if(u(a),"COMPLETED"===a.status||"FAILED"===a.status)return;t++,t<30&&setTimeout(s,1e4)}catch(a){console.error("Error polling import status:",a)}};setTimeout(s,1e4)};return(0,Fe.jsxs)("div",{className:"bulk-operations",children:[!a&&(0,Fe.jsxs)("div",{className:"bulk-header",children:[(0,Fe.jsx)("h2",{children:"Bulk Operations"}),(0,Fe.jsx)("p",{children:"Import and export large datasets efficiently"})]}),(0,Fe.jsxs)("div",{className:"bulk-tabs",children:[(0,Fe.jsx)("button",{className:"tab ".concat("import"===n?"active":""),onClick:()=>i("import"),children:"\ud83d\udce5 Bulk Import"}),(0,Fe.jsx)("button",{className:"tab ".concat("export"===n?"active":""),onClick:()=>i("export"),children:"\ud83d\udce4 Bulk Export"}),(0,Fe.jsx)("button",{className:"tab ".concat("assignment"===n?"active":""),onClick:()=>i("assignment"),children:"\ud83d\udc65 Bulk Assignment"})]}),(0,Fe.jsxs)("div",{className:"bulk-content",children:["import"===n&&(0,Fe.jsxs)("div",{className:"import-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h3",{children:"Bulk Import"}),(0,Fe.jsxs)("div",{className:"template-downloads",children:[(0,Fe.jsx)("button",{className:"template-btn",onClick:()=>N("FARMER"),children:"\ud83d\udcc4 Download Farmer Template"}),"SUPER_ADMIN"===s&&(0,Fe.jsx)("button",{className:"template-btn",onClick:()=>N("EMPLOYEE"),children:"\ud83d\udcc4 Download Employee Template"})]})]}),(0,Fe.jsxs)("div",{className:"import-form",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Import Type:"}),(0,Fe.jsxs)("select",{value:r,onChange:e=>l(e.target.value),children:[(0,Fe.jsx)("option",{value:"FARMER",children:"Farmer Data"}),"SUPER_ADMIN"===s&&(0,Fe.jsx)("option",{value:"EMPLOYEE",children:"Employee Data"})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Select File:"}),(0,Fe.jsx)("input",{type:"file",ref:y,onChange:e=>{const t=e.target.files[0];if(t){["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"].includes(t.type)||t.name.endsWith(".csv")?c(t):(alert("Please select a valid Excel (.xlsx, .xls) or CSV file."),e.target.value="")}},accept:".xlsx,.xls,.csv",className:"file-input"}),o&&(0,Fe.jsxs)("p",{className:"file-info",children:["Selected: ",o.name," (",(o.size/1024/1024).toFixed(2)," MB)"]})]}),(0,Fe.jsx)("button",{className:"import-btn",onClick:async()=>{if(o){m(!0);try{const e=new FormData;e.append("file",o),e.append("autoAssign",!1),e.append("assignmentStrategy","MANUAL");const t=await Oe.apiService.bulkImport(j(r),e);u(t),"PROCESSING"===t.status&&w(t.importId)}catch(e){console.error("Import error:",e),alert("Import failed: "+e.message)}finally{m(!1)}}else alert("Please select a file to import")},disabled:!o||h,children:h?"\ud83d\udd04 Importing...":"\ud83d\udce5 Start Import"})]}),d&&(0,Fe.jsxs)("div",{className:"import-status ".concat(d.status.toLowerCase()),children:[(0,Fe.jsxs)("h4",{children:["Import Status: ",d.status]}),(0,Fe.jsxs)("div",{className:"status-details",children:[(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Total Records:"})," ",d.totalRecords||0]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Successful:"})," ",d.successfulImports||0]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Failed:"})," ",d.failedImports||0]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Skipped:"})," ",d.skippedRecords||0]}),d.message&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Message:"})," ",d.message]})]}),d.errors&&d.errors.length>0&&(0,Fe.jsxs)("div",{className:"import-errors",children:[(0,Fe.jsxs)("h5",{children:["Errors (",d.errors.length,"):"]}),(0,Fe.jsxs)("div",{className:"error-list",children:[d.errors.slice(0,10).map((e,t)=>(0,Fe.jsxs)("div",{className:"error-item",children:[(0,Fe.jsxs)("span",{children:["Row ",e.rowNumber,": ",e.fieldName]}),(0,Fe.jsx)("span",{children:e.errorMessage})]},t)),d.errors.length>10&&(0,Fe.jsxs)("p",{children:["... and ",d.errors.length-10," more errors"]})]})]})]})]}),"export"===n&&(0,Fe.jsxs)("div",{className:"export-section",children:[(0,Fe.jsx)("div",{className:"section-header",children:(0,Fe.jsx)("h3",{children:"Bulk Export"})}),(0,Fe.jsxs)("div",{className:"export-form",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Export Type:"}),(0,Fe.jsxs)("select",{value:r,onChange:e=>l(e.target.value),children:[(0,Fe.jsx)("option",{value:"FARMER",children:"Farmer Data"}),"SUPER_ADMIN"===s&&(0,Fe.jsx)("option",{value:"EMPLOYEE",children:"Employee Data"})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Format:"}),(0,Fe.jsxs)("select",{value:g.format,onChange:e=>v((0,Ue.A)((0,Ue.A)({},g),{},{format:e.target.value})),children:[(0,Fe.jsx)("option",{value:"EXCEL",children:"Excel (.xlsx)"}),(0,Fe.jsx)("option",{value:"CSV",children:"CSV (.csv)"})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Assigned Employee Email:"}),(0,Fe.jsx)("input",{type:"email",value:g.assignedEmployeeEmail,onChange:e=>v((0,Ue.A)((0,Ue.A)({},g),{},{assignedEmployeeEmail:e.target.value})),placeholder:"Filter by assigned employee"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Location (District):"}),(0,Fe.jsx)("input",{type:"text",value:g.location,onChange:e=>v((0,Ue.A)((0,Ue.A)({},g),{},{location:e.target.value})),placeholder:"Filter by district"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"KYC Status:"}),(0,Fe.jsxs)("select",{value:g.kycStatus,onChange:e=>v((0,Ue.A)((0,Ue.A)({},g),{},{kycStatus:e.target.value})),children:[(0,Fe.jsx)("option",{value:"",children:"All Statuses"}),(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Fe.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,Fe.jsx)("option",{value:"REJECTED",children:"Rejected"}),(0,Fe.jsx)("option",{value:"REFER_BACK",children:"Refer Back"})]})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"From Date:"}),(0,Fe.jsx)("input",{type:"date",value:g.fromDate,onChange:e=>v((0,Ue.A)((0,Ue.A)({},g),{},{fromDate:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"To Date:"}),(0,Fe.jsx)("input",{type:"date",value:g.toDate,onChange:e=>v((0,Ue.A)((0,Ue.A)({},g),{},{toDate:e.target.value}))})]})]}),(0,Fe.jsx)("button",{className:"export-btn",onClick:async()=>{f(!0);try{const e=await Oe.apiService.bulkExport(j(r),g),t="EXCEL"===g.format,s=new Blob([e],{type:t?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"text/csv;charset=utf-8"}),a=window.URL.createObjectURL(s),n=document.createElement("a");n.href=a;const i=t?"xlsx":"csv";n.download="".concat(r.toLowerCase(),"_export_").concat(Date.now(),".").concat(i),document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(a),document.body.removeChild(n)}catch(e){console.error("Export error:",e),alert("Export failed: "+e.message)}finally{f(!1)}},disabled:p,children:p?"\ud83d\udd04 Exporting...":"\ud83d\udce4 Export Data"})]})]}),"assignment"===n&&(0,Fe.jsxs)("div",{className:"assignment-section",children:[(0,Fe.jsx)("div",{className:"section-header",children:(0,Fe.jsx)("h3",{children:"Bulk Assignment"})}),(0,Fe.jsxs)("div",{className:"assignment-form",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Location (District):"}),(0,Fe.jsx)("input",{type:"text",value:x.location,onChange:e=>b((0,Ue.A)((0,Ue.A)({},x),{},{location:e.target.value})),placeholder:"kadapa"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Employee Email:"}),(0,Fe.jsx)("input",{type:"email",value:x.employeeEmail,onChange:e=>b((0,Ue.A)((0,Ue.A)({},x),{},{employeeEmail:e.target.value})),placeholder:"employee@example.com"})]}),(0,Fe.jsx)("button",{className:"assignment-btn",onClick:async()=>{try{var e,t;if(null===(e=x.location)||void 0===e||!e.trim())return void alert("Enter a district (location).");if(null===(t=x.employeeEmail)||void 0===t||!t.trim())return void alert("Enter employee email.");await Oe.apiService.bulkAssignFarmersByLocation(x.location.trim(),x.employeeEmail.trim());alert("Bulk assignment completed successfully")}catch(a){var s;console.error("Bulk assignment error:",a),alert("Bulk assignment failed: "+((null===(s=a.response)||void 0===s?void 0:s.data)||a.message))}},children:"\ud83d\udc65 Assign Farmers by Location"})]})]})]})]})},Ts=e=>{let{fpos:s,onFPOSelect:a,onFPOUpdate:n,onFPODelete:i,loading:r,error:l,onRequestEdit:o,onViewFPO:c,onEditFPO:d,onBoardMembers:u,onFarmServices:h,onTurnover:m,onCropEntries:p,onInputShop:f,onProductCategories:g,onProducts:v,onFpoUsers:x,allowDelete:b=!0,userRole:y="SUPER_ADMIN"}=e;const[j,N]=(0,t.useState)(""),[w,S]=(0,t.useState)(""),[k,C]=(0,t.useState)(""),[A,E]=(0,t.useState)(""),[P,I]=(0,t.useState)([]),[F,D]=(0,t.useState)([]),[_,T]=(0,t.useState)(!1),[O,R]=(0,t.useState)(null),[M,L]=(0,t.useState)(!1),[U,B]=(0,t.useState)(null);t.useEffect(()=>{z()},[]),t.useEffect(()=>{w?V(w):D([])},[w]);const z=async()=>{try{const e=await Oe.fpoAPI.getDistinctStates();I(e)}catch(e){console.error("Error loading states:",e)}},V=async e=>{try{const t=await Oe.fpoAPI.getDistinctDistrictsByState(e);D(t)}catch(t){console.error("Error loading districts:",t)}},Y=s.filter(e=>{const t=!j||e.fpoName.toLowerCase().includes(j.toLowerCase())||e.ceoName.toLowerCase().includes(j.toLowerCase())||e.phoneNumber.includes(j)||e.fpoId.toLowerCase().includes(j.toLowerCase()),s=!w||e.state===w,a=!k||e.district===k,n=!A||e.status===A;return t&&s&&a&&n}),q=async(e,t)=>{try{const s=await(async e=>{if(null!==e&&void 0!==e&&e.id)return e.id;if(null!==e&&void 0!==e&&e.fpoId)try{const t=await Oe.fpoAPI.getFPOByFpoId(e.fpoId);return null===t||void 0===t?void 0:t.id}catch(Qh){console.error("Failed to resolve FPO id from fpoId",Qh)}return null})(e);if(!s)return void alert("Unable to resolve FPO id to update status.");"ACTIVE"===t?await Oe.fpoAPI.activateFPO(s):"INACTIVE"===t&&await Oe.fpoAPI.deactivateFPO(s);const a=(0,Ue.A)((0,Ue.A)({},e),{},{id:s,status:t});n(a)}catch(s){console.error("Error updating FPO status:",s),alert("Failed to update FPO status")}};return r?(0,Fe.jsx)("div",{className:"loading",children:"Loading FPOs..."}):l?(0,Fe.jsxs)("div",{className:"error",children:["Error: ",l]}):(0,Fe.jsxs)("div",{className:"fpo-list-container",children:[(0,Fe.jsx)("div",{className:"fpo-filters",children:(0,Fe.jsxs)("div",{className:"filter-row",children:[(0,Fe.jsx)("input",{type:"text",placeholder:"Search FPOs...",value:j,onChange:e=>N(e.target.value),className:"search-input"}),(0,Fe.jsxs)("select",{value:w,onChange:e=>S(e.target.value),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All States"}),P.map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]}),(0,Fe.jsxs)("select",{value:k,onChange:e=>C(e.target.value),className:"filter-select",disabled:!w,children:[(0,Fe.jsx)("option",{value:"",children:"All Districts"}),F.map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]}),(0,Fe.jsxs)("select",{value:A,onChange:e=>E(e.target.value),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Status"}),(0,Fe.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,Fe.jsx)("option",{value:"INACTIVE",children:"Inactive"}),(0,Fe.jsx)("option",{value:"SUSPENDED",children:"Suspended"}),(0,Fe.jsx)("option",{value:"UNDER_REVIEW",children:"Under Review"})]})]})}),(0,Fe.jsx)("div",{className:"fpo-list",children:0===Y.length?(0,Fe.jsx)("div",{className:"no-fpos",children:"No FPOs found"}):Y.map(e=>{return(0,Fe.jsxs)("div",{className:"fpo-card",children:[(0,Fe.jsxs)("div",{className:"fpo-header",children:[(0,Fe.jsxs)("div",{className:"fpo-info",children:[(0,Fe.jsx)("h3",{className:"fpo-name",children:e.fpoName}),(0,Fe.jsxs)("p",{className:"fpo-id",children:["FPO ID: ",e.fpoId||e.id]})]}),(0,Fe.jsx)("div",{className:"fpo-status",children:(t=e.status,(0,Fe.jsx)("span",{className:"status-badge ".concat({ACTIVE:"status-active",INACTIVE:"status-inactive",SUSPENDED:"status-suspended",UNDER_REVIEW:"status-under-review"}[t]||"status-default"),children:t.replace("_"," ")}))})]}),(0,Fe.jsxs)("div",{className:"fpo-details",children:[(0,Fe.jsxs)("div",{className:"detail-row",children:[(0,Fe.jsx)("span",{className:"label",children:"CEO:"}),(0,Fe.jsx)("span",{className:"value",children:e.ceoName})]}),(0,Fe.jsxs)("div",{className:"detail-row",children:[(0,Fe.jsx)("span",{className:"label",children:"Phone:"}),(0,Fe.jsx)("span",{className:"value",children:e.phoneNumber})]}),(0,Fe.jsxs)("div",{className:"detail-row",children:[(0,Fe.jsx)("span",{className:"label",children:"Location:"}),(0,Fe.jsxs)("span",{className:"value",children:[e.village,", ",e.district,", ",e.state]})]}),(0,Fe.jsxs)("div",{className:"detail-row",children:[(0,Fe.jsx)("span",{className:"label",children:"Members:"}),(0,Fe.jsx)("span",{className:"value",children:e.numberOfMembers})]}),(0,Fe.jsxs)("div",{className:"detail-row",children:[(0,Fe.jsx)("span",{className:"label",children:"Join Date:"}),(0,Fe.jsx)("span",{className:"value",children:new Date(e.joinDate).toLocaleDateString()})]})]}),(0,Fe.jsx)("div",{className:"fpo-actions",children:(()=>{const t=t=>a(e,t),s=[{label:"Dashboard",icon:"\ud83d\udcca",onClick:()=>c?c(e):t("overview")},{label:"Edit FPO",icon:"\u270f\ufe0f",onClick:()=>d?d(e):(e=>{o?o(e):(R(e),T(!0))})(e)},{label:"FPO Board Members",icon:"\ud83d\udc65",onClick:()=>u?u(e):t("board-members")},{label:"FPO Farm Services",icon:"\ud83d\ude9c",onClick:()=>h?h(e):t("services")},{label:"FPO Turnover",icon:"\ud83d\udcc8",onClick:()=>m?m(e):t("turnover")},{label:"FPO Crop Entries",icon:"\ud83c\udf3e",onClick:()=>p?p(e):t("crops")},{label:"FPO Input Shop",icon:"\ud83c\udfec",onClick:()=>f?f(e):t("input-shop")},{label:"FPO Product Categories",icon:"\ud83c\udff7\ufe0f",onClick:()=>g?g(e):t("product-categories")},{label:"FPO Products",icon:"\ud83d\udce6",onClick:()=>v?v(e):t("products")},{label:"FPO Users",icon:"\ud83d\udc64",onClick:()=>x?x(e):t("users")},"ACTIVE"===e.status?{label:"Deactivate",icon:"\ud83d\udeab",className:"warning",onClick:()=>q(e,"INACTIVE")}:{label:"Activate",icon:"\u2705",className:"success",onClick:()=>q(e,"ACTIVE")},...b?[{label:"Delete",icon:"\ud83d\uddd1\ufe0f",className:"danger",onClick:()=>(e=>{B(e),L(!0)})(e)}]:[]];return(0,Fe.jsx)(Es,{item:e,actions:s})})()})]},e.id);var t})}),M&&(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal",children:[(0,Fe.jsx)("div",{className:"modal-header",children:(0,Fe.jsx)("h3",{children:"Confirm Delete"})}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsxs)("p",{children:['Are you sure you want to delete the FPO "',null===U||void 0===U?void 0:U.fpoName,'"?']}),(0,Fe.jsx)("p",{children:"This action cannot be undone."})]}),(0,Fe.jsxs)("div",{className:"modal-footer",children:[(0,Fe.jsx)("button",{className:"btn btn-secondary",onClick:()=>L(!1),children:"Cancel"}),(0,Fe.jsx)("button",{className:"btn btn-danger",onClick:async()=>{try{await Oe.fpoAPI.deleteFPO(U.id),i(U.id),L(!1),B(null)}catch(e){console.error("Error deleting FPO:",e),alert("Failed to delete FPO")}},children:"Delete"})]})]})})]})},Os=e=>{let{onClose:s,onFPOCreated:a,onSubmit:n,fpoData:i}=e;const[r,l]=(0,t.useState)({fpoName:"",registrationNumber:"",ceoName:"",phoneNumber:"",email:"",address:"",state:"",district:"",mandal:"",village:"",streetName:"",pincode:"",foodProcessingBusiness:"",otherBusiness:""}),[o,c]=(0,t.useState)({}),[d,u]=(0,t.useState)(!1),[h,m]=(0,t.useState)([]),[p,f]=(0,t.useState)([]);(0,t.useEffect)(()=>{i&&l(e=>(0,Ue.A)((0,Ue.A)({},e),i)),g()},[]),(0,t.useEffect)(()=>{r.state?v(r.state):f([])},[r.state]);const g=async()=>{try{const e=await Oe.fpoAPI.getDistinctStates();m(e)}catch(e){console.error("Error loading states:",e)}},v=async e=>{try{const t=await Oe.fpoAPI.getDistinctDistrictsByState(e);f(t)}catch(t){console.error("Error loading districts:",t)}},x=e=>{const{name:t,value:s}=e.target;l(e=>(0,Ue.A)((0,Ue.A)({},e),{},{[t]:s})),o[t]&&c(e=>(0,Ue.A)((0,Ue.A)({},e),{},{[t]:""}))};return(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal fpo-creation-modal",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:"Create FPO"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:s,children:"\xd7"})]}),(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return r.fpoName.trim()||(e.fpoName="FPO Name is required"),r.ceoName.trim()||(e.ceoName="CEO Name is required"),r.phoneNumber.trim()?/^\d{10}$/.test(r.phoneNumber)||(e.phoneNumber="Phone number must be 10 digits"):e.phoneNumber="Phone Number is required",r.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)&&(e.email="Please provide a valid email address"),r.state.trim()||(e.state="State is required"),r.district.trim()||(e.district="District is required"),r.village.trim()||(e.village="Village is required"),r.pincode.trim()?/^\d{6}$/.test(r.pincode)||(e.pincode="Pincode must be 6 digits"):e.pincode="Pincode is required",c(e),0===Object.keys(e).length})()){u(!0);try{const e={fpoName:r.fpoName,registrationNumber:r.registrationNumber||null,ceoName:r.ceoName,phoneNumber:r.phoneNumber,email:r.email||null,address:r.address||null,state:r.state,district:r.district,mandal:r.mandal||null,village:r.village,streetName:r.streetName||null,pincode:r.pincode,foodProcessingBusiness:r.foodProcessingBusiness||null,otherBusiness:r.otherBusiness||null,joinDate:(new Date).toISOString().slice(0,10),registrationType:"COOPERATIVE",numberOfMembers:1};if("function"===typeof n)await n(e);else{const t=await Oe.fpoAPI.createFPO(e);"function"===typeof a&&a(t)}s&&s()}catch(d){var t,i,l,o;console.error("Error creating FPO:",d);const e=(null===d||void 0===d||null===(t=d.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message)||(null===d||void 0===d||null===(l=d.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.error)||"Failed to create FPO. Please check required fields.";alert(e)}finally{u(!1)}}},className:"fpo-form",children:[(0,Fe.jsxs)("div",{className:"form-section",children:[(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"fpoName",children:"FPO Name *"}),(0,Fe.jsx)("input",{type:"text",id:"fpoName",name:"fpoName",value:r.fpoName,onChange:x,className:o.fpoName?"error":""}),o.fpoName&&(0,Fe.jsx)("span",{className:"error-message",children:o.fpoName})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"registrationNumber",children:"Registration No"}),(0,Fe.jsx)("input",{type:"text",id:"registrationNumber",name:"registrationNumber",value:r.registrationNumber,onChange:x})]})]}),(0,Fe.jsx)("div",{className:"form-row",children:(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"ceoName",children:"CEO Name"}),(0,Fe.jsx)("input",{type:"text",id:"ceoName",name:"ceoName",value:r.ceoName,onChange:x,className:o.ceoName?"error":""}),o.ceoName&&(0,Fe.jsx)("span",{className:"error-message",children:o.ceoName})]})}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"phoneNumber",children:"Phone *"}),(0,Fe.jsx)("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:r.phoneNumber,onChange:x,className:o.phoneNumber?"error":"",maxLength:"10"}),o.phoneNumber&&(0,Fe.jsx)("span",{className:"error-message",children:o.phoneNumber})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Fe.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,onChange:x,className:o.email?"error":""}),o.email&&(0,Fe.jsx)("span",{className:"error-message",children:o.email})]})]})]}),(0,Fe.jsxs)("div",{className:"form-section",children:[(0,Fe.jsx)("div",{className:"form-row",children:(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"address",children:"Address"}),(0,Fe.jsx)("textarea",{id:"address",name:"address",value:r.address,onChange:x})]})}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"state",children:"State *"}),(0,Fe.jsx)("input",{type:"text",id:"state",name:"state",value:r.state,onChange:x,className:o.state?"error":"",list:"state-suggestions"}),(0,Fe.jsx)("datalist",{id:"state-suggestions",children:h.map(e=>(0,Fe.jsx)("option",{value:e},e))}),o.state&&(0,Fe.jsx)("span",{className:"error-message",children:o.state})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"district",children:"District *"}),(0,Fe.jsx)("input",{type:"text",id:"district",name:"district",value:r.district,onChange:x,className:o.district?"error":""}),o.district&&(0,Fe.jsx)("span",{className:"error-message",children:o.district})]})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"mandal",children:"Mandal"}),(0,Fe.jsx)("input",{type:"text",id:"mandal",name:"mandal",value:r.mandal,onChange:x})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"village",children:"Village"}),(0,Fe.jsx)("input",{type:"text",id:"village",name:"village",value:r.village,onChange:x,className:o.village?"error":""}),o.village&&(0,Fe.jsx)("span",{className:"error-message",children:o.village})]})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"streetName",children:"Street Name"}),(0,Fe.jsx)("input",{type:"text",id:"streetName",name:"streetName",value:r.streetName,onChange:x})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"pincode",children:"Pincode *"}),(0,Fe.jsx)("input",{type:"text",id:"pincode",name:"pincode",value:r.pincode,onChange:x,className:o.pincode?"error":"",maxLength:"6"}),o.pincode&&(0,Fe.jsx)("span",{className:"error-message",children:o.pincode})]})]})]}),(0,Fe.jsxs)("div",{className:"form-section",children:[(0,Fe.jsx)("div",{className:"form-row",children:(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"foodProcessingBusiness",children:"Food Processing Business"}),(0,Fe.jsx)("textarea",{id:"foodProcessingBusiness",name:"foodProcessingBusiness",value:r.foodProcessingBusiness,onChange:x})]})}),(0,Fe.jsx)("div",{className:"form-row",children:(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"otherBusiness",children:"Other Business"}),(0,Fe.jsx)("textarea",{id:"otherBusiness",name:"otherBusiness",value:r.otherBusiness,onChange:x})]})})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:s,children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Creating...":"Create FPO"})]})]})]})})},Rs=e=>{let{fpo:s,onClose:a,onUpdated:n}=e;const[i,r]=(0,t.useState)({fpoName:"",registrationNumber:"",ceoName:"",email:"",phoneNumber:"",address:""}),[l,o]=(0,t.useState)(!1);(0,t.useEffect)(()=>{s&&r({fpoName:s.fpoName||"",registrationNumber:s.registrationNumber||"",ceoName:s.ceoName||"",email:s.email||"",phoneNumber:s.phoneNumber||"",address:"".concat(s.village||"").concat(s.village?", ":"").concat(s.district||"").concat(s.district?", ":"").concat(s.state||"").concat(s.pincode?" - "+s.pincode:"").trim()})},[s]);const c=e=>{const{name:t,value:s}=e.target;r(e=>(0,Ue.A)((0,Ue.A)({},e),{},{[t]:s}))};return(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal",style:{maxWidth:800},children:[(0,Fe.jsx)("div",{className:"modal-header",children:(0,Fe.jsx)("h2",{children:"Update FPO"})}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",style:{flex:1},children:[(0,Fe.jsx)("label",{children:"FPO Name*"}),(0,Fe.jsx)("input",{name:"fpoName",value:i.fpoName,onChange:c})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{flex:1},children:[(0,Fe.jsx)("label",{children:"Registration No"}),(0,Fe.jsx)("input",{name:"registrationNumber",value:i.registrationNumber,onChange:c})]})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",style:{flex:1},children:[(0,Fe.jsx)("label",{children:"CEO Name"}),(0,Fe.jsx)("input",{name:"ceoName",value:i.ceoName,onChange:c})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{flex:1},children:[(0,Fe.jsx)("label",{children:"Email"}),(0,Fe.jsx)("input",{name:"email",value:i.email,onChange:c})]})]}),(0,Fe.jsx)("div",{className:"form-row",children:(0,Fe.jsxs)("div",{className:"form-group",style:{flex:1},children:[(0,Fe.jsx)("label",{children:"Phone"}),(0,Fe.jsx)("input",{name:"phoneNumber",value:i.phoneNumber,onChange:c})]})}),(0,Fe.jsx)("div",{className:"form-row",children:(0,Fe.jsxs)("div",{className:"form-group",style:{flex:1},children:[(0,Fe.jsx)("label",{children:"Address"}),(0,Fe.jsx)("textarea",{name:"address",value:i.address,onChange:c})]})})]}),(0,Fe.jsxs)("div",{className:"modal-footer",children:[(0,Fe.jsx)("button",{className:"btn btn-secondary",onClick:a,children:"Cancel"}),(0,Fe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{o(!0);try{const e=(0,Ue.A)((0,Ue.A)({},s),{},{fpoName:i.fpoName,registrationNumber:i.registrationNumber,ceoName:i.ceoName,email:i.email,phoneNumber:i.phoneNumber});i.address&&i.address!=="".concat(s.village||"")&&(e.village=i.address);const t=await Oe.fpoAPI.updateFPO(s.id,e);n&&n(t),a&&a()}catch(e){console.error("Failed to update FPO",e),alert("Failed to update FPO")}finally{o(!1)}},disabled:l,children:l?"Updating...":"Update"})]})]})})},Ms=e=>{let{fpoId:s}=e;const[a,n]=(0,t.useState)([]),[i,r]=(0,t.useState)(!0),[l,o]=(0,t.useState)(null);(0,t.useEffect)(()=>{c()},[s]);const c=async()=>{try{r(!0);const e=await Oe.fpoAPI.getFPOBoardMembers(s);n(e)}catch(e){o("Failed to load board members"),console.error("Error loading board members:",e)}finally{r(!1)}};return i?(0,Fe.jsx)("div",{className:"loading",children:"Loading board members..."}):l?(0,Fe.jsxs)("div",{className:"error",children:["Error: ",l]}):(0,Fe.jsx)("div",{className:"fpo-board-members",children:(0,Fe.jsx)("div",{className:"board-members-list",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20},children:0===a.length?(0,Fe.jsx)("div",{className:"no-data",children:"No board members found"}):a.map(e=>(0,Fe.jsxs)("div",{className:"board-member-card",children:[(0,Fe.jsxs)("h4",{style:{marginTop:0},children:[e.name," ",e.role?"- ".concat(e.role):""]}),(0,Fe.jsxs)("p",{style:{margin:"12px 0 0 0"},children:[(0,Fe.jsx)("strong",{children:"Mobile:"})," ",e.phoneNumber||"\u2014"]}),(0,Fe.jsxs)("p",{style:{margin:"12px 0 0 0"},children:[(0,Fe.jsx)("strong",{children:"Email:"})," ",e.email||"\u2014"]}),(0,Fe.jsxs)("p",{style:{margin:"12px 0 0 0"},children:[(0,Fe.jsx)("strong",{children:"Location:"})," ",e.location||"\u2014"]}),(0,Fe.jsxs)("p",{style:{margin:"12px 0 0 0"},children:[(0,Fe.jsx)("strong",{children:"LinkedIn:"})," ",e.linkedin||"\u2014"]})]},e.id))})})},Ls=e=>{let{fpoId:s}=e;const[a,n]=(0,t.useState)([]),[i,r]=(0,t.useState)(!0),[l,o]=(0,t.useState)(null);(0,t.useEffect)(()=>{c()},[s]);const c=async()=>{try{r(!0);const e=await Oe.fpoAPI.getFPOServices(s);n(e)}catch(e){o("Failed to load services"),console.error("Error loading services:",e)}finally{r(!1)}};return i?(0,Fe.jsx)("div",{className:"loading",children:"Loading services..."}):l?(0,Fe.jsxs)("div",{className:"error",children:["Error: ",l]}):(0,Fe.jsx)("div",{className:"fpo-services",children:(0,Fe.jsx)("div",{className:"services-list",children:0===a.length?(0,Fe.jsx)("div",{className:"no-data",children:"No services found"}):a.map(e=>{var t;return(0,Fe.jsxs)("div",{className:"service-card",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[(0,Fe.jsxs)("div",{className:"service-info",children:[(0,Fe.jsx)("h4",{style:{margin:0},children:null===(t=e.serviceType)||void 0===t?void 0:t.toString().replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())}),(0,Fe.jsx)("p",{className:"description",style:{margin:"6px 0 0 0",color:"#475569"},children:e.description||"\u2014"})]}),(0,Fe.jsx)("span",{className:"status-pill ".concat("APPROVED"===e.status?"status-active":""),style:{background:"APPROVED"===e.status?"#10b981":"#e2e8f0",color:"APPROVED"===e.status?"#ffffff":"#0f172a",padding:"6px 12px",borderRadius:999,fontWeight:700},children:"APPROVED"===e.status?"Active":e.status||"Pending"})]},e.id)})})})},Us=e=>{let{fpoId:s}=e;const[a,n]=(0,t.useState)([]),[i,r]=(0,t.useState)(!0),[l,o]=(0,t.useState)(null);(0,t.useEffect)(()=>{c()},[s]);const c=async()=>{try{r(!0);const e=await Oe.fpoAPI.getFPOCrops(s),t=(null===e||void 0===e?void 0:e.data)||(null===e||void 0===e?void 0:e.content)||e||[];n(Array.isArray(t)?t:[])}catch(a){var e,t;const s=(null===a||void 0===a||null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===a||void 0===a?void 0:a.message)||"Failed to load crops";o(s),console.error("Error loading crops:",(null===a||void 0===a?void 0:a.response)||a)}finally{r(!1)}},d=e=>{const t=e.financialYearDisplay||e.cropYearDisplay||e.yearDisplay||e.yearRange||e.fyLabel;if(t)return t;const s=e.financialYear||e.cropYear||e.year;if("string"===typeof s){const e=s.trim();if(/\d{4}\s*-\s*\d{4}/.test(e))return e.replace(/\s*/g,"").replace("-","-");const t=Number(e);if(!Number.isNaN(t)&&t>0)return"".concat(t,"-").concat(t+1)}const a=[e.financialYear,e.year,e.cropYear,e.cropYearStart,e.yearStart,e.startYear,e.fyStart].map(e=>"string"===typeof e?Number(e):e).find(e=>"number"===typeof e&&!Number.isNaN(e)),n=[e.financialYearEnd,e.yearEnd,e.cropYearEnd,e.endYear,e.fyEnd].map(e=>"string"===typeof e?Number(e):e).find(e=>"number"===typeof e&&!Number.isNaN(e));return"number"===typeof a?"".concat(a,"-").concat("number"===typeof n?n:a+1):"-"};return i?(0,Fe.jsx)("div",{className:"loading",children:"Loading crops..."}):l?(0,Fe.jsxs)("div",{className:"error",children:["Error: ",l]}):(0,Fe.jsx)("div",{className:"fpo-crops",children:(0,Fe.jsx)("div",{className:"table-container",children:(0,Fe.jsxs)("table",{className:"turnover-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Crop Year"}),(0,Fe.jsx)("th",{children:"Crop Name"}),(0,Fe.jsx)("th",{children:"Area (Acres)"}),(0,Fe.jsx)("th",{children:"Production (MT)"})]})}),(0,Fe.jsx)("tbody",{children:0===a.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"4",className:"no-data-cell",children:"No crops found"})}):a.map((e,t)=>{var s,a,n,i,r,l,o;return(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:d(e)}),(0,Fe.jsx)("td",{children:e.cropName||"-"}),(0,Fe.jsx)("td",{children:Number(null!==(s=null!==(a=null!==(n=e.area)&&void 0!==n?n:e.areaInAcres)&&void 0!==a?a:e.acres)&&void 0!==s?s:0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,Fe.jsx)("td",{children:Number(null!==(i=null!==(r=null!==(l=null!==(o=e.production)&&void 0!==o?o:e.productionInMetricTons)&&void 0!==l?l:e.productionMT)&&void 0!==r?r:e.productionInMT)&&void 0!==i?i:0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})]},e.id||t)})})]})})})},Bs=e=>{let{fpoId:s}=e;const[a,n]=(0,t.useState)([]),[i,r]=(0,t.useState)(!0),[l,o]=(0,t.useState)(null);(0,t.useEffect)(()=>{c()},[s]);const c=async()=>{try{r(!0);const e=await Oe.fpoAPI.getFPOTurnovers(s);n(e)}catch(e){o("Failed to load turnover data"),console.error("Error loading turnover data:",e)}finally{r(!1)}};return i?(0,Fe.jsx)("div",{className:"loading",children:"Loading turnover data..."}):l?(0,Fe.jsxs)("div",{className:"error",children:["Error: ",l]}):(0,Fe.jsx)("div",{className:"fpo-turnover",children:(0,Fe.jsx)("div",{className:"turnover-list",children:0===a.length?(0,Fe.jsx)("div",{className:"no-data",children:"No turnover data found"}):a.map(e=>(0,Fe.jsxs)("div",{className:"turnover-card",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[(0,Fe.jsxs)("div",{className:"turnover-info",children:[(0,Fe.jsxs)("h4",{style:{margin:0},children:[e.financialYear?"".concat(e.financialYear,"-").concat(e.financialYear+1):""," - ",e.turnoverType||"YEARLY"]}),(0,Fe.jsx)("p",{className:"period",style:{margin:"6px 0 0 0",color:"#475569"},children:"MONTHLY"===e.turnoverType?"Month: ".concat(e.month):"QUARTERLY"===e.turnoverType?"Quarter: ".concat(e.quarter):"Yearly"})]}),(0,Fe.jsxs)("span",{style:{background:"#3b82f6",color:"#ffffff",padding:"6px 12px",borderRadius:999,fontWeight:700},children:["\u20b9 ",Number(e.revenue||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},e.id))})})},zs=e=>{let{fpoId:s}=e;const[a,n]=(0,t.useState)([]),[i,r]=(0,t.useState)([]),[l,o]=(0,t.useState)([]),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(null);(0,t.useEffect)(()=>{m(),p(),f()},[s]);const m=async()=>{try{d(!0);const e=await Oe.fpoAPI.getFPOProducts(s);n(e)}catch(e){h("Failed to load products"),console.error("Error loading products:",e)}finally{d(!1)}},p=async()=>{try{const e=await Oe.fpoAPI.getFPOProductCategories(s);r(e)}catch(e){console.error("Error loading categories:",e)}},f=async()=>{try{const e=await Oe.fpoAPI.getFPOInputShops(s),t=(null===e||void 0===e?void 0:e.data)||e||[];o(Array.isArray(t)?t:[])}catch(Qh){o([])}};return c?(0,Fe.jsx)("div",{className:"loading",children:"Loading products..."}):u?(0,Fe.jsxs)("div",{className:"error",children:["Error: ",u]}):(0,Fe.jsx)("div",{className:"fpo-products",children:(0,Fe.jsx)("div",{className:"products-list",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:0===a.length?(0,Fe.jsx)("div",{className:"no-data",children:"No products found"}):a.map(e=>(0,Fe.jsxs)("div",{className:"product-card item-card",children:[(0,Fe.jsxs)("h4",{style:{marginTop:0},children:[e.productName,e.categoryName?" (".concat(e.categoryName,")"):""]}),(0,Fe.jsxs)("p",{style:{margin:"8px 0 0 0"},children:["Shop: ",e.brand||e.supplier||e.shopName||e.shop||"\u2014"]}),(0,Fe.jsxs)("p",{style:{margin:"8px 0 0 0"},children:["Sold: ",(t=>{const s=null!==(t=e.quantitySold)&&void 0!==t?t:e.stockQuantity;if(null==s)return"\u2014";const a=e.unit||"MT";return"".concat(Number(s).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})," ").concat(a)})()]})]},e.id))})})},Vs=e=>{let{fpoId:s}=e;const[a,n]=(0,t.useState)([]),[i,r]=(0,t.useState)(!0),[l,o]=(0,t.useState)(null);return(0,t.useEffect)(()=>{(async()=>{try{r(!0);const e=await Oe.fpoAPI.getFPOInputShops(s),t=(null===e||void 0===e?void 0:e.data)||e||[];n(Array.isArray(t)?t:[])}catch(Qh){o("Failed to load input shops")}finally{r(!1)}})()},[s]),i?(0,Fe.jsx)("div",{className:"loading",children:"Loading input shops..."}):l?(0,Fe.jsx)("div",{className:"error",children:l}):(0,Fe.jsx)("div",{className:"fpo-input-shops",children:(0,Fe.jsx)("div",{className:"products-list",style:{display:"grid",gridTemplateColumns:"1fr",gap:16},children:0===a.length?(0,Fe.jsx)("div",{className:"no-data",children:"No input shops"}):a.map((e,t)=>(0,Fe.jsxs)("div",{className:"item-card",children:[(0,Fe.jsx)("h4",{style:{marginTop:0},children:e.shopName||"\u2014"}),(0,Fe.jsxs)("p",{style:{margin:"8px 0 0 0"},children:["Seed: ",e.seedLicense||"\u2014"]}),(0,Fe.jsxs)("p",{style:{margin:"8px 0 0 0"},children:["Pesticide: ",e.pesticideLicense||"\u2014"]}),(0,Fe.jsxs)("p",{style:{margin:"8px 0 0 0"},children:["Fertilizer: ",e.fertiliserLicense||e.fertilizerLicense||"\u2014"]})]},e.id||t))})})},Ys=e=>{let{fpo:t,onClose:s}=e;if(!t)return null;const a=(t.village||"")+(t.village?", ":"")+(t.district||"")+(t.district?", ":"")+(t.state||"")+(t.pincode?" - "+t.pincode:"");return(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal",style:{width:"80vw",maxWidth:1e3},children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h2",{children:[t.fpoName," (",t.fpoId,")"]}),(0,Fe.jsx)("button",{className:"close-btn",onClick:s,children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"modal-body",style:{maxHeight:"70vh",overflow:"auto"},children:[(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 320px",gap:20},children:[(0,Fe.jsxs)("div",{className:"card",style:{background:"#fff",borderRadius:12,padding:20},children:[(0,Fe.jsxs)("h3",{style:{marginTop:0},children:[t.fpoName," (",t.fpoId,")"]}),(0,Fe.jsxs)("div",{style:{lineHeight:"28px"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Reg No:"})," ",t.registrationNumber||"-"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Email:"})," ",t.email||"-"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Phone:"})," ",t.phoneNumber||"-"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"CEO:"})," ",t.ceoName||"-"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Address:"})," ",a||"-"]})]})]}),(0,Fe.jsxs)("div",{className:"card",style:{background:"#fff",borderRadius:12,padding:20},children:[(0,Fe.jsx)("div",{style:{fontWeight:700,textAlign:"center"},children:"Status:"}),(0,Fe.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:12},children:(0,Fe.jsx)("span",{style:{background:"#fde68a",color:"#92400e",padding:"6px 10px",borderRadius:10},children:(t.status||"").toString().replace("_"," ")||"PENDING"})}),(0,Fe.jsx)("div",{style:{fontWeight:700,textAlign:"center",marginTop:20},children:"Joined:"}),(0,Fe.jsx)("div",{style:{textAlign:"center",marginTop:8},children:t.joinDate||"-"})]})]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginTop:24},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{children:"Farm Services"}),(0,Fe.jsx)(Ls,{fpoId:t.id})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{children:"Turnovers"}),(0,Fe.jsx)(Bs,{fpoId:t.id})]})]}),(0,Fe.jsxs)("div",{style:{marginTop:24},children:[(0,Fe.jsx)("h3",{children:"Board Members"}),(0,Fe.jsx)(Ms,{fpoId:t.id})]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginTop:24},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{children:"Input Shops"}),(0,Fe.jsx)(Vs,{fpoId:t.id})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{children:"Products Sold"}),(0,Fe.jsx)(zs,{fpoId:t.id})]})]}),(0,Fe.jsxs)("div",{style:{marginTop:24},children:[(0,Fe.jsx)("h3",{children:"Crop Entries"}),(0,Fe.jsx)(Us,{fpoId:"number"===typeof t.id&&t.id||(Number(t.id)?Number(t.id):t.id)||t.fpoId})]})]})]})})},qs=e=>{let{isOpen:s,onClose:a,fpoId:n,fpoName:i}=e;const[r,l]=(0,t.useState)([]),[o,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(""),[p,f]=(0,t.useState)(!1),[g,v]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),[y,j]=(0,t.useState)({name:"",designation:"",phoneNumber:"",email:"",linkedinProfileUrl:"",location:"",role:"MEMBER"});(0,t.useEffect)(()=>{s&&n&&N()},[s,n]),(0,t.useEffect)(()=>{const e=e=>{x&&!e.target.closest(".action-dropdown")&&b(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[x]);const N=async()=>{try{var e,t;c(!0),console.log("Loading board members for FPO ID:",n);const s=await Oe.fpoAPI.getFPOBoardMembers(n);console.log("Board members response:",s);const a=s.data||s||[];console.log("Board members data:",a),console.log("First member details:",a[0]),console.log("Member qualification:",null===(e=a[0])||void 0===e?void 0:e.qualification),console.log("Member address:",null===(t=a[0])||void 0===t?void 0:t.address),l(Array.isArray(a)?a:[])}catch(s){console.error("Error loading board members:",s),l([])}finally{c(!1)}},w=r.filter(e=>{var t,s,a;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(s=e.qualification)||void 0===s?void 0:s.toLowerCase().includes(d.toLowerCase()))||(null===(a=e.phoneNumber)||void 0===a?void 0:a.includes(d))});return s?(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal-content board-members-modal",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:"Board Members List"}),(0,Fe.jsx)("button",{className:"close-button",onClick:a,children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsx)("div",{className:"create-section",children:(0,Fe.jsx)("button",{className:"create-button",onClick:()=>{f(!0),v(null),j({name:"",designation:"",phoneNumber:"",location:"",email:"",role:"MEMBER"})},children:"+ Create Board Members"})}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsx)("div",{className:"filter-label",children:(0,Fe.jsx)("span",{children:"Filter"})}),(0,Fe.jsxs)("div",{className:"filter-inputs",children:[(0,Fe.jsx)("input",{type:"text",placeholder:"Search here...",value:d,onChange:e=>u(e.target.value),className:"search-input"}),(0,Fe.jsxs)("div",{className:"date-range-container",children:[(0,Fe.jsx)("input",{type:"text",placeholder:"Enter a date range",value:h,onChange:e=>m(e.target.value),className:"date-range-input"}),(0,Fe.jsx)("span",{className:"calendar-icon",children:"\ud83d\udcc5"}),(0,Fe.jsx)("div",{className:"date-format-hint",children:"MM/DD/YYYY - MM/DD/YYYY"})]})]})]}),(0,Fe.jsx)("div",{className:"table-container",children:(0,Fe.jsxs)("table",{className:"board-members-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Id"}),(0,Fe.jsx)("th",{children:"Name"}),(0,Fe.jsx)("th",{children:"Designation"}),(0,Fe.jsx)("th",{children:"Phone number"}),(0,Fe.jsx)("th",{children:"Location"}),(0,Fe.jsx)("th",{children:"Status"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:o?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"7",className:"loading-cell",children:"Loading..."})}):0===w.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"7",className:"no-data-cell",children:"No data matching the filter"})}):w.map((e,t)=>(console.log("Rendering member:",e),console.log("Qualification:",e.qualification),console.log("Address:",e.address),console.log("Member keys:",Object.keys(e)),(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:e.id||"BM".concat(t+1)}),(0,Fe.jsx)("td",{children:e.name||"-"}),(0,Fe.jsx)("td",{children:e.qualification||"-"}),(0,Fe.jsx)("td",{children:e.phoneNumber||"-"}),(0,Fe.jsx)("td",{children:e.address||"-"}),(0,Fe.jsx)("td",{children:(0,Fe.jsx)("div",{className:"status-toggle-container",children:(0,Fe.jsxs)("label",{className:"status-toggle",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:"ACTIVE"===e.status,onChange:t=>{const s=t.target.checked?"ACTIVE":"INACTIVE";(async(e,t)=>{try{console.log("Updating board member status:",e,"to",t),l(s=>s.map(s=>s.id===e?(0,Ue.A)((0,Ue.A)({},s),{},{status:t}):s));const s=r.find(t=>t.id===e);if(!s)return void alert("Board member not found!");const a={name:s.name,phoneNumber:s.phoneNumber,email:s.email||null,role:s.role,address:s.address||null,qualification:s.qualification||null,experience:s.experience||null,photoFileName:s.photoFileName||null,documentFileName:s.documentFileName||null,remarks:s.remarks||null,status:t};console.log("Update data:",a);const i=await Oe.fpoAPI.updateBoardMember(n,e,a);console.log("Update response:",i),alert("Board member status updated to ".concat(t,"!"))}catch(i){var s,a;console.error("Error updating board member status:",i),alert("Error updating board member status: "+((null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||i.message)),l(t=>t.map(t=>t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{status:t.status}):t))}})(e.id,s)}}),(0,Fe.jsx)("span",{className:"status-slider",children:(0,Fe.jsx)("span",{className:"status-text",children:"ACTIVE"===e.status?"ACTIVE":"INACTIVE"})})]})})}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>b(x===e.id?null:e.id),children:"\u22ef"}),x===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsx)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{v(e);let t="";e.remarks&&e.remarks.includes("LinkedIn:")&&(t=e.remarks.replace("LinkedIn:","").trim()),j({name:e.name||"",designation:e.qualification||"",phoneNumber:e.phoneNumber||"",email:e.email||"",linkedinProfileUrl:t,location:e.address||"",role:e.role||"MEMBER"}),f(!0)})(e),b(null)},children:"Edit"}),(0,Fe.jsx)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this board member?"))try{await Oe.fpoAPI.removeBoardMember(n,e),setTimeout(()=>{N()},500),alert("Board member deleted successfully!")}catch(a){var t,s;console.error("Error deleting board member:",a),alert("Error deleting board member: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}})(e.id),b(null)},children:"Delete"})]})]})})]},e.id||t)))})]})})]}),p&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:g?"Edit Board Member":"Create Board Member"}),(0,Fe.jsx)("button",{className:"close-button",onClick:()=>{f(!1),v(null)},children:"\xd7"})]}),(0,Fe.jsxs)("form",{onSubmit:g?async e=>{e.preventDefault();try{const e={name:y.name,phoneNumber:y.phoneNumber,email:y.email||null,role:y.role,address:y.location||null,qualification:y.designation||null,experience:null,photoFileName:null,documentFileName:null,remarks:y.linkedinProfileUrl?"LinkedIn: ".concat(y.linkedinProfileUrl):null};await Oe.fpoAPI.updateBoardMember(n,g.id,e),f(!1),v(null),j({name:"",designation:"",phoneNumber:"",email:"",linkedinProfileUrl:"",location:"",role:"MEMBER"}),setTimeout(()=>{N()},500),alert("Board member updated successfully!")}catch(a){var t,s;console.error("Error updating board member:",a),alert("Error updating board member: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}}:async e=>{e.preventDefault();try{const e={name:y.name,phoneNumber:y.phoneNumber,email:y.email||null,role:y.role,address:y.location||null,qualification:y.designation||null,experience:null,photoFileName:null,documentFileName:null,remarks:y.linkedinProfileUrl?"LinkedIn: ".concat(y.linkedinProfileUrl):null};console.log("Creating board member with data:",e),console.log("FPO ID:",n),console.log("Location value from form:",y.location),console.log("Address field in DTO:",e.address);const t=await Oe.fpoAPI.addBoardMember(n,e);console.log("Board member created successfully:",t),f(!1),j({name:"",designation:"",phoneNumber:"",email:"",linkedinProfileUrl:"",location:"",role:"MEMBER"}),setTimeout(()=>{N()},500),alert("Board member created successfully!")}catch(a){var t,s;console.error("Error creating board member:",a),alert("Error creating board member: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}},children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Name *"}),(0,Fe.jsx)("input",{type:"text",value:y.name,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{name:e.target.value})),required:!0,className:y.name?"":"required-field"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Designation *"}),(0,Fe.jsx)("input",{type:"text",value:y.designation,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{designation:e.target.value})),required:!0,className:y.designation?"":"required-field"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Mobile Number *"}),(0,Fe.jsx)("input",{type:"tel",value:y.phoneNumber,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{phoneNumber:e.target.value})),required:!0,className:y.phoneNumber?"":"required-field"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Email"}),(0,Fe.jsx)("input",{type:"email",value:y.email,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{email:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"LinkedIn Profile URL"}),(0,Fe.jsx)("input",{type:"url",value:y.linkedinProfileUrl,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{linkedinProfileUrl:e.target.value})),placeholder:"https://linkedin.com/in/username"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Location"}),(0,Fe.jsx)("input",{type:"text",value:y.location,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{location:e.target.value}))})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"cancel-btn",onClick:()=>f(!1),children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"submit-btn ".concat(y.name&&y.designation&&y.phoneNumber?"":"disabled"),disabled:!y.name||!y.designation||!y.phoneNumber,children:g?"Update":"Create"})]})]})]})})]})}):null},Ws=e=>{let{isOpen:s,onClose:a,fpoId:n,fpoName:i}=e;const[r,l]=(0,t.useState)([]),[o,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(""),[p,f]=(0,t.useState)(!1),[g,v]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),[y,j]=(0,t.useState)({serviceType:"",description:""});(0,t.useEffect)(()=>{s&&n&&N()},[s,n]),(0,t.useEffect)(()=>{const e=e=>{x&&!e.target.closest(".action-dropdown")&&b(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[x]);const N=async()=>{try{c(!0),console.log("Loading farm services for FPO ID:",n);const e=await Oe.fpoAPI.getFPOServices(n);console.log("Farm services response:",e);const t=e.data||e||[];console.log("Farm services data:",t),l(Array.isArray(t)?t:[])}catch(e){console.error("Error loading farm services:",e),l([])}finally{c(!1)}},w=r.filter(e=>{var t,s;return(null===(t=e.serviceType)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(d.toLowerCase()))});return s?(0,Fe.jsxs)("div",{className:"modal-overlay",children:[(0,Fe.jsxs)("div",{className:"modal-content farm-services-modal",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:"Farm Services List"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsx)("div",{className:"create-section",children:(0,Fe.jsx)("button",{className:"create-button",onClick:()=>{v(null),j({serviceType:"",description:""}),f(!0)},children:"+ Create Farm Service"})}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsx)("div",{className:"filter-label",children:"FILTER"}),(0,Fe.jsxs)("div",{className:"filter-inputs",children:[(0,Fe.jsx)("input",{type:"text",placeholder:"Search here...",value:d,onChange:e=>u(e.target.value),className:"search-input"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Enter a date range",value:h,onChange:e=>m(e.target.value),className:"date-range-input"}),(0,Fe.jsx)("div",{className:"date-format-hint",children:"MM/DD/YYYY - MM/DD/YYYY"})]})]}),(0,Fe.jsx)("div",{className:"table-container",children:(0,Fe.jsxs)("table",{className:"farm-services-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Id"}),(0,Fe.jsx)("th",{children:"FPO Service name"}),(0,Fe.jsx)("th",{children:"Description"}),(0,Fe.jsx)("th",{children:"Status"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:o?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"5",className:"loading-cell",children:"Loading farm services..."})}):0===w.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"5",className:"no-data-cell",children:"No data matching the filter"})}):w.map((e,t)=>(console.log("Rendering service:",e),(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:e.id||"FS".concat(t+1)}),(0,Fe.jsx)("td",{children:e.serviceType?e.serviceType.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()):"-"}),(0,Fe.jsx)("td",{children:e.description||"-"}),(0,Fe.jsx)("td",{children:(0,Fe.jsx)("div",{className:"status-toggle-container",children:(0,Fe.jsxs)("label",{className:"status-toggle",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:"APPROVED"===e.status||"IN_PROGRESS"===e.status||"COMPLETED"===e.status,onChange:t=>{const s=t.target.checked?"APPROVED":"REQUESTED";(async(e,t)=>{try{console.log("Updating farm service status:",e,"to",t),l(s=>s.map(s=>s.id===e?(0,Ue.A)((0,Ue.A)({},s),{},{status:t}):s));const s=await Oe.fpoAPI.updateServiceStatus(n,e,t);console.log("Status update response:",s),alert("Farm service status updated to ".concat(t,"!")),setTimeout(()=>{N()},1e3)}catch(i){var s,a;console.error("Error updating farm service status:",i),alert("Error updating farm service status: "+((null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||i.message)),l(t=>t.map(t=>t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{status:t.status}):t))}})(e.id,s)}}),(0,Fe.jsx)("span",{className:"status-slider",children:(0,Fe.jsx)("span",{className:"status-text",children:"APPROVED"===e.status||"IN_PROGRESS"===e.status||"COMPLETED"===e.status?"ACTIVE":"INACTIVE"})})]})})}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>b(x===e.id?null:e.id),children:"\u22ef"}),x===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsx)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{v(e),j({serviceType:e.serviceType||"",description:e.description||""}),f(!0)})(e),b(null)},children:"Edit"}),(0,Fe.jsx)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this farm service?"))try{await Oe.fpoAPI.removeService(n,e),alert("Farm service deleted successfully!"),N()}catch(a){var t,s;console.error("Error deleting farm service:",a),alert("Error deleting farm service: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}})(e.id),b(null)},children:"Delete"})]})]})})]},e.id||t)))})]})})]})]}),p&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:g?"Edit Farm Service":"Create Farm Service"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>{f(!1),v(null),j({serviceType:"",description:""})},children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"form-modal-body",children:(0,Fe.jsxs)("form",{onSubmit:g?async e=>{e.preventDefault();try{const e={serviceType:y.serviceType,description:y.description||"No description provided",scheduledAt:null,serviceProvider:null,serviceProviderContact:null,serviceCost:null,paymentStatus:null,remarks:null};console.log("Updating farm service:",g.id,"with data:",e),await Oe.fpoAPI.updateService(n,g.id,e),f(!1),v(null),j({serviceType:"",description:""}),alert("Farm service updated successfully!"),N()}catch(a){var t,s;console.error("Error updating farm service:",a),alert("Error updating farm service: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}}:async e=>{e.preventDefault();try{const e={serviceType:y.serviceType,description:y.description||"No description provided",scheduledAt:null,serviceProvider:null,serviceProviderContact:null,serviceCost:null,paymentStatus:null,remarks:null};console.log("Creating farm service with data:",e),console.log("FPO ID:",n);const t=await Oe.fpoAPI.createService(n,e);console.log("Farm service created successfully:",t),f(!1),j({serviceType:"",description:""}),setTimeout(()=>{N()},500),alert("Farm service created successfully!")}catch(a){var t,s;console.error("Error creating farm service:",a),alert("Error creating farm service: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}},children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Service Type *"}),(0,Fe.jsxs)("select",{value:y.serviceType,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{serviceType:e.target.value})),required:!0,className:y.serviceType?"":"required-field",children:[(0,Fe.jsx)("option",{value:"",children:"Select Service Type"}),(0,Fe.jsx)("option",{value:"SOIL_TEST",children:"Soil Test"}),(0,Fe.jsx)("option",{value:"WATER_TEST",children:"Water Test"}),(0,Fe.jsx)("option",{value:"MACHINERY_RENTAL",children:"Machinery Rental"}),(0,Fe.jsx)("option",{value:"SEED_SUPPLY",children:"Seed Supply"}),(0,Fe.jsx)("option",{value:"FERTILIZER_SUPPLY",children:"Fertilizer Supply"}),(0,Fe.jsx)("option",{value:"PESTICIDE_SUPPLY",children:"Pesticide Supply"}),(0,Fe.jsx)("option",{value:"TECHNICAL_SUPPORT",children:"Technical Support"}),(0,Fe.jsx)("option",{value:"MARKETING_SUPPORT",children:"Marketing Support"}),(0,Fe.jsx)("option",{value:"TRAINING",children:"Training"}),(0,Fe.jsx)("option",{value:"INSURANCE",children:"Insurance"}),(0,Fe.jsx)("option",{value:"CREDIT_FACILITY",children:"Credit Facility"}),(0,Fe.jsx)("option",{value:"OTHER",children:"Other"})]})]}),(0,Fe.jsxs)("div",{className:"form-group full-width",children:[(0,Fe.jsx)("label",{children:"Description"}),(0,Fe.jsx)("textarea",{value:y.description,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{description:e.target.value})),rows:4,placeholder:"Enter service description..."})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"cancel-btn",onClick:()=>{f(!1),v(null),j({serviceType:"",description:""})},children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"submit-btn ".concat(y.serviceType?"":"disabled"),disabled:!y.serviceType,children:g?"Update":"Create"})]})]})})]})})]}):null},Hs=e=>{let{isOpen:s,onClose:a,fpoId:n,fpoName:i}=e;const[r,l]=(0,t.useState)([]),[o,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(""),[p,f]=(0,t.useState)(!1),[g,v]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),[y,j]=(0,t.useState)({financialYear:"",turnoverAmount:""});(0,t.useEffect)(()=>{s&&n&&N()},[s,n]),(0,t.useEffect)(()=>{const e=e=>{x&&!e.target.closest(".action-dropdown")&&b(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[x]);const N=async()=>{try{c(!0),console.log("Loading turnovers for FPO ID:",n);const e=await Oe.fpoAPI.getFPOTurnovers(n);console.log("Turnovers response:",e);const t=e.data||e||[];console.log("Turnovers data:",t),l(Array.isArray(t)?t:[])}catch(e){console.error("Error loading turnovers:",e),l([])}finally{c(!1)}},w=r.filter(e=>{var t;return(e.financialYear?"".concat(e.financialYear,"-").concat(e.financialYear+1):"").toLowerCase().includes(d.toLowerCase())||(null===(t=e.revenue)||void 0===t?void 0:t.toString().includes(d.toLowerCase()))});return s?(0,Fe.jsxs)("div",{className:"modal-overlay",children:[(0,Fe.jsxs)("div",{className:"modal-content turnover-modal",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:"FPO Turnover List"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsx)("div",{className:"create-section",children:(0,Fe.jsx)("button",{className:"create-button",onClick:()=>{v(null),j({financialYear:"",turnoverAmount:""}),f(!0)},children:"+ Create Turnover"})}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsx)("div",{className:"filter-label",children:"FILTER"}),(0,Fe.jsxs)("div",{className:"filter-inputs",children:[(0,Fe.jsx)("input",{type:"text",placeholder:"Search here...",value:d,onChange:e=>u(e.target.value),className:"search-input"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Enter a date range",value:h,onChange:e=>m(e.target.value),className:"date-range-input"}),(0,Fe.jsx)("div",{className:"date-format-hint",children:"MM/DD/YYYY - MM/DD/YYYY"})]})]}),(0,Fe.jsx)("div",{className:"table-container",children:(0,Fe.jsxs)("table",{className:"turnover-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Id"}),(0,Fe.jsx)("th",{children:"Financial Year"}),(0,Fe.jsx)("th",{children:"Turnover"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:o?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"4",className:"loading-cell",children:"Loading turnovers..."})}):0===w.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"4",className:"no-data-cell",children:"No data matching the filter"})}):w.map((e,t)=>{return console.log("Rendering turnover:",e),(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:e.id||"T".concat(t+1)}),(0,Fe.jsx)("td",{children:e.financialYear?"".concat(e.financialYear,"-").concat(e.financialYear+1):"-"}),(0,Fe.jsx)("td",{children:(s=e.revenue,s?new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(s):"\u20b90")}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>b(x===e.id?null:e.id),children:"\u22ef"}),x===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsx)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{var t,s;v(e),j({financialYear:(null===(t=e.financialYear)||void 0===t?void 0:t.toString())||"",turnoverAmount:(null===(s=e.revenue)||void 0===s?void 0:s.toString())||""}),f(!0)})(e),b(null)},children:"Edit"}),(0,Fe.jsx)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this turnover record?"))try{await Oe.fpoAPI.deleteTurnover(n,e),alert("Turnover deleted successfully!"),N()}catch(a){var t,s;console.error("Error deleting turnover:",a),alert("Error deleting turnover: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}})(e.id),b(null)},children:"Delete"})]})]})})]},e.id||t);var s})})]})})]})]}),p&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:g?"Edit Turnover":"Create Turnover"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>{f(!1),v(null),j({financialYear:"",turnoverAmount:""})},children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"form-modal-body",children:(0,Fe.jsxs)("form",{onSubmit:g?async e=>{e.preventDefault();try{const e={financialYear:parseInt(y.financialYear)||0,month:1,quarter:1,revenue:parseFloat(y.turnoverAmount)||0,expenses:0,turnoverType:"YEARLY",description:null,remarks:null,documentFileName:null,enteredBy:null};console.log("Updating turnover:",g.id,"with data:",e),await Oe.fpoAPI.updateTurnover(n,g.id,e),f(!1),v(null),j({financialYear:"",turnoverAmount:""}),alert("Turnover updated successfully!"),N()}catch(a){var t,s;console.error("Error updating turnover:",a),alert("Error updating turnover: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}}:async e=>{e.preventDefault();try{const e={financialYear:parseInt(y.financialYear)||0,month:1,quarter:1,revenue:parseFloat(y.turnoverAmount)||0,expenses:0,turnoverType:"YEARLY",description:null,remarks:null,documentFileName:null,enteredBy:null};console.log("Creating turnover with data:",e),console.log("FPO ID:",n);const t=await Oe.fpoAPI.createTurnover(n,e);console.log("Turnover created successfully:",t),f(!1),j({financialYear:"",turnoverAmount:""}),setTimeout(()=>{N()},500),alert("Turnover created successfully!")}catch(a){var t,s;console.error("Error creating turnover:",a),alert("Error creating turnover: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}},children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Financial Year *"}),(0,Fe.jsxs)("select",{value:y.financialYear,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{financialYear:e.target.value})),required:!0,className:y.financialYear?"":"required-field",children:[(0,Fe.jsx)("option",{value:"",children:"Select Financial Year"}),(()=>{const e=[],t=(new Date).getFullYear();for(let s=t-5;s<=t+5;s++)e.push({value:s,label:"".concat(s,"-").concat(s+1)});return e})().map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Turnover Amount *"}),(0,Fe.jsx)("input",{type:"number",value:y.turnoverAmount,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{turnoverAmount:e.target.value})),placeholder:"Enter turnover amount",required:!0,min:"0",step:"0.01",className:y.turnoverAmount?"":"required-field"})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"cancel-btn",onClick:()=>{f(!1),v(null),j({financialYear:"",turnoverAmount:""})},children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"submit-btn ".concat(y.financialYear&&y.turnoverAmount?"":"disabled"),disabled:!y.financialYear||!y.turnoverAmount,children:g?"Update":"Create"})]})]})})]})})]}):null},Ks=e=>{let{isOpen:s,onClose:a,fpoId:n,fpoName:i}=e;const[r,l]=(0,t.useState)([]),[o,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[x,b]=(0,t.useState)({shopName:"",seedLicense:"",pesticideLicense:"",fertiliserLicense:""});(0,t.useEffect)(()=>{s&&n&&y()},[s,n]),(0,t.useEffect)(()=>{const e=e=>{g&&!e.target.closest(".action-dropdown")&&v(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[g]);const y=async()=>{try{c(!0);const e=await Oe.fpoAPI.getFPOInputShops(n),t=(null===e||void 0===e?void 0:e.data)||e||[];l(Array.isArray(t)?t:[])}catch(Qh){l([])}finally{c(!1)}},j=r.filter(e=>(e.shopName||"").toLowerCase().includes(d.toLowerCase())||(e.seedLicense||"").toLowerCase().includes(d.toLowerCase())||(e.pesticideLicense||"").toLowerCase().includes(d.toLowerCase())||(e.fertiliserLicense||"").toLowerCase().includes(d.toLowerCase()));return s?(0,Fe.jsxs)("div",{className:"modal-overlay",children:[(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:"FPO Input Shop List"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsx)("div",{className:"create-section",children:(0,Fe.jsx)("button",{className:"create-button",onClick:()=>{f(null),b({shopName:"",seedLicense:"",pesticideLicense:"",fertiliserLicense:""}),m(!0)},children:"+ Create Input Shop"})}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsx)("div",{className:"filter-label",children:"FILTER"}),(0,Fe.jsxs)("div",{className:"filter-inputs",children:[(0,Fe.jsx)("input",{className:"search-input",placeholder:"Search here...",value:d,onChange:e=>u(e.target.value)}),(0,Fe.jsx)("input",{className:"date-range-input",placeholder:"Enter a date range",readOnly:!0}),(0,Fe.jsx)("div",{className:"date-format-hint",children:"MM/DD/YYYY - MM/DD/YYYY"})]})]}),(0,Fe.jsx)("div",{className:"table-container",children:(0,Fe.jsxs)("table",{className:"turnover-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Id"}),(0,Fe.jsx)("th",{children:"Shop Name"}),(0,Fe.jsx)("th",{children:"Seed License"}),(0,Fe.jsx)("th",{children:"Pesticide License"}),(0,Fe.jsx)("th",{children:"Fertiliser License"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:o?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"6",className:"loading-cell",children:"Loading..."})}):0===j.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"6",className:"no-data-cell",children:"No data"})}):j.map((e,t)=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:e.id||t+1}),(0,Fe.jsx)("td",{children:e.shopName||"-"}),(0,Fe.jsx)("td",{children:e.seedLicense||"-"}),(0,Fe.jsx)("td",{children:e.pesticideLicense||"-"}),(0,Fe.jsx)("td",{children:e.fertiliserLicense||"-"}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>v(g===e.id?null:e.id),children:"\u22ef"}),g===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsx)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{f(e),b({shopName:e.shopName||"",seedLicense:e.seedLicense||"",pesticideLicense:e.pesticideLicense||"",fertiliserLicense:e.fertiliserLicense||""}),m(!0)})(e),v(null)},children:"Edit"}),(0,Fe.jsx)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Delete this input shop?"))try{await Oe.fpoAPI.deleteInputShop(n,e),y(),alert("Input Shop deleted")}catch(Qh){var t,s;alert("Error deleting shop: "+((null===(t=Qh.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||Qh.message))}})(e.id),v(null)},children:"Delete"})]})]})})]},e.id||t))})]})})]})]}),h&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:p?"Edit Input Shop":"Add Input Shop"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>{m(!1),f(null)},children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"form-modal-body",children:(0,Fe.jsxs)("form",{onSubmit:p?async e=>{e.preventDefault();try{const e={shopName:x.shopName,seedLicense:x.seedLicense||null,pesticideLicense:x.pesticideLicense||null,fertiliserLicense:x.fertiliserLicense||null};await Oe.fpoAPI.updateInputShop(n,p.id,e),m(!1),f(null),b({shopName:"",seedLicense:"",pesticideLicense:"",fertiliserLicense:""}),y(),alert("Input Shop updated successfully!")}catch(e){var t,s;alert("Error updating shop: "+((null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||e.message))}}:async e=>{e.preventDefault();try{const e={shopName:x.shopName,seedLicense:x.seedLicense||null,pesticideLicense:x.pesticideLicense||null,fertiliserLicense:x.fertiliserLicense||null};await Oe.fpoAPI.createInputShop(n,e),m(!1),b({shopName:"",seedLicense:"",pesticideLicense:"",fertiliserLicense:""}),setTimeout(y,300),alert("Input Shop created successfully!")}catch(e){var t,s;alert("Error creating shop: "+((null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||e.message))}},children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Shop Name *"}),(0,Fe.jsx)("input",{type:"text",value:x.shopName,onChange:e=>b((0,Ue.A)((0,Ue.A)({},x),{},{shopName:e.target.value})),required:!0,className:x.shopName?"":"required-field"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Seed License"}),(0,Fe.jsx)("input",{type:"text",value:x.seedLicense,onChange:e=>b((0,Ue.A)((0,Ue.A)({},x),{},{seedLicense:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pesticide License"}),(0,Fe.jsx)("input",{type:"text",value:x.pesticideLicense,onChange:e=>b((0,Ue.A)((0,Ue.A)({},x),{},{pesticideLicense:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Fertiliser License"}),(0,Fe.jsx)("input",{type:"text",value:x.fertiliserLicense,onChange:e=>b((0,Ue.A)((0,Ue.A)({},x),{},{fertiliserLicense:e.target.value}))})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"cancel-btn",onClick:()=>{m(!1),f(null)},children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"submit-btn ".concat(x.shopName?"":"disabled"),disabled:!x.shopName,children:p?"Update":"Create"})]})]})})]})})]}):null},$s=e=>{let{isOpen:s,onClose:a,fpoId:n}=e;const[i,r]=(0,t.useState)([]),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(!1),[m,p]=(0,t.useState)(null),[f,g]=(0,t.useState)({categoryName:""}),[v,x]=(0,t.useState)(null);(0,t.useEffect)(()=>{s&&n&&b()},[s,n]),(0,t.useEffect)(()=>{const e=e=>{v&&!e.target.closest(".action-dropdown")&&x(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[v]);const b=async()=>{try{o(!0);const e=await Oe.fpoAPI.getFPOProductCategories(n),t=(null===e||void 0===e?void 0:e.data)||e||[];r(Array.isArray(t)?t:[])}catch(Qh){r([])}finally{o(!1)}},y=i.filter(e=>(e.categoryName||"").toLowerCase().includes(c.toLowerCase()));return s?(0,Fe.jsxs)("div",{className:"modal-overlay",children:[(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:"FPO Product Category List"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsx)("div",{className:"create-section",children:(0,Fe.jsx)("button",{className:"create-button",onClick:()=>{p(null),g({categoryName:""}),h(!0)},children:"+ Create Product Category"})}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsx)("div",{className:"filter-label",children:"FILTER"}),(0,Fe.jsxs)("div",{className:"filter-inputs",children:[(0,Fe.jsx)("input",{className:"search-input",placeholder:"Search here...",value:c,onChange:e=>d(e.target.value)}),(0,Fe.jsx)("input",{className:"date-range-input",placeholder:"Enter a date range",readOnly:!0}),(0,Fe.jsx)("div",{className:"date-format-hint",children:"MM/DD/YYYY - MM/DD/YYYY"})]})]}),(0,Fe.jsx)("div",{className:"table-container",children:(0,Fe.jsxs)("table",{className:"turnover-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Id"}),(0,Fe.jsx)("th",{children:"Product Category"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:l?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"3",className:"loading-cell",children:"Loading..."})}):0===y.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"3",className:"no-data-cell",children:"No data"})}):y.map((e,t)=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:e.id||t+1}),(0,Fe.jsx)("td",{children:e.categoryName||"-"}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>x(v===e.id?null:e.id),children:"\u22ef"}),v===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsx)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{p(e),g({categoryName:e.categoryName||""}),h(!0)})(e),x(null)},children:"Edit"}),(0,Fe.jsx)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Delete this category?"))try{await Oe.fpoAPI.deleteProductCategory(n,e),b()}catch(a){var t,s;alert("Error deleting category: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}})(e.id),x(null)},children:"Delete"})]})]})})]},e.id||t))})]})})]})]}),u&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:m?"Edit Product Category":"Add Product Category"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>{h(!1),p(null)},children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"form-modal-body",children:(0,Fe.jsxs)("form",{onSubmit:m?async e=>{e.preventDefault();try{await Oe.fpoAPI.updateProductCategory(n,m.id,{categoryName:f.categoryName}),h(!1),p(null),g({categoryName:""}),b()}catch(a){var t,s;alert("Error updating category: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}}:async e=>{e.preventDefault();try{await Oe.fpoAPI.createProductCategory(n,{categoryName:f.categoryName}),h(!1),g({categoryName:""}),setTimeout(b,300)}catch(a){var t,s;alert("Error creating category: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}},children:[(0,Fe.jsx)("div",{className:"form-grid",children:(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Category Name *"}),(0,Fe.jsxs)("select",{value:f.categoryName,onChange:e=>g({categoryName:e.target.value}),required:!0,className:f.categoryName?"":"required-field",children:[(0,Fe.jsx)("option",{value:"",children:"Select Category"}),["Fertilizers","Pesticides","Bio-stimulants","Manure - FYM/Poultry manure"].map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]})]})}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"cancel-btn",onClick:()=>{h(!1),p(null)},children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"submit-btn ".concat(f.categoryName?"":"disabled"),disabled:!f.categoryName,children:m?"Update":"Create"})]})]})})]})})]}):null},Gs=e=>{let{isOpen:s,onClose:a,fpoId:n}=e;const[i,r]=(0,t.useState)([]),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(!1),[m,p]=(0,t.useState)(null),[f,g]=(0,t.useState)({inputShop:"",categoryId:"",productName:"",quantitySold:""}),[v,x]=(0,t.useState)([]),[b,y]=(0,t.useState)([]),[j,N]=(0,t.useState)(null);(0,t.useEffect)(()=>{s&&n&&(S(),w())},[s,n]),(0,t.useEffect)(()=>{const e=e=>{j&&!e.target.closest(".action-dropdown")&&N(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[j]);const w=async()=>{try{const[e,t]=await Promise.all([Oe.fpoAPI.getFPOInputShops(n),Oe.fpoAPI.getFPOProductCategories(n)]);x((null===e||void 0===e?void 0:e.data)||e||[]),y((null===t||void 0===t?void 0:t.data)||t||[])}catch(Qh){}},S=async()=>{try{o(!0);const e=await Oe.fpoAPI.getFPOProducts(n),t=(null===e||void 0===e?void 0:e.data)||e||[];r(Array.isArray(t)?t:[])}finally{o(!1)}},k=i.filter(e=>(e.productName||"").toLowerCase().includes(c.toLowerCase())||(e.category||"").toLowerCase().includes(c.toLowerCase()));return s?(0,Fe.jsxs)("div",{className:"modal-overlay",children:[(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:"FPO Products List"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsx)("div",{className:"create-section",children:(0,Fe.jsx)("button",{className:"create-button",onClick:()=>{p(null),g({inputShop:"",category:"",productName:"",quantitySold:""}),h(!0)},children:"+ Create Product"})}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsx)("div",{className:"filter-label",children:"FILTER"}),(0,Fe.jsxs)("div",{className:"filter-inputs",children:[(0,Fe.jsx)("input",{className:"search-input",placeholder:"Search here...",value:c,onChange:e=>d(e.target.value)}),(0,Fe.jsx)("input",{className:"date-range-input",placeholder:"Enter a date range",readOnly:!0}),(0,Fe.jsx)("div",{className:"date-format-hint",children:"MM/DD/YYYY - MM/DD/YYYY"})]})]}),(0,Fe.jsx)("div",{className:"table-container",children:(0,Fe.jsxs)("table",{className:"turnover-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Id"}),(0,Fe.jsx)("th",{children:"Input shop"}),(0,Fe.jsx)("th",{children:"Category"}),(0,Fe.jsx)("th",{children:"Product name"}),(0,Fe.jsx)("th",{children:"Quantity Sold"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:l?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"6",className:"loading-cell",children:"Loading..."})}):0===k.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"6",className:"no-data-cell",children:"No data"})}):k.map((e,t)=>{var s;return(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:e.id||t+1}),(0,Fe.jsx)("td",{children:e.brand||e.supplier||"-"}),(0,Fe.jsx)("td",{children:e.categoryName||"-"}),(0,Fe.jsx)("td",{children:e.productName||"-"}),(0,Fe.jsx)("td",{children:(null!==(s=e.stockQuantity)&&void 0!==s?s:0).toFixed(2)}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>N(j===e.id?null:e.id),children:"\u22ef"}),j===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsx)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{var t,s;p(e),g({inputShop:e.brand||e.supplier||"",categoryId:(null!==(t=e.categoryId)&&void 0!==t?t:"").toString(),productName:e.productName||"",quantitySold:(null!==(s=e.stockQuantity)&&void 0!==s?s:"").toString()}),h(!0)})(e),N(null)},children:"Edit"}),(0,Fe.jsx)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Delete this product?"))try{await Oe.fpoAPI.deleteProduct(n,e),S()}catch(a){var t,s;alert("Error deleting product: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}})(e.id),N(null)},children:"Delete"})]})]})})]},e.id||t)})})]})})]})]}),u&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:m?"Edit Product Sold":"Add Product Sold"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>{h(!1),p(null)},children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"form-modal-body",children:(0,Fe.jsxs)("form",{onSubmit:m?async e=>{e.preventDefault();try{const e={categoryId:f.categoryId?parseInt(f.categoryId):null,productName:f.productName,description:"Sold via ".concat(f.inputShop),brand:f.inputShop||"N/A",unit:"MT",price:.01,stockQuantity:Math.max(0,Math.floor(parseFloat(f.quantitySold)||0)),minimumStock:0,supplier:f.inputShop||"N/A",supplierContact:null,supplierAddress:null,batchNumber:null,expiryDate:null,photoFileName:null,remarks:null,discountPercentage:0,taxPercentage:0};await Oe.fpoAPI.updateProduct(n,m.id,e),h(!1),p(null),g({inputShop:"",category:"",productName:"",quantitySold:""}),S()}catch(a){var t,s;alert("Error updating product: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}}:async e=>{e.preventDefault();try{const e={categoryId:f.categoryId?parseInt(f.categoryId):null,productName:f.productName,description:"Sold via ".concat(f.inputShop),brand:f.inputShop||"N/A",unit:"MT",price:.01,stockQuantity:Math.max(0,Math.floor(parseFloat(f.quantitySold)||0)),minimumStock:0,supplier:f.inputShop||"N/A",supplierContact:null,supplierAddress:null,batchNumber:null,expiryDate:null,photoFileName:null,remarks:null,discountPercentage:0,taxPercentage:0};await Oe.fpoAPI.createProduct(n,e),h(!1),g({inputShop:"",category:"",productName:"",quantitySold:""}),setTimeout(S,300)}catch(a){var t,s;alert("Error creating product: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}},children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Input Shop *"}),(0,Fe.jsxs)("select",{value:f.inputShop,onChange:e=>g((0,Ue.A)((0,Ue.A)({},f),{},{inputShop:e.target.value})),required:!0,className:f.inputShop?"":"required-field",children:[(0,Fe.jsx)("option",{value:"",children:"Select Input Shop"}),v.map(e=>(0,Fe.jsx)("option",{value:e.shopName||e.name||e.id,children:e.shopName||e.name||e.id},e.id))]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Category *"}),(0,Fe.jsxs)("select",{value:f.categoryId,onChange:e=>g((0,Ue.A)((0,Ue.A)({},f),{},{categoryId:e.target.value})),required:!0,className:f.categoryId?"":"required-field",children:[(0,Fe.jsx)("option",{value:"",children:"Select Category"}),b.map(e=>(0,Fe.jsx)("option",{value:e.id,children:e.categoryName||e.name},e.id))]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Product Name *"}),(0,Fe.jsx)("input",{type:"text",value:f.productName,onChange:e=>g((0,Ue.A)((0,Ue.A)({},f),{},{productName:e.target.value})),required:!0,className:f.productName?"":"required-field"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Quantity Sold (Last Year in MT) *"}),(0,Fe.jsx)("input",{type:"number",min:"0",step:"0.01",value:f.quantitySold,onChange:e=>g((0,Ue.A)((0,Ue.A)({},f),{},{quantitySold:e.target.value})),required:!0,className:f.quantitySold?"":"required-field"})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"cancel-btn",onClick:()=>{h(!1),p(null)},children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"submit-btn ".concat(f.inputShop&&f.categoryId&&f.productName&&f.quantitySold?"":"disabled"),disabled:!f.inputShop||!f.categoryId||!f.productName||!f.quantitySold,children:m?"Update":"Create"})]})]})})]})})]}):null},Js=e=>{let{isOpen:s,onClose:a,fpoId:n,fpoName:i}=e;const[r,l]=(0,t.useState)([]),[o,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(""),[p,f]=(0,t.useState)(!1),[g,v]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),[y,j]=(0,t.useState)({cropYear:"",cropName:"",area:"",production:""});(0,t.useEffect)(()=>{s&&n&&N()},[s,n]),(0,t.useEffect)(()=>{const e=e=>{x&&!e.target.closest(".action-dropdown")&&b(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[x]);const N=async()=>{try{c(!0),console.log("Loading crop entries for FPO ID:",n);const e=await Oe.fpoAPI.getFPOCrops(n);console.log("Crop entries response:",e);const t=e.data||e||[];console.log("Crop entries data:",t),l(Array.isArray(t)?t:[])}catch(e){console.error("Error loading crop entries:",e),l([])}finally{c(!1)}},w=r.filter(e=>{var t,s,a;const n=e.sowingDate?new Date(e.sowingDate).getFullYear():null;return(n?"".concat(n,"-").concat(n+1):"").toLowerCase().includes(d.toLowerCase())||(null===(t=e.cropName)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(s=e.area)||void 0===s?void 0:s.toString().includes(d.toLowerCase()))||(null===(a=e.expectedYield)||void 0===a?void 0:a.toString().includes(d.toLowerCase()))}),S=e=>e?new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e):"0";return s?(0,Fe.jsxs)("div",{className:"modal-overlay",children:[(0,Fe.jsxs)("div",{className:"modal-content crop-entries-modal",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:"FPO Crop Entry List"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsx)("div",{className:"create-section",children:(0,Fe.jsx)("button",{className:"create-button",onClick:()=>{v(null),j({cropYear:"",cropName:"",area:"",production:""}),f(!0)},children:"+ Create Crop Entry"})}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsx)("div",{className:"filter-label",children:"FILTER"}),(0,Fe.jsxs)("div",{className:"filter-inputs",children:[(0,Fe.jsx)("input",{type:"text",placeholder:"Search here...",value:d,onChange:e=>u(e.target.value),className:"search-input"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Enter a date range",value:h,onChange:e=>m(e.target.value),className:"date-range-input"}),(0,Fe.jsx)("div",{className:"date-format-hint",children:"MM/DD/YYYY - MM/DD/YYYY"})]})]}),(0,Fe.jsx)("div",{className:"table-container",children:(0,Fe.jsxs)("table",{className:"crop-entries-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Id"}),(0,Fe.jsx)("th",{children:"Financial Year"}),(0,Fe.jsx)("th",{children:"Crop Name"}),(0,Fe.jsx)("th",{children:"Area (in Acres)"}),(0,Fe.jsx)("th",{children:"Production (in Metric Tons)"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:o?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"6",className:"loading-cell",children:"Loading crop entries..."})}):0===w.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"6",className:"no-data-cell",children:"No data matching the filter"})}):w.map((e,t)=>(console.log("Rendering crop entry:",e),(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:e.id||"C".concat(t+1)}),(0,Fe.jsx)("td",{children:e.sowingDate?"".concat(new Date(e.sowingDate).getFullYear(),"-").concat(new Date(e.sowingDate).getFullYear()+1):"-"}),(0,Fe.jsx)("td",{children:e.cropName||"-"}),(0,Fe.jsx)("td",{children:S(e.area)}),(0,Fe.jsx)("td",{children:S(e.expectedYield)}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>b(x===e.id?null:e.id),children:"\u22ef"}),x===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsx)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{var t,s;v(e),j({cropYear:e.sowingDate?new Date(e.sowingDate).getFullYear().toString():"",cropName:e.cropName||"",area:(null===(t=e.area)||void 0===t?void 0:t.toString())||"",production:(null===(s=e.expectedYield)||void 0===s?void 0:s.toString())||""}),f(!0)})(e),b(null)},children:"Edit"}),(0,Fe.jsx)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this crop entry?"))try{await Oe.fpoAPI.deleteCrop(n,e),alert("Crop entry deleted successfully!"),N()}catch(a){var t,s;console.error("Error deleting crop entry:",a),alert("Error deleting crop entry: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}})(e.id),b(null)},children:"Delete"})]})]})})]},e.id||t)))})]})})]})]}),p&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:g?"Edit Crop Entry":"Add Crop Entry"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>{f(!1),v(null),j({cropYear:"",cropName:"",area:"",production:""})},children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"form-modal-body",children:(0,Fe.jsxs)("form",{onSubmit:g?async e=>{e.preventDefault();try{const e={farmerId:null,cropName:y.cropName,variety:"Default Variety",area:parseFloat(y.area)||0,season:"KHARIF",sowingDate:(new Date).toISOString().split("T")[0],expectedHarvestDate:null,expectedYield:parseFloat(y.production)||0,marketPrice:null,soilType:null,irrigationMethod:null,seedSource:null,fertilizerUsed:null,pesticideUsed:null,remarks:null,photoFileName:null};console.log("Updating crop entry:",g.id,"with data:",e),await Oe.fpoAPI.updateCrop(n,g.id,e),f(!1),v(null),j({cropYear:"",cropName:"",area:"",production:""}),alert("Crop entry updated successfully!"),N()}catch(a){var t,s;console.error("Error updating crop entry:",a),alert("Error updating crop entry: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}}:async e=>{e.preventDefault();try{const e={farmerId:null,cropName:y.cropName,variety:"Default Variety",area:parseFloat(y.area)||0,season:"KHARIF",sowingDate:(new Date).toISOString().split("T")[0],expectedHarvestDate:null,expectedYield:parseFloat(y.production)||0,marketPrice:null,soilType:null,irrigationMethod:null,seedSource:null,fertilizerUsed:null,pesticideUsed:null,remarks:null,photoFileName:null};console.log("Creating crop entry with data:",e),console.log("FPO ID:",n);const t=await Oe.fpoAPI.createCrop(n,e);console.log("Crop entry created successfully:",t),f(!1),j({cropYear:"",cropName:"",area:"",production:""}),setTimeout(()=>{N()},500),alert("Crop entry created successfully!")}catch(a){var t,s;console.error("Error creating crop entry:",a),alert("Error creating crop entry: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}},children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Crop Year *"}),(0,Fe.jsxs)("select",{value:y.cropYear,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{cropYear:e.target.value})),required:!0,className:y.cropYear?"":"required-field",children:[(0,Fe.jsx)("option",{value:"",children:"Select Crop Year"}),(()=>{const e=[],t=(new Date).getFullYear();for(let s=t-5;s<=t+5;s++)e.push({value:s,label:"".concat(s,"-").concat(s+1)});return e})().map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Crop Name *"}),(0,Fe.jsx)("input",{type:"text",value:y.cropName,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{cropName:e.target.value})),placeholder:"Enter crop name",required:!0,className:y.cropName?"":"required-field"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Area (in Acres) *"}),(0,Fe.jsx)("input",{type:"number",value:y.area,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{area:e.target.value})),placeholder:"Enter area in acres",required:!0,min:"0",step:"0.01",className:y.area?"":"required-field"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Production (in Metric Tons) *"}),(0,Fe.jsx)("input",{type:"number",value:y.production,onChange:e=>j((0,Ue.A)((0,Ue.A)({},y),{},{production:e.target.value})),placeholder:"Enter production in metric tons",required:!0,min:"0",step:"0.01",className:y.production?"":"required-field"})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"cancel-btn",onClick:()=>{f(!1),v(null),j({cropYear:"",cropName:"",area:"",production:""})},children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"submit-btn ".concat(y.cropYear&&y.cropName&&y.area&&y.production?"":"disabled"),disabled:!y.cropYear||!y.cropName||!y.area||!y.production,children:g?"Update":"Create"})]})]})})]})})]}):null},Qs=["admin","employee","farmer","fpo"],Xs=e=>{let{isOpen:s,onClose:a,fpoId:n}=e;const[i,r]=(0,t.useState)([]),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(!1),[m,p]=(0,t.useState)(null),[f,g]=(0,t.useState)({email:"",phoneNumber:"",firstName:"",lastName:"",role:"",password:""}),[v,x]=(0,t.useState)(null),[b,y]=(0,t.useState)(!1),[j,N]=(0,t.useState)(null),[w,S]=(0,t.useState)("");(0,t.useEffect)(()=>{s&&n&&k()},[s,n]),(0,t.useEffect)(()=>{const e=e=>{v&&!e.target.closest(".action-dropdown")&&x(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[v]);const k=async()=>{try{o(!0);const e=await Oe.fpoUsersAPI.list(n),t=(null===e||void 0===e?void 0:e.data)||e||[];r(Array.isArray(t)?t:[])}finally{o(!1)}},C=i.filter(e=>((e.firstName||"")+" "+(e.lastName||"")).toLowerCase().includes(c.toLowerCase())||(e.email||"").toLowerCase().includes(c.toLowerCase())||(e.phoneNumber||"").includes(c));return s?(0,Fe.jsxs)("div",{className:"modal-overlay",children:[(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:"FPO's Users List"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsx)("div",{className:"create-section",children:(0,Fe.jsx)("button",{className:"create-button",onClick:()=>{p(null),g({email:"",phoneNumber:"",firstName:"",lastName:"",role:"",password:""}),h(!0)},children:"+ Create FPO User"})}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsx)("div",{className:"filter-label",children:"FILTER"}),(0,Fe.jsxs)("div",{className:"filter-inputs",children:[(0,Fe.jsx)("input",{className:"search-input",placeholder:"Search here...",value:c,onChange:e=>d(e.target.value)}),(0,Fe.jsx)("input",{className:"date-range-input",placeholder:"Enter a date range",readOnly:!0}),(0,Fe.jsx)("div",{className:"date-format-hint",children:"MM/DD/YYYY - MM/DD/YYYY"})]})]}),(0,Fe.jsx)("div",{className:"table-container",children:(0,Fe.jsxs)("table",{className:"turnover-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Cust Id"}),(0,Fe.jsx)("th",{children:"Full name"}),(0,Fe.jsx)("th",{children:"User Type"}),(0,Fe.jsx)("th",{children:"Email"}),(0,Fe.jsx)("th",{children:"Phone number"}),(0,Fe.jsx)("th",{children:"Join Date"}),(0,Fe.jsx)("th",{children:"Active Status"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:l?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"8",className:"loading-cell",children:"Loading..."})}):0===C.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"8",className:"no-data-cell",children:"No data"})}):C.map((e,t)=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:e.id||t+1}),(0,Fe.jsx)("td",{children:"".concat(e.firstName||""," ").concat(e.lastName||"")}),(0,Fe.jsx)("td",{children:e.role||"-"}),(0,Fe.jsx)("td",{children:e.email||"-"}),(0,Fe.jsx)("td",{children:e.phoneNumber||"-"}),(0,Fe.jsx)("td",{children:e.createdAt||"-"}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("label",{className:"status-toggle",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:"APPROVED"===e.status,onChange:()=>(async e=>{r(t=>t.map(t=>t.id===e.id?(0,Ue.A)((0,Ue.A)({},t),{},{status:"APPROVED"===t.status?"REJECTED":"APPROVED"}):t));try{await Oe.fpoUsersAPI.toggleActive(n,e.id,!("APPROVED"===e.status))}catch(a){var t,s;alert("Error updating status: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message)),k()}})(e)}),(0,Fe.jsx)("span",{className:"status-slider"})]})}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>x(v===e.id?null:e.id),children:"\u22ef"}),v===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsx)("button",{className:"dropdown-item edit-item",onClick:()=>{p(e),g({email:e.email,phoneNumber:e.phoneNumber,firstName:e.firstName,lastName:e.lastName,role:e.role,password:""}),h(!0),x(null)},children:"Edit"}),(0,Fe.jsx)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{N(e),S(""),y(!0)})(e),x(null)},children:"Edit Password"})]})]})})]},e.id||t))})]})})]})]}),u&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:"Add User"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>{h(!1)},children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"form-modal-body",children:(0,Fe.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await Oe.fpoUsersAPI.create(n,f),h(!1),g({email:"",phoneNumber:"",firstName:"",lastName:"",role:"",password:""}),setTimeout(k,300)}catch(a){var t,s;alert("Error creating user: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}},children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Email *"}),(0,Fe.jsx)("input",{type:"email",value:f.email,onChange:e=>g((0,Ue.A)((0,Ue.A)({},f),{},{email:e.target.value})),required:!0,className:f.email?"":"required-field"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Phone Number *"}),(0,Fe.jsx)("input",{type:"tel",value:f.phoneNumber,onChange:e=>g((0,Ue.A)((0,Ue.A)({},f),{},{phoneNumber:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"First Name *"}),(0,Fe.jsx)("input",{value:f.firstName,onChange:e=>g((0,Ue.A)((0,Ue.A)({},f),{},{firstName:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Last Name *"}),(0,Fe.jsx)("input",{value:f.lastName,onChange:e=>g((0,Ue.A)((0,Ue.A)({},f),{},{lastName:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"User Type *"}),(0,Fe.jsxs)("select",{value:f.role,onChange:e=>g((0,Ue.A)((0,Ue.A)({},f),{},{role:e.target.value})),required:!0,className:f.role?"":"required-field",children:[(0,Fe.jsx)("option",{value:"",children:"Select"}),Qs.map(e=>(0,Fe.jsx)("option",{value:e.toUpperCase(),children:e},e))]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Password *"}),(0,Fe.jsx)("input",{type:"password",value:f.password,onChange:e=>g((0,Ue.A)((0,Ue.A)({},f),{},{password:e.target.value})),required:!0})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"cancel-btn",onClick:()=>h(!1),children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"submit-btn ".concat(f.email&&f.phoneNumber&&f.firstName&&f.lastName&&f.role&&f.password?"":"disabled"),disabled:!f.email||!f.phoneNumber||!f.firstName||!f.lastName||!f.role||!f.password,children:"Create"})]})]})})]})}),b&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:"Update Password"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>y(!1),children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"form-modal-body",children:(0,Fe.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await Oe.fpoUsersAPI.updatePassword(n,j.id,w),y(!1),alert("Password updated")}catch(a){var t,s;alert("Error updating password: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message))}},children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Enter First name *"}),(0,Fe.jsx)("input",{value:(null===j||void 0===j?void 0:j.firstName)||"",disabled:!0})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Enter Last name *"}),(0,Fe.jsx)("input",{value:(null===j||void 0===j?void 0:j.lastName)||"",disabled:!0})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Enter email *"}),(0,Fe.jsx)("input",{value:(null===j||void 0===j?void 0:j.email)||"",disabled:!0})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{gridColumn:"1 / span 2"},children:[(0,Fe.jsx)("label",{children:"Enter Password *"}),(0,Fe.jsx)("input",{type:"password",value:w,onChange:e=>S(e.target.value),required:!0})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"cancel-btn",onClick:()=>y(!1),children:"Close"}),(0,Fe.jsx)("button",{type:"submit",className:"submit-btn ".concat(w?"":"disabled"),disabled:!w,children:"Update Password"})]})]})})]})})]}):null},Zs=e=>{let{fpoId:s}=e;const[a,n]=(0,t.useState)([]),[i,r]=(0,t.useState)(!0),[l,o]=(0,t.useState)(null);(0,t.useEffect)(()=>{c()},[s]);const c=async()=>{try{r(!0);const e=await Oe.fpoAPI.getFPONotifications(s);n(e)}catch(e){o("Failed to load notifications"),console.error("Error loading notifications:",e)}finally{r(!1)}};return i?(0,Fe.jsx)("div",{className:"loading",children:"Loading notifications..."}):l?(0,Fe.jsxs)("div",{className:"error",children:["Error: ",l]}):(0,Fe.jsxs)("div",{className:"fpo-notifications",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h3",{children:"Notifications & Updates"}),(0,Fe.jsx)("button",{className:"btn btn-primary",children:"Create Notification"})]}),(0,Fe.jsx)("div",{className:"notifications-list",children:0===a.length?(0,Fe.jsx)("div",{className:"no-data",children:"No notifications found"}):a.map(e=>(0,Fe.jsxs)("div",{className:"notification-card ".concat(e.status.toLowerCase()),children:[(0,Fe.jsxs)("div",{className:"notification-header",children:[(0,Fe.jsx)("h4",{children:e.title}),(0,Fe.jsxs)("div",{className:"notification-meta",children:[(0,Fe.jsx)("span",{className:"type-badge ".concat(e.type.toLowerCase().replace("_","-")),children:e.type.replace("_"," ")}),(0,Fe.jsx)("span",{className:"status-badge ".concat(e.status.toLowerCase()),children:e.status})]})]}),(0,Fe.jsxs)("div",{className:"notification-body",children:[(0,Fe.jsx)("p",{className:"message",children:e.message}),(0,Fe.jsxs)("div",{className:"notification-details",children:[(0,Fe.jsxs)("span",{className:"created-at",children:["Created: ",new Date(e.createdAt).toLocaleString()]}),e.priority&&(0,Fe.jsxs)("span",{className:"priority ".concat(e.priority.toLowerCase()),children:["Priority: ",e.priority]})]})]}),(0,Fe.jsxs)("div",{className:"notification-actions",children:["UNREAD"===e.status&&(0,Fe.jsx)("button",{className:"btn btn-success btn-sm",onClick:()=>(async e=>{try{await Oe.fpoAPI.markNotificationAsRead(s,e),n(t=>t.map(t=>t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{status:"READ"}):t))}catch(t){console.error("Error marking notification as read:",t)}})(e.id),children:"Mark as Read"}),(0,Fe.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(async e=>{try{await Oe.fpoAPI.deleteNotification(s,e),n(t=>t.filter(t=>t.id!==e))}catch(t){console.error("Error deleting notification:",t)}})(e.id),children:"Delete"})]})]},e.id))})]})},ea=e=>{let{initialTab:s="overview",fpoId:a}=e;const{user:n,logout:i}=_e(),{fpoId:r}=te(),l=a||r,[o,c]=(0,t.useState)(s),[d,u]=(0,t.useState)([]),[h,m]=(0,t.useState)(null),[p,f]=(0,t.useState)(!0),[g,v]=(0,t.useState)(null),[x,b]=(0,t.useState)(!1),[y,j]=(0,t.useState)(!1),[N,w]=(0,t.useState)({totalFPOs:0,activeFPOs:0,totalMembers:0,totalServices:0});(0,t.useEffect)(()=>{S(),k()},[]),(0,t.useEffect)(()=>{s&&s!==o&&c(s)},[s]),(0,t.useEffect)(()=>{(async()=>{if(l)try{const e=await Oe.fpoAPI.getFPOById(l);e&&(m(e),c(s||"overview"))}catch(e){console.error("Failed to load FPO by id for dashboard:",e)}})()},[l]);const S=async()=>{try{f(!0);const e=await Oe.fpoAPI.getAllFPOs(),t=Array.isArray(e)?e:(null===e||void 0===e?void 0:e.content)||(null===e||void 0===e?void 0:e.data)||[];u(t)}catch(e){v("Failed to load FPOs"),console.error("Error loading FPOs:",e)}finally{f(!1)}},k=async()=>{try{const[e,t]=await Promise.all([Oe.fpoAPI.getTotalFPOsCount(),Oe.fpoAPI.getActiveFPOsCount()]);w({totalFPOs:e.data,activeFPOs:t.data,totalMembers:0,totalServices:0})}catch(e){console.error("Error loading stats:",e)}},C=e=>{u(t=>t.map(t=>t.id===e.id?e:t))},A=e=>{u(t=>t.filter(t=>t.id!==e)),h&&h.id===e&&m(null),k()};return(0,Fe.jsxs)("div",{className:"dashboard",children:[(0,Fe.jsxs)("header",{className:"dashboard-header",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{children:"FPO Management Dashboard"}),(0,Fe.jsxs)("p",{className:"greeting",children:[(()=>{const e=(new Date).getHours();return e<12?"Good Morning":e<18?"Good Afternoon":"Good Evening"})(),", ",(null===n||void 0===n?void 0:n.name)||"User","!"]})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)(Is,{user:n,onLogout:i})})]}),(0,Fe.jsxs)("div",{className:"dashboard-content",children:[(0,Fe.jsx)("div",{className:"dashboard-sidebar",children:(0,Fe.jsxs)("nav",{className:"sidebar-nav",children:[(0,Fe.jsxs)("div",{className:"nav-item ".concat("overview"===o?"active":""),onClick:()=>c("overview"),children:[(0,Fe.jsx)("i",{className:"fas fa-th-large"}),(0,Fe.jsx)("span",{children:"Overview"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("board-members"===o?"active":""," ").concat(h?"":"disabled"),onClick:()=>h&&c("board-members"),children:[(0,Fe.jsx)("i",{className:"fas fa-users"}),(0,Fe.jsx)("span",{children:"Board Members"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("services"===o?"active":""," ").concat(h?"":"disabled"),onClick:()=>h&&c("services"),children:[(0,Fe.jsx)("i",{className:"fas fa-tools"}),(0,Fe.jsx)("span",{children:"Services"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("crops"===o?"active":""," ").concat(h?"":"disabled"),onClick:()=>h&&c("crops"),children:[(0,Fe.jsx)("i",{className:"fas fa-seedling"}),(0,Fe.jsx)("span",{children:"Crops"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("turnover"===o?"active":""," ").concat(h?"":"disabled"),onClick:()=>h&&c("turnover"),children:[(0,Fe.jsx)("i",{className:"fas fa-rupee-sign"}),(0,Fe.jsx)("span",{children:"Turnover"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("products"===o?"active":""," ").concat(h?"":"disabled"),onClick:()=>h&&c("products"),children:[(0,Fe.jsx)("i",{className:"fas fa-box"}),(0,Fe.jsx)("span",{children:"Products"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("notifications"===o?"active":""," ").concat(h?"":"disabled"),onClick:()=>h&&c("notifications"),children:[(0,Fe.jsx)("i",{className:"fas fa-bell"}),(0,Fe.jsx)("span",{children:"Notifications"})]})]})}),(0,Fe.jsxs)("div",{className:"dashboard-main",children:[h&&(0,Fe.jsxs)("div",{className:"selected-fpo-info",children:[(0,Fe.jsxs)("h3",{children:["Selected FPO: ",h.fpoName]}),(0,Fe.jsxs)("p",{children:["FPO ID: ",h.fpoId," | CEO: ",h.ceoName]})]}),(0,Fe.jsx)("div",{className:"tab-content",children:(()=>{switch(o){case"overview":return h?(0,Fe.jsxs)("div",{className:"fpo-detail-overview",children:[(0,Fe.jsxs)("h2",{style:{marginBottom:16},children:[h.fpoName," (",h.fpoId,")"]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 320px",gap:20},children:[(0,Fe.jsxs)("div",{className:"card",style:{background:"#fff",borderRadius:12,padding:20},children:[(0,Fe.jsxs)("h3",{style:{marginTop:0},children:[h.fpoName," (",h.fpoId,")"]}),(0,Fe.jsxs)("div",{style:{lineHeight:"28px"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Reg No:"})," ",h.registrationNumber||"-"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Email:"})," ",h.email||"-"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Phone:"})," ",h.phoneNumber||"-"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"CEO:"})," ",h.ceoName||"-"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Address:"})," ",(h.village||"")+(h.village?", ":"")+(h.district||"")+(h.district?", ":"")+(h.state||"")+(h.pincode?" - "+h.pincode:"")]})]})]}),(0,Fe.jsxs)("div",{className:"card",style:{background:"#fff",borderRadius:12,padding:20},children:[(0,Fe.jsx)("div",{style:{fontWeight:700,textAlign:"center"},children:"Status:"}),(0,Fe.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:12},children:(0,Fe.jsx)("span",{style:{background:"#fde68a",color:"#92400e",padding:"6px 10px",borderRadius:10},children:(h.status||"").toString().replace("_"," ")||"PENDING"})}),(0,Fe.jsx)("div",{style:{fontWeight:700,textAlign:"center",marginTop:20},children:"Joined:"}),(0,Fe.jsx)("div",{style:{textAlign:"center",marginTop:8},children:h.joinDate||"-"})]})]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginTop:24},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{children:"Farm Services"}),(0,Fe.jsx)("button",{className:"btn btn-primary",onClick:()=>j(!0),children:"+ Create Farm Service"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{children:"Turnovers"}),(0,Fe.jsx)(Bs,{fpoId:h.id})]})]}),(0,Fe.jsxs)("div",{style:{marginTop:24},children:[(0,Fe.jsx)("h3",{children:"Board Members"}),(0,Fe.jsx)(Ms,{fpoId:h.id})]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginTop:24},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{children:"Products Sold"}),(0,Fe.jsx)(zs,{fpoId:h.id})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{children:"Crop Entries"}),(0,Fe.jsx)(Us,{fpoId:h.id})]})]})]}):(0,Fe.jsxs)("div",{className:"fpo-overview",children:[(0,Fe.jsxs)("div",{className:"stats-grid",children:[(0,Fe.jsx)(Cs,{title:"Total FPOs",value:N.totalFPOs,icon:"\ud83c\udfe2",color:"blue"}),(0,Fe.jsx)(Cs,{title:"Active FPOs",value:N.activeFPOs,icon:"\u2705",color:"green"}),(0,Fe.jsx)(Cs,{title:"Total Members",value:N.totalMembers,icon:"\ud83d\udc65",color:"purple"}),(0,Fe.jsx)(Cs,{title:"Total Services",value:N.totalServices,icon:"\ud83d\udd27",color:"orange"})]}),(0,Fe.jsxs)("div",{className:"fpo-list-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h3",{children:"FPO Management"}),(0,Fe.jsx)("button",{className:"btn btn-primary",onClick:()=>b(!0),children:"Create New FPO"})]}),(0,Fe.jsx)(Ts,{fpos:d,onFPOSelect:m,onFPOUpdate:C,onFPODelete:A,loading:p,error:g})]})]});case"board-members":return h?(0,Fe.jsx)(Ms,{fpoId:h.id}):(0,Fe.jsx)("div",{className:"no-selection",children:(0,Fe.jsx)("p",{children:"Please select an FPO to manage board members"})});case"services":return h?(0,Fe.jsxs)("div",{className:"services-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h3",{children:"Farm Services"}),(0,Fe.jsx)("button",{className:"btn btn-primary",onClick:()=>j(!0),children:"+ Create Farm Service"})]}),(0,Fe.jsx)("div",{className:"services-info",children:(0,Fe.jsx)("p",{children:"Manage farm services for this FPO. Click the button above to create, edit, or manage services."})})]}):(0,Fe.jsx)("div",{className:"no-selection",children:(0,Fe.jsx)("p",{children:"Please select an FPO to manage services"})});case"crops":return h?(0,Fe.jsx)(Us,{fpoId:h.id}):(0,Fe.jsx)("div",{className:"no-selection",children:(0,Fe.jsx)("p",{children:"Please select an FPO to manage crops"})});case"turnover":return h?(0,Fe.jsx)(Bs,{fpoId:h.id}):(0,Fe.jsx)("div",{className:"no-selection",children:(0,Fe.jsx)("p",{children:"Please select an FPO to manage turnover"})});case"products":return h?(0,Fe.jsx)(zs,{fpoId:h.id}):(0,Fe.jsx)("div",{className:"no-selection",children:(0,Fe.jsx)("p",{children:"Please select an FPO to manage products"})});case"notifications":return h?(0,Fe.jsx)(Zs,{fpoId:h.id}):(0,Fe.jsx)("div",{className:"no-selection",children:(0,Fe.jsx)("p",{children:"Please select an FPO to manage notifications"})});default:return null}})()})]})]}),x&&(0,Fe.jsx)(Os,{onClose:()=>b(!1),onFPOCreated:e=>{u(t=>[...t,e]),b(!1),k()}}),y&&h&&(0,Fe.jsx)(Ws,{isOpen:y,onClose:()=>j(!1),fpoId:h.id,fpoName:h.fpoName})]})},ta=()=>{var e,s;const{user:a,logout:n}=_e(),[i,r]=(0,t.useState)("overview"),[l,o]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[m,p]=(0,t.useState)(""),[f,g]=(0,t.useState)(!1),[v,x]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[j,N]=(0,t.useState)(!1),[w,S]=(0,t.useState)(!1),[k,C]=(0,t.useState)(null),[A,E]=(0,t.useState)(!1),[P,I]=(0,t.useState)(null),[F,D]=(0,t.useState)(!1),[_,T]=(0,t.useState)(null),[O,R]=(0,t.useState)(null),[M,L]=(0,t.useState)(!1),[U,B]=(0,t.useState)(null),[z,V]=(0,t.useState)(null),[Y,q]=(0,t.useState)(null),[W,H]=(0,t.useState)(!1),[K,$]=(0,t.useState)(!1),[G,J]=(0,t.useState)(null),[Q,X]=(0,t.useState)(null),[Z,ee]=(0,t.useState)(!1),[te,se]=(0,t.useState)(null),[ae,ne]=(0,t.useState)(!1),[ie,re]=(0,t.useState)(null),[le,oe]=(0,t.useState)(!1),[ce,de]=(0,t.useState)(null),[ue,he]=(0,t.useState)(!1),[me,pe]=(0,t.useState)(null),[fe,ge]=(0,t.useState)(!1),[ve,xe]=(0,t.useState)(null),[be,ye]=(0,t.useState)(!1),[je,Ne]=(0,t.useState)(null),[we,Se]=(0,t.useState)(!1),[ke,Ce]=(0,t.useState)(null),[Ae,Ee]=(0,t.useState)(!1),[Pe,Ie]=(0,t.useState)(null),[De,Te]=(0,t.useState)(!1),[Re,Me]=(0,t.useState)(null),[Le,ze]=(0,t.useState)(null),[Ve,Ye]=(0,t.useState)("overview"),[qe,We]=(0,t.useState)({state:"",district:"",status:"",registrationType:""}),[He,Ke]=(0,t.useState)([]),[$e,Ge]=(0,t.useState)(!0),[Je,Qe]=(0,t.useState)(null),[Xe,Ze]=(0,t.useState)(!1),[et,tt]=(0,t.useState)(null),[st,at]=(0,t.useState)(!1),[nt,it]=(0,t.useState)(null),[rt,lt]=(0,t.useState)(null),[ot,ct]=(0,t.useState)(!1),[dt,ut]=(0,t.useState)(!1),[ht,mt]=(0,t.useState)({role:"",status:""}),[pt,ft]=(0,t.useState)({state:"",district:"",region:"",kycStatus:"",assignmentStatus:"",employeeFilter:""}),[gt,vt]=(0,t.useState)(!1),[xt,bt]=(0,t.useState)(!1),[yt,jt]=(0,t.useState)(null),[Nt,wt]=(0,t.useState)("all"),St=[{title:"\ud83c\udf1e Good Morning!",subtitle:"Wishing you a bright and productive day ahead filled with positivity."},{title:"\ud83c\udf38 Hello & Warm Greetings!",subtitle:"May your day be filled with joy, success, and wonderful moments."},{title:"\ud83d\ude4c Hi There!",subtitle:"Hope you are doing well and everything is going smoothly on your end."},{title:"\ud83c\udf1f Season Greetings!",subtitle:"Sending best wishes for peace, happiness, and good health."},{title:"\ud83e\udd1d Greetings of the Day!",subtitle:"May this day bring you opportunities, growth, and good fortune."}],[kt,Ct]=(0,t.useState)(St[0]);(0,t.useEffect)(()=>{const e=Math.floor(Math.random()*St.length);Ct(St[e])},[]),(0,t.useEffect)(()=>{At();const e=e=>{console.log("\ud83d\udd04 Admin Dashboard: KYC status updated, refreshing data..."),console.log("\ud83d\udcca KYC Update details:",e.detail),setTimeout(()=>{console.log("\ud83d\udd04 Refreshing Admin data after KYC update..."),At()},2e3)};return window.addEventListener("kycStatusUpdated",e),()=>{window.removeEventListener("kycStatusUpdated",e)}},[]);const At=async()=>{try{Ge(!0);const[e,t,s,a]=await Promise.all([Oe.adminAPI.getRegistrationList(),Oe.adminAPI.getFarmersWithKyc(),Oe.adminAPI.getEmployeesWithStats(),Oe.fpoAPI.getAllFPOs()]);t&&o(t),s&&d(s),Ke(e||[]);const n=Array.isArray(a)?a:(null===a||void 0===a?void 0:a.content)||(null===a||void 0===a?void 0:a.items)||(null===a||void 0===a?void 0:a.data)||[];h(n||[]),console.log("\ud83d\udcca FPOs data loaded in Admin dashboard:",(null===n||void 0===n?void 0:n.length)||0,"records")}catch(Je){console.error("Error fetching data:",Je),Qe("Failed to fetch data. Please try again.");try{const e=await Oe.adminAPI.getFarmersWithKyc();e&&o(e)}catch(Qh){console.error("Failed to fetch farmers:",Qh)}try{const e=await Oe.adminAPI.getEmployeesWithStats();e&&d(e)}catch(Qh){console.error("Failed to fetch employees:",Qh)}try{const e=await Oe.adminAPI.getRegistrationList();e&&Ke(e)}catch(Qh){console.error("Failed to fetch registrations:",Qh),Ke([])}try{const e=await Oe.fpoAPI.getAllFPOs(),t=Array.isArray(e)?e:(null===e||void 0===e?void 0:e.content)||(null===e||void 0===e?void 0:e.items)||(null===e||void 0===e?void 0:e.data)||[];h(t||[]),console.log("\ud83d\udcca FPOs data loaded in Admin dashboard (fallback):",(null===t||void 0===t?void 0:t.length)||0,"records")}catch(Qh){console.error("Failed to fetch FPOs:",Qh),h([])}}finally{Ge(!1)}},Et=e=>{lt(e)},Pt=()=>{At()},It=async e=>{try{await Oe.adminAPI.approveUser(e,"FARMER"),Ke(t=>t.map(t=>t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{status:"APPROVED"}):t)),alert("Registration approved successfully!")}catch(Je){console.error("Error approving registration:",Je),alert("Failed to approve registration. Please try again.")}},Ft=async e=>{try{await Oe.adminAPI.rejectUser(e,"Rejected by Admin"),Ke(t=>t.map(t=>t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{status:"REJECTED"}):t)),alert("Registration rejected successfully!")}catch(Je){console.error("Error rejecting registration:",Je),alert("Failed to reject registration. Please try again.")}},Dt=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),0,1),n=(e,n)=>{if(!e)return!1;const i=new Date(e);switch(n){case"today":return i>=t;case"month":return i>=s;case"year":return i>=a;default:return!0}},i=(l||[]).filter(e=>{const t=e.createdAt||e.created_at||e.registrationDate||e.assignedDate;return n(t,Nt)}),r=(c||[]).filter(e=>{const t=e.createdAt||e.created_at||e.registrationDate;return n(t,Nt)}),o=(u||[]).filter(e=>{const t=e.createdAt||e.created_at||e.registrationDate||e.joinDate;return n(t,Nt)}),d="all"===Nt?(null===l||void 0===l?void 0:l.length)||0:i.length,h="all"===Nt?(null===c||void 0===c?void 0:c.length)||0:r.length,m="all"===Nt?(null===u||void 0===u?void 0:u.length)||0:o.length,p=i.filter(e=>!e.assignedEmployee||"Not Assigned"===e.assignedEmployee).length,f=i.filter(e=>"PENDING"===e.kycStatus||"pending"===e.kycStatus||"NOT_STARTED"===e.kycStatus||"not_started"===e.kycStatus).length,g=i.filter(e=>"APPROVED"===e.kycStatus||"approved"===e.kycStatus).length,v=i.filter(e=>"REFER_BACK"===e.kycStatus||"refer_back"===e.kycStatus).length,x=i.filter(e=>"REJECTED"===e.kycStatus||"rejected"===e.kycStatus).length;return console.log("Admin Stats calculated from real data:"),console.log("- Total Farmers:",d),console.log("- Total Employees:",h),console.log("- Total FPOs:",m),console.log("- Unassigned Farmers:",p),console.log("- Pending KYC:",f),console.log("- Approved KYC:",g),console.log("- Refer Back KYC:",v),console.log("- Rejected KYC:",x),{totalFarmers:d,totalEmployees:h,totalFPOs:m,unassignedFarmers:p,pendingKYC:f,approvedKYC:g,referBackKYC:v,rejectedKYC:x,timeFilter:Nt}},_t=async e=>{try{const t=await fetch("/api/admin/farmers/".concat(e.id),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(e=>e.json());T(null),C((0,Ue.A)((0,Ue.A)({},e),t)),S(!1),R((0,Ue.A)((0,Ue.A)({},e),t))}catch(Qh){R(e)}},Tt=async e=>{try{const t=await Oe.adminAPI.getEmployeeById(e.id);T(t)}catch(Je){console.error("Error fetching employee details:",Je),T(e)}},Ot=async e=>{try{const t=await Oe.adminAPI.updateEmployee(P.id,e);d(e=>e.map(e=>e.id===P.id?t:e)),I(t),alert("Employee updated successfully!")}catch(Je){console.error("Error updating employee:",Je),alert("Failed to update employee. Please try again.")}},Rt=e=>{B(e),L(!0)},Mt=e=>{V(e),y(!0)},Lt=e=>{q(e),N(!0)},Ut=async e=>{try{var t;const n=e.map(e=>e.farmerId),i=null===(t=e[0])||void 0===t?void 0:t.employeeId;if(!i||0===n.length)return void alert("Please select an employee and at least one farmer");try{await Oe.adminAPI.bulkAssignFarmers(n,i)}catch(s){console.log("Bulk assign failed, trying individual assignments...");for(const e of n)try{await Oe.adminAPI.assignFarmer(e,i)}catch(a){console.error("Failed to assign farmer ".concat(e,":"),a)}}o(t=>t.map(t=>{const s=e.find(e=>e.farmerId===t.id);return s?(0,Ue.A)((0,Ue.A)({},t),{},{assignmentStatus:"ASSIGNED",assignedEmployee:s.employeeName,assignedDate:(new Date).toISOString().split("T")[0]}):t})),g(!1),alert("Farmers assigned successfully!")}catch(Je){console.error("Error assigning farmers:",Je),alert("Failed to assign farmers")}};return(0,Fe.jsxs)("div",{className:"dashboard",children:[(0,Fe.jsxs)("div",{className:"dashboard-header",children:[(0,Fe.jsx)("div",{className:"header-left",children:(0,Fe.jsxs)("div",{className:"logo-section",children:[(0,Fe.jsx)("h1",{className:"logo-title",children:"DATE"}),(0,Fe.jsx)("p",{className:"logo-subtitle",children:"Digital Agristack"})]})}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsxs)("div",{className:"user-profile-dropdown",children:[(0,Fe.jsxs)("div",{className:"user-profile-trigger",onClick:()=>{vt(!gt)},children:[(0,Fe.jsx)("div",{className:"user-avatar",children:(null===a||void 0===a||null===(e=a.name)||void 0===e?void 0:e.charAt(0))||"A"}),(0,Fe.jsx)("span",{className:"user-email",children:(null===a||void 0===a?void 0:a.email)||"admin@example.com"}),(0,Fe.jsx)("i",{className:"fas fa-chevron-down dropdown-arrow ".concat(gt?"rotated":"")})]}),(0,Fe.jsxs)("div",{className:"user-dropdown-menu ".concat(gt?"show":""),children:[(0,Fe.jsxs)("div",{className:"dropdown-header",children:[(0,Fe.jsx)("div",{className:"user-avatar-large",children:(null===a||void 0===a||null===(s=a.name)||void 0===s?void 0:s.charAt(0))||"A"}),(0,Fe.jsxs)("div",{className:"user-details",children:[(0,Fe.jsx)("div",{className:"user-name-large",children:(null===a||void 0===a?void 0:a.name)||"Admin"}),(0,Fe.jsx)("div",{className:"user-email",children:(null===a||void 0===a?void 0:a.email)||"admin@example.com"})]})]}),(0,Fe.jsxs)("div",{className:"dropdown-actions",children:[(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>{window.location.href="/change-password"},children:[(0,Fe.jsx)("i",{className:"fas fa-key"}),"Change Password"]}),(0,Fe.jsxs)("button",{className:"dropdown-action-btn logout",onClick:()=>{n()},children:[(0,Fe.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]})]})})]}),(0,Fe.jsxs)("div",{className:"dashboard-sidebar",children:[(0,Fe.jsxs)("div",{className:"sidebar-header",children:[(0,Fe.jsx)("h2",{className:"sidebar-welcome",children:"Welcome!!!"}),(0,Fe.jsx)("div",{className:"sidebar-role",children:"Admin"})]}),(0,Fe.jsxs)("div",{className:"sidebar-nav",children:[(0,Fe.jsxs)("div",{className:"nav-item ".concat("overview"===i?"active":""),onClick:()=>r("overview"),children:[(0,Fe.jsx)("i",{className:"fas fa-th-large"}),(0,Fe.jsx)("span",{children:"Dashboard Overview"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("registration"===i?"active":""),onClick:()=>r("registration"),children:[(0,Fe.jsx)("i",{className:"fas fa-user-plus"}),(0,Fe.jsx)("span",{children:"Registration"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("farmers"===i?"active":""),onClick:()=>r("farmers"),children:[(0,Fe.jsx)("i",{className:"fas fa-users"}),(0,Fe.jsx)("span",{children:"Farmers"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("employees"===i?"active":""),onClick:()=>r("employees"),children:[(0,Fe.jsx)("i",{className:"fas fa-user-tie"}),(0,Fe.jsx)("span",{children:"Employees"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("fpo"===i?"active":""),onClick:()=>r("fpo"),children:[(0,Fe.jsx)("i",{className:"fas fa-building"}),(0,Fe.jsx)("span",{children:"FPO"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("kyc-overview"===i?"active":""),onClick:()=>r("kyc-overview"),children:[(0,Fe.jsx)("i",{className:"fas fa-clipboard-check"}),(0,Fe.jsx)("span",{children:"KYC Overview"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("bulk-operations"===i?"active":""),onClick:()=>r("bulk-operations"),children:[(0,Fe.jsx)("i",{className:"fas fa-tasks"}),(0,Fe.jsx)("span",{children:"Bulk Operations"})]})]})]}),(0,Fe.jsx)("div",{className:"dashboard-main",children:(0,Fe.jsxs)("div",{className:"dashboard-content",children:["overview"===i&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"greeting-banner",children:[(0,Fe.jsxs)("div",{className:"greeting-left",children:[(0,Fe.jsx)("div",{className:"greeting-title",children:kt.title}),(0,Fe.jsx)("div",{className:"greeting-subtitle",children:kt.subtitle})]}),(0,Fe.jsx)("div",{className:"greeting-right",children:(0,Fe.jsx)("span",{className:"greeting-date",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]}),(0,Fe.jsxs)("div",{className:"welcome-section",children:[(0,Fe.jsx)("h1",{className:"welcome-title",children:"Welcome to DATE Digital Agristack!"}),(0,Fe.jsx)("p",{className:"welcome-subtitle",children:"Empowering your agricultural journey with data-driven insights and seamless management. Explore your dashboard below."})]}),(()=>{const e=Dt();return(0,Fe.jsxs)("div",{className:"overview-section",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:"Admin Dashboard Overview"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Manage farmers, employees, and assignments efficiently."})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsxs)("div",{className:"overview-actions",children:[(0,Fe.jsxs)("button",{className:"action-btn refresh ".concat("all"===Nt?"active":""),onClick:()=>{console.log("\ud83d\udd04 Refresh clicked - showing all data"),wt("all")},children:[(0,Fe.jsx)("i",{className:"fas fa-sync-alt"}),"Refresh"]}),(0,Fe.jsx)("button",{className:"action-btn today ".concat("today"===Nt?"active":""),onClick:()=>{console.log("\ud83d\udcc5 Today filter clicked"),wt("today")},children:"Today"}),(0,Fe.jsx)("button",{className:"action-btn month ".concat("month"===Nt?"active":""),onClick:()=>{console.log("\ud83d\udcc5 This Month filter clicked"),wt("month")},children:"This Month"}),(0,Fe.jsx)("button",{className:"action-btn year ".concat("year"===Nt?"active":""),onClick:()=>{console.log("\ud83d\udcc5 This Year filter clicked"),wt("year")},children:"This Year"})]})})]}),(0,Fe.jsxs)("div",{className:"stats-grid",children:[(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon farmers",children:(0,Fe.jsx)("i",{className:"fas fa-users"})}),(0,Fe.jsx)("div",{className:"stats-title",children:"FARMERS"}),(0,Fe.jsx)("div",{className:"stats-value",children:e.totalFarmers}),(0,Fe.jsxs)("div",{className:"stats-change positive",children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-up"}),"+12.4%"]}),"all"!==Nt&&(0,Fe.jsxs)("div",{className:"stats-period-indicator",children:["today"===Nt&&"\ud83d\udcc5 Today","month"===Nt&&"\ud83d\udcc5 This Month","year"===Nt&&"\ud83d\udcc5 This Year"]})]}),(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon employees",children:(0,Fe.jsx)("i",{className:"fas fa-user-tie"})}),(0,Fe.jsx)("div",{className:"stats-title",children:"EMPLOYEES"}),(0,Fe.jsx)("div",{className:"stats-value",children:e.totalEmployees}),(0,Fe.jsxs)("div",{className:"stats-change negative",children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-down"}),"-3.0%"]}),"all"!==Nt&&(0,Fe.jsxs)("div",{className:"stats-period-indicator",children:["today"===Nt&&"\ud83d\udcc5 Today","month"===Nt&&"\ud83d\udcc5 This Month","year"===Nt&&"\ud83d\udcc5 This Year"]})]}),(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon fpo",children:(0,Fe.jsx)("i",{className:"fas fa-building"})}),(0,Fe.jsx)("div",{className:"stats-title",children:"FPO"}),(0,Fe.jsx)("div",{className:"stats-value",children:e.totalFPOs}),(0,Fe.jsxs)("div",{className:"stats-change neutral",children:[(0,Fe.jsx)("i",{className:"fas fa-minus"}),"+0.0%"]}),"all"!==Nt&&(0,Fe.jsxs)("div",{className:"stats-period-indicator",children:["today"===Nt&&"\ud83d\udcc5 Today","month"===Nt&&"\ud83d\udcc5 This Month","year"===Nt&&"\ud83d\udcc5 This Year"]})]})]}),(0,Fe.jsx)("div",{className:"bottom-sections",children:(0,Fe.jsxs)("div",{className:"section-card",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h3",{children:"Quick Actions"}),(0,Fe.jsx)("p",{className:"section-description",children:"Access frequently used functions to manage farmers, employees, and generate reports."})]}),(0,Fe.jsxs)("div",{className:"quick-actions-grid",children:[(0,Fe.jsxs)("button",{onClick:()=>{r("farmers"),V(null),ut(!0),console.log("\ud83d\udd04 Add New Farmer button clicked - opening farmer form")},style:{background:"linear-gradient(135deg, #15803d 0%, #22c55e 100%)",color:"white",border:"none",borderRadius:"12px",padding:"16px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(21, 128, 61, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)",position:"relative",zIndex:1,pointerEvents:"auto",minWidth:"160px",justifyContent:"center"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #16a34a 0%, #22c55e 100%)",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(21, 128, 61, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #15803d 0%, #22c55e 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(21, 128, 61, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-user-plus"}),"Add New Farmer"]}),(0,Fe.jsxs)("button",{className:"quick-action-btn secondary",onClick:()=>{r("employees"),ct(!0)},children:[(0,Fe.jsx)("i",{className:"fas fa-user-tie"}),"Add Employee"]}),(0,Fe.jsxs)("button",{className:"quick-action-btn info",onClick:()=>alert("Generate Report functionality coming soon!"),children:[(0,Fe.jsx)("i",{className:"fas fa-chart-bar"}),"Generate Report"]})]})]})})]})})()]}),"fpo"===i&&(0,Fe.jsx)("div",{className:"superadmin-overview-section",children:W?(0,Fe.jsxs)("div",{className:"fpo-creation-section",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:G?"Edit FPO":"Add New FPO"}),(0,Fe.jsx)("p",{className:"overview-description",children:G?"Update FPO information.":"Register a new FPO in the system."}),(0,Fe.jsx)("div",{className:"overview-actions",children:(0,Fe.jsxs)("button",{onClick:()=>{H(!1),J(null)},className:"btn btn-secondary",children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-left"}),"Back to FPO List"]})})]}),(0,Fe.jsx)(Os,{isOpen:W,onClose:()=>{H(!1),J(null)},onSubmit:async e=>{try{const t=await Oe.fpoAPI.createFPO(e);h(e=>[...e,t]),X({type:"success",message:"FPO created successfully"}),setTimeout(()=>X(null),2e3)}catch(a){var t,s;console.error("Admin Dashboard - Failed to create FPO:",a);const e=(null===a||void 0===a||null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Failed to create FPO";X({type:"error",message:e}),setTimeout(()=>X(null),2500)}finally{H(!1)}}})]}):(0,Fe.jsx)(Fe.Fragment,{children:Le?(0,Fe.jsx)(ea,{fpoId:null===Le||void 0===Le?void 0:Le.id,initialTab:Ve,onBack:()=>ze(null)}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"superadmin-overview-header",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h2",{className:"superadmin-overview-title",children:"FPO Management"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Manage Farmer Producer Organizations and their operations."})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("div",{className:"overview-actions",children:(0,Fe.jsxs)("button",{onClick:()=>{H(!0)},style:{background:"linear-gradient(135deg, #15803d 0%, #22c55e 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(21, 128, 61, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #16a34a 0%, #22c55e 100%)",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(21, 128, 61, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #15803d 0%, #22c55e 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(21, 128, 61, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add FPO"]})})})]}),(0,Fe.jsxs)("div",{className:"filters-section",children:[(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"State"}),(0,Fe.jsxs)("select",{value:qe.state,onChange:e=>We(t=>(0,Ue.A)((0,Ue.A)({},t),{},{state:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All States"}),(0,Fe.jsx)("option",{value:"Telangana",children:"Telangana"}),(0,Fe.jsx)("option",{value:"Andhrapradesh",children:"Andhrapradesh"}),(0,Fe.jsx)("option",{value:"Maharashtra",children:"Maharashtra"}),(0,Fe.jsx)("option",{value:"Gujarat",children:"Gujarat"}),(0,Fe.jsx)("option",{value:"Punjab",children:"Punjab"}),(0,Fe.jsx)("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),(0,Fe.jsx)("option",{value:"Tamil Nadu",children:"Tamil Nadu"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"District"}),(0,Fe.jsxs)("select",{value:qe.district,onChange:e=>We(t=>(0,Ue.A)((0,Ue.A)({},t),{},{district:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Districts"}),(0,Fe.jsx)("option",{value:"Karimnagar",children:"Karimnagar"}),(0,Fe.jsx)("option",{value:"rangareddy",children:"Rangareddy"}),(0,Fe.jsx)("option",{value:"kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"Kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"kadpaa",children:"Kadpaa"}),(0,Fe.jsx)("option",{value:"Kuppam",children:"Kuppam"}),(0,Fe.jsx)("option",{value:"Pune",children:"Pune"}),(0,Fe.jsx)("option",{value:"Ahmedabad",children:"Ahmedabad"}),(0,Fe.jsx)("option",{value:"Amritsar",children:"Amritsar"}),(0,Fe.jsx)("option",{value:"Lucknow",children:"Lucknow"}),(0,Fe.jsx)("option",{value:"Chennai",children:"Chennai"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Status"}),(0,Fe.jsxs)("select",{value:qe.status,onChange:e=>We(t=>(0,Ue.A)((0,Ue.A)({},t),{},{status:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Status"}),(0,Fe.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,Fe.jsx)("option",{value:"INACTIVE",children:"Inactive"}),(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Registration Type"}),(0,Fe.jsxs)("select",{value:qe.registrationType,onChange:e=>We(t=>(0,Ue.A)((0,Ue.A)({},t),{},{registrationType:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Types"}),(0,Fe.jsx)("option",{value:"Company",children:"Company"}),(0,Fe.jsx)("option",{value:"Cooperative",children:"Cooperative"}),(0,Fe.jsx)("option",{value:"Society",children:"Society"})]})]}),(0,Fe.jsx)("div",{className:"filter-actions",children:(0,Fe.jsxs)("button",{className:"filter-btn-clear",onClick:()=>We({state:"",district:"",status:"",registrationType:""}),children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Clear Filters"]})})]}),(0,Fe.jsx)("div",{className:"table-scroll-wrapper",children:(0,Fe.jsx)(Ps,{data:u.filter(e=>{const t=!qe.state||e.state===qe.state,s=!qe.district||e.district===qe.district,a=!qe.status||e.status===qe.status,n=!qe.registrationType||e.registrationType===qe.registrationType;return t&&s&&a&&n}),columns:[{key:"fpoId",label:"Id",render:(e,t)=>t.fpoId||t.id||""},{key:"fpoName",label:"FPO name"},{key:"ceoName",label:"CEO name"},{key:"phoneNumber",label:"Phone number"},{key:"joinDate",label:"Join Date"},{key:"status",label:"Status",render:(e,t)=>(0,Fe.jsxs)("label",{className:"switch",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:"ACTIVE"===(t.status||"").toUpperCase(),onChange:async e=>{try{const s=e.target.checked?"ACTIVE":"INACTIVE";let a=t.id;if(!a&&t.fpoId){const e=await Oe.fpoAPI.getFPOByFpoId(t.fpoId);a=null===e||void 0===e?void 0:e.id}await Oe.fpoAPI.updateFPOStatus(a,s),h(e=>e.map(e=>e.id===a||e.fpoId===t.fpoId?(0,Ue.A)((0,Ue.A)({},e),{},{id:a,status:s}):e)),X({type:"success",message:"FPO status updated to ".concat(s)}),setTimeout(()=>X(null),2e3)}catch(s){console.error("Failed to toggle FPO status:",s),X({type:"error",message:"Failed to update status"}),setTimeout(()=>X(null),2e3)}}}),(0,Fe.jsx)("span",{className:"slider round"})]})}],customActions:[{label:"Dashboard",className:"info",onClick:e=>{se(e),ee(!0)}},{label:"Edit FPO",className:"warning",onClick:e=>{J(e),$(!0)}},{label:"FPO Board Members",onClick:e=>{re(e),ne(!0)}},{label:"FPO Farm Services",onClick:e=>{de(e),oe(!0)}},{label:"FPO Turnover",onClick:e=>{pe(e),he(!0)}},{label:"FPO Crop Entries",onClick:e=>{xe(e),ge(!0)}},{label:"FPO Input Shop",onClick:e=>{Ne(e),ye(!0)}},{label:"FPO Product Categories",onClick:e=>{Ce(e),Se(!0)}},{label:"FPO Products",onClick:e=>{Ie(e),Ee(!0)}},{label:"FPO Users",onClick:e=>{Me(e),Te(!0)}}]})})]})})}),"kyc-overview"===i&&(()=>{const e=Dt();return(0,Fe.jsxs)("div",{className:"overview-section",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:"KYC Overview"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Comprehensive view of KYC status across all farmers and employees."})]}),(0,Fe.jsxs)("div",{className:"kyc-breakdown",children:[(0,Fe.jsx)("h3",{className:"kyc-breakdown-title",children:"KYC Status Breakdown"}),(0,Fe.jsx)("p",{className:"section-description",children:"Overview of KYC verification status distribution across all farmers."}),(0,Fe.jsxs)("div",{className:"kyc-stats-grid",children:[(0,Fe.jsxs)("div",{className:"kyc-stat-card approved",children:[(0,Fe.jsx)("span",{className:"kyc-stat-number",children:e.approvedKYC}),(0,Fe.jsx)("span",{className:"kyc-stat-label",children:"Approved"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat-card pending",children:[(0,Fe.jsx)("span",{className:"kyc-stat-number",children:e.pendingKYC}),(0,Fe.jsx)("span",{className:"kyc-stat-label",children:"Pending"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat-card refer-back",children:[(0,Fe.jsx)("span",{className:"kyc-stat-number",children:e.referBackKYC}),(0,Fe.jsx)("span",{className:"kyc-stat-label",children:"Refer Back"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat-card rejected",children:[(0,Fe.jsx)("span",{className:"kyc-stat-number",children:e.rejectedKYC}),(0,Fe.jsx)("span",{className:"kyc-stat-label",children:"Rejected"})]})]})]}),(0,Fe.jsxs)("div",{className:"employee-stats",children:[(0,Fe.jsx)("h3",{className:"employee-kyc-progress-title",children:"Employee KYC Progress"}),(0,Fe.jsx)("p",{className:"section-description",children:"Monitor KYC verification progress for each employee and their assigned farmers."}),(0,Fe.jsx)("div",{className:"employee-stats-grid",children:c.length>0?c.map(e=>{const t=(l||[]).filter(t=>t.assignedEmployee===e.name||t.assignedEmployee===e.contactNumber||t.assignedEmployeeId===e.id),s=t.filter(e=>"APPROVED"===e.kycStatus||"approved"===e.kycStatus).length,a=t.filter(e=>"PENDING"===e.kycStatus||"pending"===e.kycStatus||"NOT_STARTED"===e.kycStatus||"not_started"===e.kycStatus).length,n=t.filter(e=>"REFER_BACK"===e.kycStatus||"refer_back"===e.kycStatus).length,i=t.filter(e=>"REJECTED"===e.kycStatus||"rejected"===e.kycStatus).length;return(0,Fe.jsxs)("div",{className:"employee-stat-card",children:[(0,Fe.jsxs)("div",{className:"employee-info",children:[(0,Fe.jsx)("h4",{children:e.name}),(0,Fe.jsxs)("p",{children:[e.designation," - ",e.district]})]}),(0,Fe.jsxs)("div",{className:"employee-kyc-stats",children:[(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number",children:t.length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Assigned"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number approved",children:s}),(0,Fe.jsx)("span",{className:"stat-label",children:"Approved"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number pending",children:a}),(0,Fe.jsx)("span",{className:"stat-label",children:"Pending"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number refer-back",children:n}),(0,Fe.jsx)("span",{className:"stat-label",children:"Refer Back"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number rejected",children:i}),(0,Fe.jsx)("span",{className:"stat-label",children:"Rejected"})]})]})]},e.id)}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"employee-stat-card",children:[(0,Fe.jsxs)("div",{className:"employee-info",children:[(0,Fe.jsx)("h4",{children:"Sample KYC Officer"}),(0,Fe.jsx)("p",{children:"KYC Officer - Hyderabad"})]}),(0,Fe.jsxs)("div",{className:"employee-kyc-stats",children:[(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Assigned"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number approved",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Approved"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number pending",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Pending"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number refer-back",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Refer Back"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number rejected",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Rejected"})]})]})]}),(0,Fe.jsxs)("div",{className:"employee-stat-card",children:[(0,Fe.jsxs)("div",{className:"employee-info",children:[(0,Fe.jsx)("h4",{children:"Sample KYC Officer 2"}),(0,Fe.jsx)("p",{children:"KYC Officer - Bangalore"})]}),(0,Fe.jsxs)("div",{className:"employee-kyc-stats",children:[(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Assigned"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number approved",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Approved"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number pending",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Pending"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number refer-back",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Refer Back"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number rejected",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Rejected"})]})]})]}),(0,Fe.jsxs)("div",{className:"employee-stat-card",children:[(0,Fe.jsxs)("div",{className:"employee-info",children:[(0,Fe.jsx)("h4",{children:"Sample KYC Officer 3"}),(0,Fe.jsx)("p",{children:"KYC Officer - Mumbai"})]}),(0,Fe.jsxs)("div",{className:"employee-kyc-stats",children:[(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Assigned"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number approved",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Approved"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number pending",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Pending"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number refer-back",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Refer Back"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number rejected",children:"0"}),(0,Fe.jsx)("span",{className:"stat-label",children:"Rejected"})]})]})]})]})})]}),(0,Fe.jsxs)("div",{className:"kyc-progress-section",children:[(0,Fe.jsx)("h3",{className:"kyc-progress-overview-title",children:"KYC Progress Overview"}),(0,Fe.jsx)("p",{className:"section-description",children:"Visual representation of KYC verification progress with circular indicators."}),(0,Fe.jsxs)("div",{className:"kyc-progress-grid",children:[(0,Fe.jsxs)("div",{className:"progress-card approved",children:[(0,Fe.jsx)("div",{className:"progress-circle",children:(0,Fe.jsx)("div",{className:"progress-number",children:e.approvedKYC})}),(0,Fe.jsx)("div",{className:"progress-label",children:"Approved KYC"})]}),(0,Fe.jsxs)("div",{className:"progress-card pending",children:[(0,Fe.jsx)("div",{className:"progress-circle",children:(0,Fe.jsx)("div",{className:"progress-number",children:e.pendingKYC})}),(0,Fe.jsx)("div",{className:"progress-label",children:"Pending KYC"})]}),(0,Fe.jsxs)("div",{className:"progress-card refer-back",children:[(0,Fe.jsx)("div",{className:"progress-circle",children:(0,Fe.jsx)("div",{className:"progress-number",children:e.referBackKYC})}),(0,Fe.jsx)("div",{className:"progress-label",children:"Refer Back"})]}),(0,Fe.jsxs)("div",{className:"progress-card rejected",children:[(0,Fe.jsx)("div",{className:"progress-circle",children:(0,Fe.jsx)("div",{className:"progress-number",children:e.rejectedKYC})}),(0,Fe.jsx)("div",{className:"progress-label",children:"Rejected KYC"})]})]})]})]})})(),"farmers"===i&&(()=>{const e=(l||[]).filter(e=>{const t=!pt.state||e.state===pt.state,s=!pt.district||e.district===pt.district,a=!pt.kycStatus||e.kycStatus===pt.kycStatus,n=!pt.employeeFilter||e.assignedEmployee===pt.employeeFilter;return t&&s&&a&&n});return(0,Fe.jsx)("div",{className:"overview-section",children:dt?(0,Fe.jsxs)("div",{className:"farmer-registration-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h2",{className:"section-title",children:"Add New Farmer"}),(0,Fe.jsx)("p",{className:"section-description",children:"Fill in the farmer details to create a new farmer account."})]}),(0,Fe.jsx)("div",{className:"section-actions",children:(0,Fe.jsxs)("button",{onClick:()=>{r("farmers"),ut(!1),console.log("\ud83d\udd04 Back to Farmers button clicked - returning to farmers list")},style:{background:"#6b7280",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(107, 114, 128, 0.25)",display:"flex",alignItems:"center",gap:"6px",transform:"translateY(0)",position:"relative",zIndex:1,pointerEvents:"auto"},onMouseEnter:e=>{e.target.style.background="#4b5563",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 12px rgba(107, 114, 128, 0.35)"},onMouseLeave:e=>{e.target.style.background="#6b7280",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(107, 114, 128, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-left"}),"Back to Farmers"]})})]}),(0,Fe.jsx)(gs,{isInDashboard:!0,onClose:()=>ut(!1),onSubmit:async e=>{try{const t=await Oe.farmersAPI.createFarmer(e);o(e=>[...e,t]),alert("Farmer created successfully!"),ut(!1)}catch(Je){console.error("Error creating farmer:",Je),alert("Failed to create farmer. Please try again.")}}})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:"Farmer Management"}),(0,Fe.jsx)("p",{className:"overview-description",children:"View and manage all farmer profiles with KYC status and assignments."})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsxs)("div",{className:"overview-actions",children:[(0,Fe.jsxs)("button",{onClick:()=>{ut(!0)},style:{background:"linear-gradient(135deg, #15803d 0%, #22c55e 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(21, 128, 61, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)",position:"relative",zIndex:1,pointerEvents:"auto"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #16a34a 0%, #22c55e 100%)",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(21, 128, 61, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #15803d 0%, #22c55e 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(21, 128, 61, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add Farmer"]}),(0,Fe.jsxs)("button",{onClick:()=>{x(!0)},style:{background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)",position:"relative",zIndex:1,pointerEvents:"auto"},onMouseEnter:e=>{e.target.style.background="#2563eb",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(59, 130, 246, 0.35)"},onMouseLeave:e=>{e.target.style.background="#3b82f6",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-user-plus"}),"Assign Farmers"]})]})})]}),(0,Fe.jsxs)("div",{className:"filters-section",children:[(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"State"}),(0,Fe.jsxs)("select",{value:pt.state,onChange:e=>ft(t=>(0,Ue.A)((0,Ue.A)({},t),{},{state:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All States"}),(0,Fe.jsx)("option",{value:"Telangana",children:"Telangana"}),(0,Fe.jsx)("option",{value:"Andhrapradesh",children:"Andhrapradesh"}),(0,Fe.jsx)("option",{value:"Maharashtra",children:"Maharashtra"}),(0,Fe.jsx)("option",{value:"Gujarat",children:"Gujarat"}),(0,Fe.jsx)("option",{value:"Punjab",children:"Punjab"}),(0,Fe.jsx)("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),(0,Fe.jsx)("option",{value:"Tamil Nadu",children:"Tamil Nadu"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"District"}),(0,Fe.jsxs)("select",{value:pt.district,onChange:e=>ft(t=>(0,Ue.A)((0,Ue.A)({},t),{},{district:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Districts"}),(0,Fe.jsx)("option",{value:"Karimnagar",children:"Karimnagar"}),(0,Fe.jsx)("option",{value:"rangareddy",children:"Rangareddy"}),(0,Fe.jsx)("option",{value:"kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"Kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"kadpaa",children:"Kadpaa"}),(0,Fe.jsx)("option",{value:"Kuppam",children:"Kuppam"}),(0,Fe.jsx)("option",{value:"Pune",children:"Pune"}),(0,Fe.jsx)("option",{value:"Ahmedabad",children:"Ahmedabad"}),(0,Fe.jsx)("option",{value:"Amritsar",children:"Amritsar"}),(0,Fe.jsx)("option",{value:"Lucknow",children:"Lucknow"}),(0,Fe.jsx)("option",{value:"Chennai",children:"Chennai"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"KYC Status"}),(0,Fe.jsxs)("select",{value:pt.kycStatus,onChange:e=>ft(t=>(0,Ue.A)((0,Ue.A)({},t),{},{kycStatus:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All KYC Status"}),(0,Fe.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Fe.jsx)("option",{value:"NOT_STARTED",children:"Not Started"}),(0,Fe.jsx)("option",{value:"REFER_BACK",children:"Refer Back"}),(0,Fe.jsx)("option",{value:"REJECTED",children:"Rejected"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Assignment Status"}),(0,Fe.jsxs)("select",{value:pt.assignmentStatus,onChange:e=>ft(t=>(0,Ue.A)((0,Ue.A)({},t),{},{assignmentStatus:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Assignment Status"}),(0,Fe.jsx)("option",{value:"ASSIGNED",children:"Assigned"}),(0,Fe.jsx)("option",{value:"UNASSIGNED",children:"Unassigned"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Assigned Employee"}),(0,Fe.jsxs)("select",{value:pt.employeeFilter,onChange:e=>ft(t=>(0,Ue.A)((0,Ue.A)({},t),{},{employeeFilter:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Employees"}),c.map(e=>(0,Fe.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,Fe.jsx)("div",{className:"filter-actions",children:(0,Fe.jsxs)("button",{className:"filter-btn-clear",onClick:()=>ft({state:"",district:"",region:"",kycStatus:"",assignmentStatus:"",employeeFilter:""}),children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Clear Filters"]})})]}),v||O?v?(0,Fe.jsx)(ys,{farmers:l.filter(e=>!e.assignedEmployee||"Not Assigned"===e.assignedEmployee||null===e.assignedEmployee||void 0===e.assignedEmployee||""===e.assignedEmployee),employees:c,onBack:()=>x(!1),onAssign:Ut}):(0,Fe.jsx)(ws,{farmerData:O,onBack:()=>R(null),onSave:async e=>{try{const t=await Oe.farmersAPI.updateFarmer(O.id,e);o(e=>e.map(e=>e.id===O.id?t:e)),R(t),alert("Farmer updated successfully!")}catch(Qh){console.error("Error updating farmer:",Qh),alert("Failed to update farmer")}}}):(0,Fe.jsx)(Ps,{data:e,columns:[{key:"name",label:"Name"},{key:"contactNumber",label:"Phone"},{key:"state",label:"State"},{key:"district",label:"District"},{key:"kycStatus",label:"KYC Status",render:e=>e?"PENDING"===e||"pending"===e?"PENDING":"APPROVED"===e||"approved"===e?"APPROVED":"REFER_BACK"===e||"refer_back"===e?"REFER_BACK":"REJECTED"===e||"rejected"===e?"REJECTED":"NOT_STARTED"===e||"not_started"===e?"NOT_STARTED":e.toUpperCase():"NOT_STARTED"},{key:"assignedEmployee",label:"Assigned Employee"}],customActions:[{label:"View",className:"action-btn-small info",onClick:_t},{label:"ID Card",className:"action-btn-small primary",onClick:async e=>{try{console.log("\ud83d\udd04 Attempting to get ID card for farmer:",e.id,e.name);const t=await Oe.idCardAPI.getIdCardsByHolder(e.id.toString());if(console.log("\ud83d\udccb Existing ID cards found:",t),Array.isArray(t)&&t.length>0){const e=t.find(e=>"ACTIVE"===e.status)||t[0];return console.log("\u2705 Using existing ID card:",e.cardId),jt(e.cardId),void bt(!0)}console.log("\ud83d\udd04 No existing ID cards found, generating new one...");const s=await Oe.idCardAPI.generateFarmerIdCard(e.id);console.log("\ud83c\udfaf Generated ID card response:",s),s&&s.cardId?(console.log("\u2705 Successfully generated ID card:",s.cardId),jt(s.cardId),bt(!0)):(console.error("\u274c Generated ID card response is invalid:",s),alert("Failed to generate ID card: Invalid response from server"))}catch(Qh){var t,s,a;console.error("\u274c Farmer ID Card action failed:",Qh),console.error("Error details:",(null===(t=Qh.response)||void 0===t?void 0:t.data)||Qh.message),alert("Unable to open or generate ID card: ".concat((null===(s=Qh.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||Qh.message))}}},{label:"Edit",className:"action-btn-small primary",onClick:Mt},{label:"KYC",className:"action-btn-small warning",onClick:Rt}]})]})})})(),"employees"===i&&(()=>{const e=(c||[]).filter(e=>!pt.district||e.district===pt.district);return(0,Fe.jsx)("div",{className:"overview-section",children:ot?(0,Fe.jsxs)("div",{className:"employee-registration-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h2",{className:"section-title",children:"Add New Employee"}),(0,Fe.jsx)("p",{className:"section-description",children:"Fill in the employee details to create a new employee account."})]}),(0,Fe.jsx)("div",{className:"section-actions",children:(0,Fe.jsxs)("button",{onClick:()=>{r("employees"),ct(!1),console.log("\ud83d\udd04 Back to Employees button clicked - returning to employees list")},style:{background:"#6b7280",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(107, 114, 128, 0.25)",display:"flex",alignItems:"center",gap:"6px",transform:"translateY(0)",position:"relative",zIndex:1,pointerEvents:"auto"},onMouseEnter:e=>{e.target.style.background="#4b5563",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 12px rgba(107, 114, 128, 0.35)"},onMouseLeave:e=>{e.target.style.background="#6b7280",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(107, 114, 128, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-left"}),"Back to Employees"]})})]}),(0,Fe.jsx)(xs,{isInDashboard:!0,onClose:()=>ct(!1),onSubmit:async e=>{try{const t=await Oe.employeesAPI.createEmployee(e);d(e=>[...e,t]),alert("Employee created successfully!"),ct(!1)}catch(Je){console.error("Error creating employee:",Je),alert("Failed to create employee. Please try again.")}}})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:"Employee Management"}),(0,Fe.jsx)("p",{className:"overview-description",children:"View and manage employee profiles with KYC assignment statistics."})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("div",{className:"overview-actions",children:(0,Fe.jsxs)("button",{onClick:()=>ct(!0),style:{background:"linear-gradient(135deg, #15803d 0%, #22c55e 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(21, 128, 61, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)",position:"relative",zIndex:1,pointerEvents:"auto"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #16a34a 0%, #22c55e 100%)",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(21, 128, 61, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #15803d 0%, #22c55e 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(21, 128, 61, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add Employee"]})})})]}),(0,Fe.jsxs)("div",{className:"employee-stats",children:[(0,Fe.jsx)("h3",{children:"Employee KYC Progress"}),(0,Fe.jsx)("p",{className:"section-description",children:"Monitor KYC verification progress for each employee and their assigned farmers."}),(0,Fe.jsx)("div",{className:"employee-stats-grid",children:c.map(e=>{const t=(l||[]).filter(t=>t.assignedEmployee===e.name||t.assignedEmployee===e.contactNumber||t.assignedEmployeeId===e.id),s=t.filter(e=>"APPROVED"===e.kycStatus||"approved"===e.kycStatus).length,a=t.filter(e=>"PENDING"===e.kycStatus||"pending"===e.kycStatus||"NOT_STARTED"===e.kycStatus||"not_started"===e.kycStatus).length,n=t.filter(e=>"REFER_BACK"===e.kycStatus||"refer_back"===e.kycStatus).length,i=t.filter(e=>"REJECTED"===e.kycStatus||"rejected"===e.kycStatus).length;return(0,Fe.jsxs)("div",{className:"employee-stat-card",children:[(0,Fe.jsxs)("div",{className:"employee-info",children:[(0,Fe.jsx)("h4",{children:e.name}),(0,Fe.jsxs)("p",{children:[e.designation," - ",e.district]})]}),(0,Fe.jsxs)("div",{className:"employee-kyc-stats",children:[(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number",children:t.length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Assigned"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number approved",children:s}),(0,Fe.jsx)("span",{className:"stat-label",children:"Approved"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number pending",children:a}),(0,Fe.jsx)("span",{className:"stat-label",children:"Pending"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number refer-back",children:n}),(0,Fe.jsx)("span",{className:"stat-label",children:"Refer Back"})]}),(0,Fe.jsxs)("div",{className:"kyc-stat",children:[(0,Fe.jsx)("span",{className:"stat-number rejected",children:i}),(0,Fe.jsx)("span",{className:"stat-label",children:"Rejected"})]})]})]},e.id)})})]}),_?(0,Fe.jsx)(ks,{employeeData:_,onBack:()=>T(null),onSave:Ot}):(0,Fe.jsx)(Ps,{data:e.map(e=>{const t=(l||[]).filter(t=>t.assignedEmployee===e.name||t.assignedEmployee===e.contactNumber||t.assignedEmployeeId===e.id),s=t.filter(e=>"APPROVED"===e.kycStatus||"approved"===e.kycStatus).length,a=t.filter(e=>"PENDING"===e.kycStatus||"pending"===e.kycStatus||"NOT_STARTED"===e.kycStatus||"not_started"===e.kycStatus).length;return(0,Ue.A)((0,Ue.A)({},e),{},{totalAssigned:t.length,approvedKyc:s,pendingKyc:a})}),columns:[{key:"name",label:"Name"},{key:"contactNumber",label:"Contact"},{key:"email",label:"Email"},{key:"state",label:"State"},{key:"district",label:"District"},{key:"totalAssigned",label:"Assigned Farmers"},{key:"approvedKyc",label:"Approved KYC"},{key:"pendingKyc",label:"Pending KYC"}],customActions:[{label:"View",className:"action-btn-small info",onClick:Tt},{label:"ID Card",className:"action-btn-small primary",onClick:async e=>{try{console.log("\ud83d\udd04 Attempting to get ID card for employee:",e.id,e.name);const t=await Oe.idCardAPI.getIdCardsByHolder(e.id.toString());if(console.log("\ud83d\udccb Existing ID cards found:",t),Array.isArray(t)&&t.length>0){const e=t.find(e=>"ACTIVE"===e.status)||t[0];return console.log("\u2705 Using existing ID card:",e.cardId),jt(e.cardId),void bt(!0)}console.log("\ud83d\udd04 No existing ID cards found, generating new one...");const s=await Oe.idCardAPI.generateEmployeeIdCard(e.id);console.log("\ud83c\udfaf Generated ID card response:",s),s&&s.cardId?(console.log("\u2705 Successfully generated ID card:",s.cardId),jt(s.cardId),bt(!0)):(console.error("\u274c Generated ID card response is invalid:",s),alert("Failed to generate ID card: Invalid response from server"))}catch(Qh){var t,s,a;console.error("\u274c Employee ID Card action failed:",Qh),console.error("Error details:",(null===(t=Qh.response)||void 0===t?void 0:t.data)||Qh.message),alert("Unable to open or generate ID card: ".concat((null===(s=Qh.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||Qh.message))}}},{label:"Edit",className:"action-btn-small primary",onClick:Lt}]})]})})})(),"registration"===i&&(()=>{const e=(He||[]).filter(e=>{const t=!ht.role||e.role===ht.role,s=!ht.status||e.status===ht.status;return t&&s});return(0,Fe.jsxs)("div",{className:"registration-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h2",{className:"registration-management-title",children:"Registration Management"}),(0,Fe.jsx)("p",{className:"section-description",children:"Review and manage user registration requests."})]}),(0,Fe.jsx)("div",{className:"section-actions",children:(0,Fe.jsxs)("button",{onClick:At,style:{background:"linear-gradient(135deg, #15803d 0%, #22c55e 100%)",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(21, 128, 61, 0.25)",display:"flex",alignItems:"center",gap:"6px",transform:"translateY(0)",position:"relative",zIndex:1,pointerEvents:"auto"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #16a34a 0%, #22c55e 100%)",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 12px rgba(21, 128, 61, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #15803d 0%, #22c55e 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(21, 128, 61, 0.25)",e.target.style.transform="translateY(0)"},children:[(0,Fe.jsx)("i",{className:"fas fa-sync-alt"}),"Refresh Data"]})})]}),(0,Fe.jsxs)("div",{className:"filters-section",children:[(0,Fe.jsx)("div",{className:"filter-group",children:(0,Fe.jsxs)("select",{className:"filter-select",value:ht.role,onChange:e=>mt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{role:e.target.value})),children:[(0,Fe.jsx)("option",{value:"",children:"All Roles"}),(0,Fe.jsx)("option",{value:"FARMER",children:"Farmer"}),(0,Fe.jsx)("option",{value:"EMPLOYEE",children:"Employee"}),(0,Fe.jsx)("option",{value:"ADMIN",children:"Admin"})]})}),(0,Fe.jsx)("div",{className:"filter-group",children:(0,Fe.jsxs)("select",{className:"filter-select",value:ht.status,onChange:e=>mt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{status:e.target.value})),children:[(0,Fe.jsx)("option",{value:"",children:"All Status"}),(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Fe.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,Fe.jsx)("option",{value:"REJECTED",children:"Rejected"})]})})]}),rt?(0,Fe.jsx)(Ds,{registration:rt,onBack:()=>lt(null),onUpdate:Pt}):(0,Fe.jsx)(Ps,{data:e,columns:[{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"phoneNumber",label:"Phone"},{key:"role",label:"Role"},{key:"status",label:"Status"}],customActions:[{label:"View",className:"action-btn-small info",onClick:Et},{label:"Approve",className:"action-btn-small success",onClick:e=>It(e.id),show:e=>"PENDING"===e.status},{label:"Reject",className:"action-btn-small danger",onClick:e=>Ft(e.id),show:e=>"PENDING"===e.status}]})]})})(),"bulk-operations"===i&&(0,Fe.jsx)(_s,{userRole:"ADMIN"})]})}),Q&&(0,Fe.jsx)("div",{className:"toast-container",children:(0,Fe.jsxs)("div",{className:"toast ".concat(Q.type),children:[(0,Fe.jsx)("span",{className:"icon",children:"success"===Q.type?"\u2714":"!"}),(0,Fe.jsx)("span",{children:Q.message})]})}),b&&(0,Fe.jsx)(vs,{editData:z,onClose:()=>{y(!1),V(null)},onSubmit:async e=>{try{if(z){const t=await Oe.farmersAPI.updateFarmer(z.id,e);o(e=>e.map(e=>e.id===z.id?t:e)),alert("Farmer updated successfully!")}else{const t=await Oe.farmersAPI.createFarmer(e);o(e=>[...e,t]),alert("Farmer created successfully!")}y(!1),V(null)}catch(Je){console.error("Error saving farmer:",Je),alert("Failed to save farmer. Please try again.")}}}),j&&(0,Fe.jsx)(xs,{isInDashboard:!0,editData:Y,onClose:()=>{N(!1),q(null)},onSubmit:async e=>{try{if(Y){const t=await Oe.employeesAPI.updateEmployee(Y.id,e);d(e=>e.map(e=>e.id===Y.id?t:e)),alert("Employee updated successfully!")}else{const t=await Oe.employeesAPI.createEmployee(e);d(e=>[...e,t]),alert("Employee created successfully!")}N(!1),q(null)}catch(Je){console.error("Error saving employee:",Je),alert("Failed to save employee. Please try again.")}}}),A&&P&&(0,Fe.jsx)(Ss,{employee:P,onClose:()=>{E(!1),I(null)},onUpdate:e=>{d(t=>t.map(t=>t.id===e.id?e:t)),E(!1),I(null)}}),M&&U&&(0,Fe.jsx)(js,{farmer:U,onClose:()=>{L(!1),B(null)},onApprove:(e,t)=>{o(t=>t.map(t=>t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{kycStatus:"APPROVED"}):t)),L(!1),B(null)},onReject:(e,t,s)=>{o(t=>t.map(t=>t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{kycStatus:"REJECTED"}):t)),L(!1),B(null)},onReferBack:(e,t,s)=>{o(t=>t.map(t=>t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{kycStatus:"REFER_BACK"}):t)),L(!1),B(null)}}),xt&&yt&&(0,Fe.jsx)(Be,{cardId:yt,onClose:()=>{bt(!1),jt(null)}}),st&&nt&&(0,Fe.jsx)(Fs,{registration:nt,onClose:()=>{at(!1),it(null)},onUpdate:Pt,onApprove:It,onReject:Ft}),le&&ce&&(0,Fe.jsx)(Ws,{isOpen:le,onClose:()=>{oe(!1),de(null)},fpoId:ce.id}),ue&&me&&(0,Fe.jsx)(Hs,{isOpen:ue,onClose:()=>{he(!1),pe(null)},fpoId:me.id,fpoName:me.fpoName}),fe&&ve&&(0,Fe.jsx)(Js,{isOpen:fe,onClose:()=>{ge(!1),xe(null)},fpoId:ve.id,fpoName:ve.fpoName}),be&&je&&(0,Fe.jsx)(Ks,{isOpen:be,onClose:()=>{ye(!1),Ne(null)},fpoId:je.id,fpoName:je.fpoName}),we&&ke&&(0,Fe.jsx)($s,{isOpen:we,onClose:()=>{Se(!1),Ce(null)},fpoId:ke.id}),Ae&&Pe&&(0,Fe.jsx)(Gs,{isOpen:Ae,onClose:()=>{Ee(!1),Ie(null)},fpoId:Pe.id}),ae&&ie&&(0,Fe.jsx)(qs,{isOpen:ae,onClose:()=>{ne(!1),re(null)},fpoId:ie.id}),De&&Re&&(0,Fe.jsx)(Xs,{isOpen:De,onClose:()=>{Te(!1),Me(null)},fpoId:Re.id})]})},sa=e=>{let{cardId:s,onClose:a}=e;const[n,i]=(0,t.useState)(null),[r,l]=(0,t.useState)(!0),[o,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(null),[h,m]=(0,t.useState)(null),p=(0,t.useCallback)(async()=>{try{l(!0);const e=await Oe.idCardAPI.getIdCard(s);i(e),l(!1),c(!0),Oe.idCardAPI.downloadIdCardPng(s).then(e=>{const t=new Blob([e],{type:"image/png"}),s=URL.createObjectURL(t);m(s)}).catch(e=>{console.error("Error downloading PNG:",e)}).finally(()=>c(!1))}catch(e){u("Failed to load ID card"),console.error("Error fetching ID card:",e),l(!1)}},[s]);(0,t.useEffect)(()=>{s&&p()},[s,p]);return r?(0,Fe.jsxs)("div",{className:"id-card-content-viewer",children:[(0,Fe.jsxs)("div",{className:"id-card-header",children:[(0,Fe.jsx)("h1",{className:"id-card-title",children:"Loading ID Card..."}),(0,Fe.jsxs)("div",{className:"header-buttons",children:[(0,Fe.jsxs)("button",{onClick:a,className:"back-btn",children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Back to List"]}),(0,Fe.jsx)("button",{onClick:a,className:"close-btn",children:(0,Fe.jsx)("i",{className:"fas fa-times"})})]})]}),(0,Fe.jsx)("div",{className:"id-card-body",children:(0,Fe.jsxs)("div",{className:"loading-container",children:[(0,Fe.jsx)("i",{className:"fas fa-spinner fa-spin"}),(0,Fe.jsx)("p",{children:"Loading ID card details..."})]})})]}):d||!n?(0,Fe.jsxs)("div",{className:"id-card-content-viewer",children:[(0,Fe.jsxs)("div",{className:"id-card-header",children:[(0,Fe.jsx)("h1",{className:"id-card-title",children:"ID Card Error"}),(0,Fe.jsxs)("div",{className:"header-buttons",children:[(0,Fe.jsxs)("button",{onClick:a,className:"back-btn",children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Back to List"]}),(0,Fe.jsx)("button",{onClick:a,className:"close-btn",children:(0,Fe.jsx)("i",{className:"fas fa-times"})})]})]}),(0,Fe.jsx)("div",{className:"id-card-body",children:(0,Fe.jsxs)("div",{className:"error-container",children:[(0,Fe.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,Fe.jsx)("p",{children:d||"ID card not found"})]})})]}):(0,Fe.jsxs)("div",{className:"id-card-content-viewer",children:[(0,Fe.jsxs)("div",{className:"id-card-header",children:[(0,Fe.jsxs)("h1",{className:"id-card-title",children:["ID Card ",n.cardId]}),(0,Fe.jsxs)("div",{className:"header-buttons",children:[(0,Fe.jsxs)("button",{onClick:a,className:"back-btn",children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Back to List"]}),(0,Fe.jsx)("button",{onClick:a,className:"close-btn",children:(0,Fe.jsx)("i",{className:"fas fa-times"})})]})]}),(0,Fe.jsx)("div",{className:"id-card-body",children:(0,Fe.jsx)("div",{className:"id-card-display-container",children:(0,Fe.jsx)("div",{className:"id-card-display",children:h?(0,Fe.jsx)("img",{src:h,alt:"ID Card Preview",className:"id-card-image"}):(0,Fe.jsxs)("div",{className:"loading-container",children:[(0,Fe.jsx)("i",{className:"fas fa-spinner fa-spin"}),(0,Fe.jsx)("p",{children:o?"Rendering ID card\u2026":"Preview unavailable"})]})})})}),(0,Fe.jsx)("div",{className:"id-card-actions",children:(0,Fe.jsxs)("div",{className:"action-buttons-container",children:[(0,Fe.jsxs)("button",{onClick:async()=>{try{const e=await Oe.idCardAPI.downloadIdCardPdf(s),t=new Blob([e],{type:"application/pdf"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="id-card-".concat(s,".pdf"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}catch(d){console.error("Error downloading PDF:",d),alert("Failed to download PDF")}},className:"download-btn pdf",children:[(0,Fe.jsx)("i",{className:"fas fa-file-pdf"}),"Download PDF"]}),(0,Fe.jsxs)("button",{onClick:async()=>{try{const e=await Oe.idCardAPI.downloadIdCardPng(s),t=new Blob([e],{type:"image/png"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="id-card-".concat(s,".png"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}catch(d){console.error("Error downloading PNG:",d),alert("Failed to download PNG")}},className:"download-btn png",children:[(0,Fe.jsx)("i",{className:"fas fa-image"}),"Download PNG"]})]})})]})},aa=e=>{let{item:s,type:a,onClose:n,onConfirm:i}=e;const[r,l]=(0,t.useState)(""),[o,c]=(0,t.useState)(!1),d=()=>"farmer"===a?(null===s||void 0===s?void 0:s.name)||"Farmer":"employee"===a?(null===s||void 0===s?void 0:s.name)||"Employee":"Item",u="farmer"===a?{name:null===s||void 0===s?void 0:s.name,phone:null===s||void 0===s?void 0:s.phone,state:null===s||void 0===s?void 0:s.state,district:null===s||void 0===s?void 0:s.district}:"employee"===a?{name:null===s||void 0===s?void 0:s.name,email:null===s||void 0===s?void 0:s.email,phone:null===s||void 0===s?void 0:s.phone,designation:null===s||void 0===s?void 0:s.designation}:{};return(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:"Confirm Delete"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:n,children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"delete-warning",children:[(0,Fe.jsx)("div",{className:"warning-icon",children:"\u26a0\ufe0f"}),(0,Fe.jsxs)("h3",{children:["Are you sure you want to delete this ",a,"?"]}),(0,Fe.jsx)("p",{children:"This action cannot be undone."})]}),(0,Fe.jsxs)("div",{className:"item-details",children:[(0,Fe.jsxs)("h4",{children:[d()," Details:"]}),(0,Fe.jsx)("div",{className:"details-grid",children:Object.entries(u).map(e=>{let[t,s]=e;return(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsxs)("span",{className:"label",children:[t.charAt(0).toUpperCase()+t.slice(1),":"]}),(0,Fe.jsx)("span",{className:"value",children:s||"N/A"})]},t)})})]}),(0,Fe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{await i((0,Ue.A)((0,Ue.A)({},s),{},{reason:r})),n()}catch(t){console.error("Error deleting item:",t)}finally{c(!1)}},className:"form",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"reason",children:"Reason for Deletion (Optional)"}),(0,Fe.jsx)("textarea",{id:"reason",value:r,onChange:e=>l(e.target.value),placeholder:"Enter reason for deletion...",rows:"3"})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"btn-secondary",onClick:n,children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"btn-danger",disabled:o,children:o?"Deleting...":"Delete ".concat(d())})]})]})]})})},na=e=>{let{fpo:t,onClose:s}=e;if(!t)return null;const a=(t.village||"")+(t.village?", ":"")+(t.district||"")+(t.district?", ":"")+(t.state||"")+(t.pincode?" - "+t.pincode:"");return(0,Fe.jsxs)("div",{className:"fpo-details-view",children:[(0,Fe.jsx)("div",{className:"fpo-details-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"fpo-title",children:t.fpoName}),(0,Fe.jsx)("p",{className:"fpo-subtitle",children:t.fpoId})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:s,children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsxs)("div",{className:"fpo-details-content",children:[(0,Fe.jsx)("div",{className:"fpo-info-section",children:(0,Fe.jsxs)("div",{className:"info-cards-grid",children:[(0,Fe.jsxs)("div",{className:"info-card primary",children:[(0,Fe.jsxs)("div",{className:"card-header",children:[(0,Fe.jsx)("i",{className:"fas fa-building"}),(0,Fe.jsx)("h3",{children:"Organization Details"})]}),(0,Fe.jsxs)("div",{className:"card-content",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("span",{className:"label",children:"Registration Number:"}),(0,Fe.jsx)("span",{className:"value",children:t.registrationNumber||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("span",{className:"label",children:"CEO:"}),(0,Fe.jsx)("span",{className:"value",children:t.ceoName||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("span",{className:"label",children:"Address:"}),(0,Fe.jsx)("span",{className:"value",children:a||"Not provided"})]})]})]}),(0,Fe.jsxs)("div",{className:"info-card secondary",children:[(0,Fe.jsxs)("div",{className:"card-header",children:[(0,Fe.jsx)("i",{className:"fas fa-phone"}),(0,Fe.jsx)("h3",{children:"Contact Information"})]}),(0,Fe.jsxs)("div",{className:"card-content",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("span",{className:"label",children:"Email:"}),(0,Fe.jsx)("span",{className:"value",children:t.email||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("span",{className:"label",children:"Phone:"}),(0,Fe.jsx)("span",{className:"value",children:t.phoneNumber||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("span",{className:"label",children:"Joined:"}),(0,Fe.jsx)("span",{className:"value",children:t.joinDate||"Not provided"})]})]})]}),(0,Fe.jsxs)("div",{className:"info-card status",children:[(0,Fe.jsxs)("div",{className:"card-header",children:[(0,Fe.jsx)("i",{className:"fas fa-check-circle"}),(0,Fe.jsx)("h3",{children:"Status"})]}),(0,Fe.jsx)("div",{className:"card-content",children:(0,Fe.jsx)("div",{className:"status-badge",children:(0,Fe.jsx)("span",{className:"status-indicator ".concat((t.status||"").toLowerCase().replace("_","-")),children:(t.status||"PENDING").toString().replace("_"," ")})})})]})]})}),(0,Fe.jsxs)("div",{className:"fpo-operations-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h2",{children:"Services & Operations"}),(0,Fe.jsx)("p",{children:"Overview of FPO services and business operations"})]}),(0,Fe.jsxs)("div",{className:"operations-grid",children:[(0,Fe.jsxs)("div",{className:"operation-card",children:[(0,Fe.jsxs)("div",{className:"card-header",children:[(0,Fe.jsx)("i",{className:"fas fa-tractor"}),(0,Fe.jsx)("h3",{children:"Farm Services"})]}),(0,Fe.jsx)("div",{className:"card-content",children:(0,Fe.jsx)(Ls,{fpoId:t.id})})]}),(0,Fe.jsxs)("div",{className:"operation-card",children:[(0,Fe.jsxs)("div",{className:"card-header",children:[(0,Fe.jsx)("i",{className:"fas fa-chart-line"}),(0,Fe.jsx)("h3",{children:"Financial Turnover"})]}),(0,Fe.jsx)("div",{className:"card-content",children:(0,Fe.jsx)(Bs,{fpoId:t.id})})]})]})]}),(0,Fe.jsxs)("div",{className:"fpo-board-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h2",{children:"Board Members"}),(0,Fe.jsx)("p",{children:"FPO leadership and governance structure"})]}),(0,Fe.jsx)("div",{className:"board-content",children:(0,Fe.jsx)(Ms,{fpoId:t.id})})]}),(0,Fe.jsxs)("div",{className:"fpo-business-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h2",{children:"Business Operations"}),(0,Fe.jsx)("p",{children:"Input shops, products, and crop management"})]}),(0,Fe.jsxs)("div",{className:"business-grid",children:[(0,Fe.jsxs)("div",{className:"business-card",children:[(0,Fe.jsxs)("div",{className:"card-header",children:[(0,Fe.jsx)("i",{className:"fas fa-store"}),(0,Fe.jsx)("h3",{children:"Input Shops"})]}),(0,Fe.jsx)("div",{className:"card-content",children:(0,Fe.jsx)(Vs,{fpoId:t.id})})]}),(0,Fe.jsxs)("div",{className:"business-card",children:[(0,Fe.jsxs)("div",{className:"card-header",children:[(0,Fe.jsx)("i",{className:"fas fa-box"}),(0,Fe.jsx)("h3",{children:"Products Sold"})]}),(0,Fe.jsx)("div",{className:"card-content",children:(0,Fe.jsx)(zs,{fpoId:t.id})})]})]})]}),(0,Fe.jsxs)("div",{className:"fpo-crops-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h2",{children:"Crop Management"}),(0,Fe.jsx)("p",{children:"Agricultural activities and crop entries"})]}),(0,Fe.jsx)("div",{className:"crops-content",children:(0,Fe.jsx)(Us,{fpoId:"number"===typeof t.id&&t.id||(Number(t.id)?Number(t.id):t.id)||t.fpoId})})]})]})]})},ia=e=>{let{fpo:s,onClose:a,onUpdated:n}=e;const[i,r]=(0,t.useState)({fpoName:"",registrationNumber:"",ceoName:"",email:"",phoneNumber:"",address:""}),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)({});(0,t.useEffect)(()=>{s&&r({fpoName:s.fpoName||"",registrationNumber:s.registrationNumber||"",ceoName:s.ceoName||"",email:s.email||"",phoneNumber:s.phoneNumber||"",address:"".concat(s.village||"").concat(s.village?", ":"").concat(s.district||"").concat(s.district?", ":"").concat(s.state||"").concat(s.pincode?" - "+s.pincode:"").trim()})},[s]);const u=e=>{const{name:t,value:s}=e.target;r(e=>(0,Ue.A)((0,Ue.A)({},e),{},{[t]:s})),c[t]&&d(e=>(0,Ue.A)((0,Ue.A)({},e),{},{[t]:""}))},h=()=>{a&&a()};return(0,Fe.jsxs)("div",{className:"fpo-edit-form",children:[(0,Fe.jsx)("div",{className:"fpo-edit-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"edit-title",children:"Edit FPO"}),(0,Fe.jsxs)("p",{className:"edit-subtitle",children:["Update ",(null===s||void 0===s?void 0:s.fpoName)||"FPO"," information"]})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:h,children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsx)("div",{className:"fpo-edit-content",children:(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return i.fpoName.trim()||(e.fpoName="FPO Name is required"),i.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)&&(e.email="Please enter a valid email address"),i.phoneNumber&&!/^[0-9+\-\s()]{10,}$/.test(i.phoneNumber.replace(/\s/g,""))&&(e.phoneNumber="Please enter a valid phone number"),d(e),0===Object.keys(e).length})()){o(!0);try{const e=(0,Ue.A)((0,Ue.A)({},s),{},{fpoName:i.fpoName,registrationNumber:i.registrationNumber,ceoName:i.ceoName,email:i.email,phoneNumber:i.phoneNumber});i.address&&i.address!=="".concat(s.village||"")&&(e.village=i.address);const t=await Oe.fpoAPI.updateFPO(s.id,e);n&&n(t),a&&a()}catch(t){console.error("Failed to update FPO",t),alert("Failed to update FPO")}finally{o(!1)}}},className:"fpo-form",children:[(0,Fe.jsxs)("div",{className:"form-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("div",{className:"section-icon",children:(0,Fe.jsx)("i",{className:"fas fa-building"})}),(0,Fe.jsxs)("div",{className:"section-info",children:[(0,Fe.jsx)("h2",{children:"Basic Information"}),(0,Fe.jsx)("p",{children:"Update the fundamental details of the FPO"})]})]}),(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"fpoName",className:"form-label",children:["FPO Name ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{type:"text",id:"fpoName",name:"fpoName",value:i.fpoName,onChange:u,className:"form-input ".concat(c.fpoName?"error":""),placeholder:"Enter FPO name"}),c.fpoName&&(0,Fe.jsx)("span",{className:"error-message",children:c.fpoName})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"registrationNumber",className:"form-label",children:"Registration Number"}),(0,Fe.jsx)("input",{type:"text",id:"registrationNumber",name:"registrationNumber",value:i.registrationNumber,onChange:u,className:"form-input",placeholder:"Enter registration number"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"ceoName",className:"form-label",children:"CEO Name"}),(0,Fe.jsx)("input",{type:"text",id:"ceoName",name:"ceoName",value:i.ceoName,onChange:u,className:"form-input",placeholder:"Enter CEO name"})]})]})]}),(0,Fe.jsxs)("div",{className:"form-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("div",{className:"section-icon",children:(0,Fe.jsx)("i",{className:"fas fa-phone"})}),(0,Fe.jsxs)("div",{className:"section-info",children:[(0,Fe.jsx)("h2",{children:"Contact Information"}),(0,Fe.jsx)("p",{children:"Update contact details and communication information"})]})]}),(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,Fe.jsx)("input",{type:"email",id:"email",name:"email",value:i.email,onChange:u,className:"form-input ".concat(c.email?"error":""),placeholder:"Enter email address"}),c.email&&(0,Fe.jsx)("span",{className:"error-message",children:c.email})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"phoneNumber",className:"form-label",children:"Phone Number"}),(0,Fe.jsx)("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:i.phoneNumber,onChange:u,className:"form-input ".concat(c.phoneNumber?"error":""),placeholder:"Enter phone number"}),c.phoneNumber&&(0,Fe.jsx)("span",{className:"error-message",children:c.phoneNumber})]})]})]}),(0,Fe.jsxs)("div",{className:"form-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("div",{className:"section-icon",children:(0,Fe.jsx)("i",{className:"fas fa-map-marker-alt"})}),(0,Fe.jsxs)("div",{className:"section-info",children:[(0,Fe.jsx)("h2",{children:"Address Information"}),(0,Fe.jsx)("p",{children:"Update the physical location and address details"})]})]}),(0,Fe.jsxs)("div",{className:"form-group full-width",children:[(0,Fe.jsx)("label",{htmlFor:"address",className:"form-label",children:"Complete Address"}),(0,Fe.jsx)("textarea",{id:"address",name:"address",value:i.address,onChange:u,className:"form-textarea",placeholder:"Enter complete address (village, district, state, pincode)",rows:"3"})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:h,children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Cancel"]}),(0,Fe.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Updating..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"fas fa-save"}),"Update FPO"]})})]})]})})]})},ra=e=>{let{fpo:s,onClose:a}=e;const[n,i]=(0,t.useState)([]),[r,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[x,b]=(0,t.useState)({}),[y,j]=(0,t.useState)({name:"",designation:"",phoneNumber:"",email:"",linkedinProfileUrl:"",location:"",role:"MEMBER"});(0,t.useEffect)(()=>{null!==s&&void 0!==s&&s.id&&N()},[null===s||void 0===s?void 0:s.id]),(0,t.useEffect)(()=>{const e=e=>{g&&!e.target.closest(".action-dropdown")&&v(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[g]);const N=async()=>{try{l(!0),console.log("Loading board members for FPO ID:",s.id);const e=await Oe.fpoAPI.getFPOBoardMembers(s.id);console.log("Board members response:",e);const t=e.data||e||[];console.log("Board members data:",t),i(Array.isArray(t)?t:[])}catch(e){console.error("Error loading board members:",e),i([])}finally{l(!1)}},w=()=>{const e={};return y.name.trim()||(e.name="Name is required"),y.designation.trim()||(e.designation="Designation is required"),y.phoneNumber.trim()?/^[0-9+\-\s()]{10,}$/.test(y.phoneNumber.replace(/\s/g,""))||(e.phoneNumber="Please enter a valid phone number"):e.phoneNumber="Phone number is required",y.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)&&(e.email="Please enter a valid email address"),y.linkedinProfileUrl&&!/^https?:\/\/.+/i.test(y.linkedinProfileUrl)&&(e.linkedinProfileUrl="Please enter a valid URL"),b(e),0===Object.keys(e).length},S=async e=>{if(e.preventDefault(),w())try{const e={name:y.name,phoneNumber:y.phoneNumber,email:y.email||null,role:y.role,address:y.location||null,qualification:y.designation||null,experience:null,photoFileName:null,documentFileName:null,remarks:y.linkedinProfileUrl?"LinkedIn: ".concat(y.linkedinProfileUrl):null};console.log("Creating board member with data:",e);const t=await Oe.fpoAPI.addBoardMember(s.id,e);console.log("Board member created successfully:",t),m(!1),j({name:"",designation:"",phoneNumber:"",email:"",linkedinProfileUrl:"",location:"",role:"MEMBER"}),b({}),setTimeout(()=>{N()},500),alert("Board member created successfully!")}catch(n){var t,a;console.error("Error creating board member:",n),alert("Error creating board member: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}},k=async e=>{if(e.preventDefault(),w())try{const e={name:y.name,phoneNumber:y.phoneNumber,email:y.email||null,role:y.role,address:y.location||null,qualification:y.designation||null,experience:null,photoFileName:null,documentFileName:null,remarks:y.linkedinProfileUrl?"LinkedIn: ".concat(y.linkedinProfileUrl):null};await Oe.fpoAPI.updateBoardMember(s.id,p.id,e),m(!1),f(null),j({name:"",designation:"",phoneNumber:"",email:"",linkedinProfileUrl:"",location:"",role:"MEMBER"}),b({}),setTimeout(()=>{N()},500),alert("Board member updated successfully!")}catch(n){var t,a;console.error("Error updating board member:",n),alert("Error updating board member: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}},C=(e,t)=>{j(s=>(0,Ue.A)((0,Ue.A)({},s),{},{[e]:t})),x[e]&&b(t=>(0,Ue.A)((0,Ue.A)({},t),{},{[e]:""}))},A=n.filter(e=>{var t,s,a;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(s=e.qualification)||void 0===s?void 0:s.toLowerCase().includes(o.toLowerCase()))||(null===(a=e.phoneNumber)||void 0===a?void 0:a.includes(o))});return h?(0,Fe.jsxs)("div",{className:"fpo-board-member-form",children:[(0,Fe.jsx)("div",{className:"form-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"form-title",children:p?"Edit Board Member":"Add New Board Member"}),(0,Fe.jsx)("p",{className:"form-subtitle",children:p?"Update board member information":"Add a new board member for "+((null===s||void 0===s?void 0:s.fpoName)||"FPO")})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>{m(!1),f(null),b({})},title:"Close",children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsx)("div",{className:"form-content",children:(0,Fe.jsxs)("form",{onSubmit:p?k:S,className:"board-member-form",children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"name",className:"form-label",children:["Full Name ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{type:"text",id:"name",value:y.name,onChange:e=>C("name",e.target.value),className:"form-input ".concat(x.name?"error":""),placeholder:"Enter full name"}),x.name&&(0,Fe.jsx)("span",{className:"error-message",children:x.name})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"designation",className:"form-label",children:["Designation ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{type:"text",id:"designation",value:y.designation,onChange:e=>C("designation",e.target.value),className:"form-input ".concat(x.designation?"error":""),placeholder:"Enter designation"}),x.designation&&(0,Fe.jsx)("span",{className:"error-message",children:x.designation})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"phoneNumber",className:"form-label",children:["Phone Number ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{type:"tel",id:"phoneNumber",value:y.phoneNumber,onChange:e=>C("phoneNumber",e.target.value),className:"form-input ".concat(x.phoneNumber?"error":""),placeholder:"Enter phone number"}),x.phoneNumber&&(0,Fe.jsx)("span",{className:"error-message",children:x.phoneNumber})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,Fe.jsx)("input",{type:"email",id:"email",value:y.email,onChange:e=>C("email",e.target.value),className:"form-input ".concat(x.email?"error":""),placeholder:"Enter email address"}),x.email&&(0,Fe.jsx)("span",{className:"error-message",children:x.email})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"linkedinProfileUrl",className:"form-label",children:"LinkedIn Profile URL"}),(0,Fe.jsx)("input",{type:"url",id:"linkedinProfileUrl",value:y.linkedinProfileUrl,onChange:e=>C("linkedinProfileUrl",e.target.value),className:"form-input ".concat(x.linkedinProfileUrl?"error":""),placeholder:"https://linkedin.com/in/username"}),x.linkedinProfileUrl&&(0,Fe.jsx)("span",{className:"error-message",children:x.linkedinProfileUrl})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"location",className:"form-label",children:"Location"}),(0,Fe.jsx)("input",{type:"text",id:"location",value:y.location,onChange:e=>C("location",e.target.value),className:"form-input",placeholder:"Enter location"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"role",className:"form-label",children:"Role"}),(0,Fe.jsxs)("select",{id:"role",value:y.role,onChange:e=>C("role",e.target.value),className:"form-select",children:[(0,Fe.jsx)("option",{value:"MEMBER",children:"Member"}),(0,Fe.jsx)("option",{value:"CHAIRMAN",children:"Chairman"}),(0,Fe.jsx)("option",{value:"VICE_CHAIRMAN",children:"Vice Chairman"}),(0,Fe.jsx)("option",{value:"SECRETARY",children:"Secretary"}),(0,Fe.jsx)("option",{value:"TREASURER",children:"Treasurer"})]})]})]}),x.submit&&(0,Fe.jsxs)("div",{className:"submit-error",children:[(0,Fe.jsx)("i",{className:"fas fa-exclamation-triangle"}),x.submit]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{m(!1),f(null),b({})},children:"Cancel"}),(0,Fe.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),p?"Update Member":"Add Member"]})]})]})})]}):(0,Fe.jsxs)("div",{className:"fpo-board-members-view",children:[(0,Fe.jsx)("div",{className:"board-members-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"board-members-title",children:"Board Members Management"}),(0,Fe.jsxs)("p",{className:"board-members-subtitle",children:["Manage board members for ",(null===s||void 0===s?void 0:s.fpoName)||"FPO"]})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsxs)("div",{className:"board-members-content",children:[(0,Fe.jsxs)("div",{className:"action-bar",children:[(0,Fe.jsxs)("button",{className:"create-member-btn",onClick:()=>{m(!0),f(null),j({name:"",designation:"",phoneNumber:"",email:"",linkedinProfileUrl:"",location:"",role:"MEMBER"}),b({})},children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add Board Member"]}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsxs)("div",{className:"search-container",children:[(0,Fe.jsx)("i",{className:"fas fa-search search-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Search board members...",value:o,onChange:e=>c(e.target.value),className:"search-input"})]}),(0,Fe.jsxs)("div",{className:"date-filter-container",children:[(0,Fe.jsx)("i",{className:"fas fa-calendar-alt calendar-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Date range filter",value:d,onChange:e=>u(e.target.value),className:"date-filter-input"})]})]})]}),(0,Fe.jsx)("div",{className:"members-table-container",children:(0,Fe.jsx)("div",{className:"table-wrapper",children:(0,Fe.jsxs)("table",{className:"board-members-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"ID"}),(0,Fe.jsx)("th",{children:"Name"}),(0,Fe.jsx)("th",{children:"Designation"}),(0,Fe.jsx)("th",{children:"Phone Number"}),(0,Fe.jsx)("th",{children:"Location"}),(0,Fe.jsx)("th",{children:"Status"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:r?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"7",className:"loading-cell",children:(0,Fe.jsxs)("div",{className:"loading-spinner",children:[(0,Fe.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Loading board members..."]})})}):0===A.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"7",className:"no-data-cell",children:(0,Fe.jsxs)("div",{className:"no-data-message",children:[(0,Fe.jsx)("i",{className:"fas fa-users"}),(0,Fe.jsx)("p",{children:"No board members found"}),(0,Fe.jsx)("span",{children:"Try adjusting your search criteria or add a new board member"})]})})}):A.map((e,t)=>(0,Fe.jsxs)("tr",{className:"member-row",children:[(0,Fe.jsx)("td",{className:"member-id",children:e.id||"BM".concat(t+1)}),(0,Fe.jsx)("td",{className:"member-name",children:e.name||"-"}),(0,Fe.jsx)("td",{className:"member-designation",children:e.qualification||"-"}),(0,Fe.jsx)("td",{className:"member-phone",children:e.phoneNumber||"-"}),(0,Fe.jsx)("td",{className:"member-location",children:e.address||"-"}),(0,Fe.jsx)("td",{className:"member-status",children:(0,Fe.jsx)("div",{className:"status-toggle-container",children:(0,Fe.jsxs)("label",{className:"status-toggle",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:"ACTIVE"===e.status,onChange:t=>{const a=t.target.checked?"ACTIVE":"INACTIVE";(async(e,t)=>{try{console.log("Updating board member status:",e,"to",t),i(s=>s.map(s=>s.id===e?(0,Ue.A)((0,Ue.A)({},s),{},{status:t}):s));const a=n.find(t=>t.id===e);if(!a)return void alert("Board member not found!");const r={name:a.name,phoneNumber:a.phoneNumber,email:a.email||null,role:a.role,address:a.address||null,qualification:a.qualification||null,experience:a.experience||null,photoFileName:a.photoFileName||null,documentFileName:a.documentFileName||null,remarks:a.remarks||null,status:t};console.log("Update data:",r);const l=await Oe.fpoAPI.updateBoardMember(s.id,e,r);console.log("Update response:",l),alert("Board member status updated to ".concat(t,"!"))}catch(l){var a,r;console.error("Error updating board member status:",l),alert("Error updating board member status: "+((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||l.message)),i(t=>t.map(t=>t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{status:t.status}):t))}})(e.id,a)}}),(0,Fe.jsx)("span",{className:"status-slider",children:(0,Fe.jsx)("span",{className:"status-text",children:"ACTIVE"===e.status?"ACTIVE":"INACTIVE"})})]})})}),(0,Fe.jsx)("td",{className:"member-actions",children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>v(g===e.id?null:e.id),children:(0,Fe.jsx)("i",{className:"fas fa-ellipsis-v"})}),g===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsxs)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{f(e);let t="";e.remarks&&e.remarks.includes("LinkedIn:")&&(t=e.remarks.replace("LinkedIn:","").trim()),j({name:e.name||"",designation:e.qualification||"",phoneNumber:e.phoneNumber||"",email:e.email||"",linkedinProfileUrl:t,location:e.address||"",role:e.role||"MEMBER"}),b({}),m(!0)})(e),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-edit"}),"Edit"]}),(0,Fe.jsxs)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this board member?"))try{await Oe.fpoAPI.removeBoardMember(s.id,e),setTimeout(()=>{N()},500),alert("Board member deleted successfully!")}catch(n){var t,a;console.error("Error deleting board member:",n),alert("Error deleting board member: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}})(e.id),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-trash"}),"Delete"]})]})]})})]},e.id||t))})]})})}),(0,Fe.jsxs)("div",{className:"stats-summary",children:[(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-users"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Members"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-check-circle"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.filter(e=>"ACTIVE"===e.status).length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Active Members"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-pause-circle"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.filter(e=>"INACTIVE"===e.status).length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Inactive Members"})]})]})]})]})]})},la=e=>{let{fpo:s,onClose:a}=e;const[n,i]=(0,t.useState)([]),[r,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[x,b]=(0,t.useState)({}),[y,j]=(0,t.useState)({serviceType:"",description:""});(0,t.useEffect)(()=>{null!==s&&void 0!==s&&s.id&&N()},[null===s||void 0===s?void 0:s.id]),(0,t.useEffect)(()=>{const e=e=>{g&&!e.target.closest(".action-dropdown")&&v(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[g]);const N=async()=>{try{l(!0),console.log("Loading farm services for FPO ID:",s.id);const e=await Oe.fpoAPI.getFPOServices(s.id);console.log("Farm services response:",e);const t=e.data||e||[];console.log("Farm services data:",t),i(Array.isArray(t)?t:[])}catch(e){console.error("Error loading farm services:",e),i([])}finally{l(!1)}},w=()=>{const e={};return y.serviceType.trim()||(e.serviceType="Service type is required"),b(e),0===Object.keys(e).length},S=async e=>{if(e.preventDefault(),w())try{const e={serviceType:y.serviceType,description:y.description||"No description provided",scheduledAt:null,serviceProvider:null,serviceProviderContact:null,serviceCost:null,paymentStatus:null,remarks:null};console.log("Creating farm service with data:",e);const t=await Oe.fpoAPI.createService(s.id,e);console.log("Farm service created successfully:",t),m(!1),j({serviceType:"",description:""}),b({}),setTimeout(()=>{N()},500),alert("Farm service created successfully!")}catch(n){var t,a;console.error("Error creating farm service:",n),alert("Error creating farm service: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}},k=async e=>{if(e.preventDefault(),w())try{const e={serviceType:y.serviceType,description:y.description||"No description provided",scheduledAt:null,serviceProvider:null,serviceProviderContact:null,serviceCost:null,paymentStatus:null,remarks:null};console.log("Updating farm service:",p.id,"with data:",e),await Oe.fpoAPI.updateService(s.id,p.id,e),m(!1),f(null),j({serviceType:"",description:""}),b({}),alert("Farm service updated successfully!"),N()}catch(n){var t,a;console.error("Error updating farm service:",n),alert("Error updating farm service: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}},C=(e,t)=>{j(s=>(0,Ue.A)((0,Ue.A)({},s),{},{[e]:t})),x[e]&&b(t=>(0,Ue.A)((0,Ue.A)({},t),{},{[e]:""}))},A=n.filter(e=>{var t,s;return(null===(t=e.serviceType)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(o.toLowerCase()))}),E=[{value:"SOIL_TEST",label:"Soil Test"},{value:"WATER_TEST",label:"Water Test"},{value:"MACHINERY_RENTAL",label:"Machinery Rental"},{value:"SEED_SUPPLY",label:"Seed Supply"},{value:"FERTILIZER_SUPPLY",label:"Fertilizer Supply"},{value:"PESTICIDE_SUPPLY",label:"Pesticide Supply"},{value:"TECHNICAL_SUPPORT",label:"Technical Support"},{value:"MARKETING_SUPPORT",label:"Marketing Support"},{value:"TRAINING",label:"Training"},{value:"INSURANCE",label:"Insurance"},{value:"CREDIT_FACILITY",label:"Credit Facility"},{value:"OTHER",label:"Other"}];return h?(0,Fe.jsxs)("div",{className:"fpo-farm-service-form",children:[(0,Fe.jsx)("div",{className:"form-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"form-title",children:p?"Edit Farm Service":"Add New Farm Service"}),(0,Fe.jsx)("p",{className:"form-subtitle",children:p?"Update farm service information":"Add a new farm service for "+((null===s||void 0===s?void 0:s.fpoName)||"FPO")})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>{m(!1),f(null),b({})},title:"Close",children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsx)("div",{className:"form-content",children:(0,Fe.jsxs)("form",{onSubmit:p?k:S,className:"farm-service-form",children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"serviceType",className:"form-label",children:["Service Type ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",{id:"serviceType",value:y.serviceType,onChange:e=>C("serviceType",e.target.value),className:"form-select ".concat(x.serviceType?"error":""),children:[(0,Fe.jsx)("option",{value:"",children:"Select Service Type"}),E.map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))]}),x.serviceType&&(0,Fe.jsx)("span",{className:"error-message",children:x.serviceType})]}),(0,Fe.jsxs)("div",{className:"form-group form-group-full",children:[(0,Fe.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),(0,Fe.jsx)("textarea",{id:"description",value:y.description,onChange:e=>C("description",e.target.value),className:"form-textarea",placeholder:"Enter detailed description of the farm service...",rows:4})]})]}),x.submit&&(0,Fe.jsxs)("div",{className:"submit-error",children:[(0,Fe.jsx)("i",{className:"fas fa-exclamation-triangle"}),x.submit]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{m(!1),f(null),b({})},children:"Cancel"}),(0,Fe.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),p?"Update Service":"Add Service"]})]})]})})]}):(0,Fe.jsxs)("div",{className:"fpo-farm-services-view",children:[(0,Fe.jsx)("div",{className:"farm-services-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"farm-services-title",children:"Farm Services Management"}),(0,Fe.jsxs)("p",{className:"farm-services-subtitle",children:["Manage farm services for ",(null===s||void 0===s?void 0:s.fpoName)||"FPO"]})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsxs)("div",{className:"farm-services-content",children:[(0,Fe.jsxs)("div",{className:"action-bar",children:[(0,Fe.jsxs)("button",{className:"create-service-btn",onClick:()=>{m(!0),f(null),j({serviceType:"",description:""}),b({})},children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add Farm Service"]}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsxs)("div",{className:"search-container",children:[(0,Fe.jsx)("i",{className:"fas fa-search search-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Search farm services...",value:o,onChange:e=>c(e.target.value),className:"search-input"})]}),(0,Fe.jsxs)("div",{className:"date-filter-container",children:[(0,Fe.jsx)("i",{className:"fas fa-calendar-alt calendar-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Date range filter",value:d,onChange:e=>u(e.target.value),className:"date-filter-input"})]})]})]}),(0,Fe.jsx)("div",{className:"services-table-container",children:(0,Fe.jsx)("div",{className:"table-wrapper",children:(0,Fe.jsxs)("table",{className:"farm-services-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"ID"}),(0,Fe.jsx)("th",{children:"Service Name"}),(0,Fe.jsx)("th",{children:"Description"}),(0,Fe.jsx)("th",{children:"Status"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:r?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"5",className:"loading-cell",children:(0,Fe.jsxs)("div",{className:"loading-spinner",children:[(0,Fe.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Loading farm services..."]})})}):0===A.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"5",className:"no-data-cell",children:(0,Fe.jsxs)("div",{className:"no-data-message",children:[(0,Fe.jsx)("i",{className:"fas fa-tractor"}),(0,Fe.jsx)("p",{children:"No farm services found"}),(0,Fe.jsx)("span",{children:"Try adjusting your search criteria or add a new farm service"})]})})}):A.map((e,t)=>{var a;return(0,Fe.jsxs)("tr",{className:"service-row",children:[(0,Fe.jsx)("td",{className:"service-id",children:e.id||"FS".concat(t+1)}),(0,Fe.jsx)("td",{className:"service-name",children:e.serviceType?(null===(a=E.find(t=>t.value===e.serviceType))||void 0===a?void 0:a.label)||e.serviceType.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()):"-"}),(0,Fe.jsx)("td",{className:"service-description",children:e.description?e.description.length>100?e.description.substring(0,100)+"...":e.description:"-"}),(0,Fe.jsx)("td",{className:"service-status",children:(0,Fe.jsx)("div",{className:"status-toggle-container",children:(0,Fe.jsxs)("label",{className:"status-toggle",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:"APPROVED"===e.status||"IN_PROGRESS"===e.status||"COMPLETED"===e.status,onChange:t=>{const a=t.target.checked?"APPROVED":"REQUESTED";(async(e,t)=>{try{console.log("Updating farm service status:",e,"to",t),i(s=>s.map(s=>s.id===e?(0,Ue.A)((0,Ue.A)({},s),{},{status:t}):s));const a=await Oe.fpoAPI.updateServiceStatus(s.id,e,t);console.log("Status update response:",a),alert("Farm service status updated to ".concat(t,"!")),setTimeout(()=>{N()},1e3)}catch(r){var a,n;console.error("Error updating farm service status:",r),alert("Error updating farm service status: "+((null===(a=r.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||r.message)),i(t=>t.map(t=>t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{status:t.status}):t))}})(e.id,a)}}),(0,Fe.jsx)("span",{className:"status-slider",children:(0,Fe.jsx)("span",{className:"status-text",children:"APPROVED"===e.status||"IN_PROGRESS"===e.status||"COMPLETED"===e.status?"ACTIVE":"INACTIVE"})})]})})}),(0,Fe.jsx)("td",{className:"service-actions",children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>v(g===e.id?null:e.id),children:(0,Fe.jsx)("i",{className:"fas fa-ellipsis-v"})}),g===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsxs)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{f(e),j({serviceType:e.serviceType||"",description:e.description||""}),b({}),m(!0)})(e),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-edit"}),"Edit"]}),(0,Fe.jsxs)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this farm service?"))try{await Oe.fpoAPI.removeService(s.id,e),alert("Farm service deleted successfully!"),N()}catch(n){var t,a;console.error("Error deleting farm service:",n),alert("Error deleting farm service: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}})(e.id),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-trash"}),"Delete"]})]})]})})]},e.id||t)})})]})})}),(0,Fe.jsxs)("div",{className:"stats-summary",children:[(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-tractor"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Services"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-check-circle"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.filter(e=>"APPROVED"===e.status||"IN_PROGRESS"===e.status||"COMPLETED"===e.status).length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Active Services"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-clock"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.filter(e=>"REQUESTED"===e.status||"PENDING"===e.status).length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Pending Services"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-times-circle"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.filter(e=>"REJECTED"===e.status||"CANCELLED"===e.status).length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Rejected Services"})]})]})]})]})]})},oa=e=>{let{fpo:s,onClose:a}=e;const[n,i]=(0,t.useState)([]),[r,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[x,b]=(0,t.useState)({}),[y,j]=(0,t.useState)({financialYear:"",turnoverAmount:""});(0,t.useEffect)(()=>{null!==s&&void 0!==s&&s.id&&N()},[null===s||void 0===s?void 0:s.id]),(0,t.useEffect)(()=>{const e=e=>{g&&!e.target.closest(".action-dropdown")&&v(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[g]);const N=async()=>{try{l(!0),console.log("Loading turnovers for FPO ID:",s.id);const e=await Oe.fpoAPI.getFPOTurnovers(s.id);console.log("Turnovers response:",e);const t=e.data||e||[];console.log("Turnovers data:",t),i(Array.isArray(t)?t:[])}catch(e){console.error("Error loading turnovers:",e),i([])}finally{l(!1)}},w=()=>{const e={};return y.financialYear.trim()||(e.financialYear="Financial year is required"),y.turnoverAmount.trim()?(isNaN(parseFloat(y.turnoverAmount))||parseFloat(y.turnoverAmount)<0)&&(e.turnoverAmount="Please enter a valid positive number"):e.turnoverAmount="Turnover amount is required",b(e),0===Object.keys(e).length},S=async e=>{if(e.preventDefault(),w())try{const e={financialYear:parseInt(y.financialYear)||0,month:1,quarter:1,revenue:parseFloat(y.turnoverAmount)||0,expenses:0,turnoverType:"YEARLY",description:null,remarks:null,documentFileName:null,enteredBy:null};console.log("Creating turnover with data:",e);const t=await Oe.fpoAPI.createTurnover(s.id,e);console.log("Turnover created successfully:",t),m(!1),j({financialYear:"",turnoverAmount:""}),b({}),setTimeout(()=>{N()},500),alert("Turnover created successfully!")}catch(n){var t,a;console.error("Error creating turnover:",n),alert("Error creating turnover: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}},k=async e=>{if(e.preventDefault(),w())try{const e={financialYear:parseInt(y.financialYear)||0,month:1,quarter:1,revenue:parseFloat(y.turnoverAmount)||0,expenses:0,turnoverType:"YEARLY",description:null,remarks:null,documentFileName:null,enteredBy:null};console.log("Updating turnover:",p.id,"with data:",e),await Oe.fpoAPI.updateTurnover(s.id,p.id,e),m(!1),f(null),j({financialYear:"",turnoverAmount:""}),b({}),alert("Turnover updated successfully!"),N()}catch(n){var t,a;console.error("Error updating turnover:",n),alert("Error updating turnover: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}},C=(e,t)=>{j(s=>(0,Ue.A)((0,Ue.A)({},s),{},{[e]:t})),x[e]&&b(t=>(0,Ue.A)((0,Ue.A)({},t),{},{[e]:""}))},A=n.filter(e=>{var t;return(e.financialYear?"".concat(e.financialYear,"-").concat(e.financialYear+1):"").toLowerCase().includes(o.toLowerCase())||(null===(t=e.revenue)||void 0===t?void 0:t.toString().includes(o.toLowerCase()))}),E=e=>e?new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"\u20b90",P=()=>n.reduce((e,t)=>e+(t.revenue||0),0),I=()=>0===n.length?null:Math.max(...n.map(e=>e.financialYear||0));return h?(0,Fe.jsxs)("div",{className:"fpo-turnover-form",children:[(0,Fe.jsx)("div",{className:"form-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"form-title",children:p?"Edit Turnover Record":"Add New Turnover Record"}),(0,Fe.jsx)("p",{className:"form-subtitle",children:p?"Update turnover record information":"Add a new turnover record for "+((null===s||void 0===s?void 0:s.fpoName)||"FPO")})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>{m(!1),f(null),b({})},title:"Close",children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsx)("div",{className:"form-content",children:(0,Fe.jsxs)("form",{onSubmit:p?k:S,className:"turnover-form",children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"financialYear",className:"form-label",children:["Financial Year ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{type:"text",id:"financialYear",value:y.financialYear,onChange:e=>C("financialYear",e.target.value),className:"form-input ".concat(x.financialYear?"error":""),placeholder:"e.g., 2023-24"}),x.financialYear&&(0,Fe.jsx)("span",{className:"error-message",children:x.financialYear})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"turnoverAmount",className:"form-label",children:["Turnover Amount ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{type:"number",id:"turnoverAmount",value:y.turnoverAmount,onChange:e=>C("turnoverAmount",e.target.value),className:"form-input ".concat(x.turnoverAmount?"error":""),placeholder:"Enter turnover amount in INR",min:"0",step:"0.01"}),x.turnoverAmount&&(0,Fe.jsx)("span",{className:"error-message",children:x.turnoverAmount})]})]}),x.submit&&(0,Fe.jsxs)("div",{className:"submit-error",children:[(0,Fe.jsx)("i",{className:"fas fa-exclamation-triangle"}),x.submit]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{m(!1),f(null),b({})},children:"Cancel"}),(0,Fe.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),p?"Update Record":"Add Record"]})]})]})})]}):(0,Fe.jsxs)("div",{className:"fpo-turnover-view",children:[(0,Fe.jsx)("div",{className:"turnover-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"turnover-title",children:"Financial Turnover Management"}),(0,Fe.jsxs)("p",{className:"turnover-subtitle",children:["Manage financial turnover records for ",(null===s||void 0===s?void 0:s.fpoName)||"FPO"]})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsxs)("div",{className:"turnover-content",children:[(0,Fe.jsxs)("div",{className:"action-bar",children:[(0,Fe.jsxs)("button",{className:"create-turnover-btn",onClick:()=>{m(!0),f(null),j({financialYear:"",turnoverAmount:""}),b({})},children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add Turnover Record"]}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsxs)("div",{className:"search-container",children:[(0,Fe.jsx)("i",{className:"fas fa-search search-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Search turnover records...",value:o,onChange:e=>c(e.target.value),className:"search-input"})]}),(0,Fe.jsxs)("div",{className:"date-filter-container",children:[(0,Fe.jsx)("i",{className:"fas fa-calendar-alt calendar-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Date range filter",value:d,onChange:e=>u(e.target.value),className:"date-filter-input"})]})]})]}),(0,Fe.jsx)("div",{className:"turnover-table-container",children:(0,Fe.jsx)("div",{className:"table-wrapper",children:(0,Fe.jsxs)("table",{className:"turnover-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"ID"}),(0,Fe.jsx)("th",{children:"Financial Year"}),(0,Fe.jsx)("th",{children:"Turnover Amount"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:r?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"4",className:"loading-cell",children:(0,Fe.jsxs)("div",{className:"loading-spinner",children:[(0,Fe.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Loading turnover records..."]})})}):0===A.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"4",className:"no-data-cell",children:(0,Fe.jsxs)("div",{className:"no-data-message",children:[(0,Fe.jsx)("i",{className:"fas fa-chart-line"}),(0,Fe.jsx)("p",{children:"No turnover records found"}),(0,Fe.jsx)("span",{children:"Try adjusting your search criteria or add a new turnover record"})]})})}):A.map((e,t)=>(0,Fe.jsxs)("tr",{className:"turnover-row",children:[(0,Fe.jsx)("td",{className:"turnover-id",children:e.id||"T".concat(t+1)}),(0,Fe.jsx)("td",{className:"turnover-year",children:e.financialYear?"".concat(e.financialYear,"-").concat(e.financialYear+1):"-"}),(0,Fe.jsx)("td",{className:"turnover-amount",children:(0,Fe.jsx)("span",{className:"amount-display",children:E(e.revenue)})}),(0,Fe.jsx)("td",{className:"turnover-actions",children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>v(g===e.id?null:e.id),children:(0,Fe.jsx)("i",{className:"fas fa-ellipsis-v"})}),g===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsxs)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{var t,s;f(e),j({financialYear:(null===(t=e.financialYear)||void 0===t?void 0:t.toString())||"",turnoverAmount:(null===(s=e.revenue)||void 0===s?void 0:s.toString())||""}),b({}),m(!0)})(e),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-edit"}),"Edit"]}),(0,Fe.jsxs)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this turnover record?"))try{await Oe.fpoAPI.deleteTurnover(s.id,e),alert("Turnover deleted successfully!"),N()}catch(n){var t,a;console.error("Error deleting turnover:",n),alert("Error deleting turnover: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}})(e.id),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-trash"}),"Delete"]})]})]})})]},e.id||t))})]})})}),(0,Fe.jsxs)("div",{className:"stats-summary",children:[(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-chart-line"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Records"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-rupee-sign"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:E(P())}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Turnover"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-chart-bar"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:E(0===n.length?0:P()/n.length)}),(0,Fe.jsx)("span",{className:"stat-label",children:"Average Turnover"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-trophy"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:E(0===n.length?0:Math.max(...n.map(e=>e.revenue||0)))}),(0,Fe.jsx)("span",{className:"stat-label",children:"Highest Turnover"})]})]})]}),n.length>0&&(0,Fe.jsxs)("div",{className:"financial-overview",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h3",{children:"Financial Overview"}),(0,Fe.jsx)("p",{children:"Comprehensive financial analysis and insights"})]}),(0,Fe.jsxs)("div",{className:"overview-content",children:[(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-calendar-alt"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Latest Financial Year"}),(0,Fe.jsx)("span",{className:"overview-value",children:I()?"".concat(I(),"-").concat(I()+1):"N/A"})]})]}),(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-trending-up"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Growth Potential"}),(0,Fe.jsx)("span",{className:"overview-value",children:n.length>=2?"Analyzing...":"Insufficient Data"})]})]}),(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-chart-pie"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Performance"}),(0,Fe.jsx)("span",{className:"overview-value",children:n.length>0?"Good":"No Data"})]})]})]})]})]})]})},ca=e=>{let{fpo:s,onClose:a}=e;const[n,i]=(0,t.useState)([]),[r,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[x,b]=(0,t.useState)({}),[y,j]=(0,t.useState)({cropYear:"",cropName:"",area:"",production:""});(0,t.useEffect)(()=>{null!==s&&void 0!==s&&s.id&&N()},[null===s||void 0===s?void 0:s.id]),(0,t.useEffect)(()=>{const e=e=>{g&&!e.target.closest(".action-dropdown")&&v(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[g]);const N=async()=>{try{l(!0),console.log("Loading crop entries for FPO ID:",s.id);const e=await Oe.fpoAPI.getFPOCrops(s.id);console.log("Crop entries response:",e);const t=e.data||e||[];console.log("Crop entries data:",t),i(Array.isArray(t)?t:[])}catch(e){console.error("Error loading crop entries:",e),i([])}finally{l(!1)}},w=()=>{const e={};return y.cropYear.trim()||(e.cropYear="Crop year is required"),y.cropName.trim()||(e.cropName="Crop name is required"),y.area.trim()?(isNaN(parseFloat(y.area))||parseFloat(y.area)<0)&&(e.area="Please enter a valid positive number"):e.area="Area is required",y.production.trim()?(isNaN(parseFloat(y.production))||parseFloat(y.production)<0)&&(e.production="Please enter a valid positive number"):e.production="Production is required",b(e),0===Object.keys(e).length},S=async e=>{if(e.preventDefault(),w())try{const e={farmerId:null,cropName:y.cropName,variety:"Default Variety",area:parseFloat(y.area)||0,season:"KHARIF",sowingDate:(new Date).toISOString().split("T")[0],expectedHarvestDate:null,expectedYield:parseFloat(y.production)||0,marketPrice:null,soilType:null,irrigationMethod:null,seedSource:null,fertilizerUsed:null,pesticideUsed:null,remarks:null,photoFileName:null};console.log("Creating crop entry with data:",e);const t=await Oe.fpoAPI.createCrop(s.id,e);console.log("Crop entry created successfully:",t),m(!1),j({cropYear:"",cropName:"",area:"",production:""}),b({}),setTimeout(()=>{N()},500),alert("Crop entry created successfully!")}catch(n){var t,a;console.error("Error creating crop entry:",n),alert("Error creating crop entry: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}},k=async e=>{if(e.preventDefault(),w())try{const e={farmerId:null,cropName:y.cropName,variety:"Default Variety",area:parseFloat(y.area)||0,season:"KHARIF",sowingDate:(new Date).toISOString().split("T")[0],expectedHarvestDate:null,expectedYield:parseFloat(y.production)||0,marketPrice:null,soilType:null,irrigationMethod:null,seedSource:null,fertilizerUsed:null,pesticideUsed:null,remarks:null,photoFileName:null};console.log("Updating crop entry:",p.id,"with data:",e),await Oe.fpoAPI.updateCrop(s.id,p.id,e),m(!1),f(null),j({cropYear:"",cropName:"",area:"",production:""}),b({}),alert("Crop entry updated successfully!"),N()}catch(n){var t,a;console.error("Error updating crop entry:",n),alert("Error updating crop entry: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}},C=(e,t)=>{j(s=>(0,Ue.A)((0,Ue.A)({},s),{},{[e]:t})),x[e]&&b(t=>(0,Ue.A)((0,Ue.A)({},t),{},{[e]:""}))},A=n.filter(e=>{var t,s,a;const n=e.sowingDate?new Date(e.sowingDate).getFullYear():null;return(n?"".concat(n,"-").concat(n+1):"").toLowerCase().includes(o.toLowerCase())||(null===(t=e.cropName)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(s=e.area)||void 0===s?void 0:s.toString().includes(o.toLowerCase()))||(null===(a=e.expectedYield)||void 0===a?void 0:a.toString().includes(o.toLowerCase()))}),E=e=>e?new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e):"0",P=()=>n.reduce((e,t)=>e+(t.area||0),0),I=()=>n.reduce((e,t)=>e+(t.expectedYield||0),0),F=()=>[...new Set(n.map(e=>e.cropName).filter(Boolean))].length,D=()=>{if(0===n.length)return null;const e=n.map(e=>e.sowingDate?new Date(e.sowingDate).getFullYear():null).filter(Boolean);return e.length>0?Math.max(...e):null};return h?(0,Fe.jsxs)("div",{className:"fpo-crop-entry-form",children:[(0,Fe.jsx)("div",{className:"form-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"form-title",children:p?"Edit Crop Entry":"Add New Crop Entry"}),(0,Fe.jsx)("p",{className:"form-subtitle",children:p?"Update crop entry information":"Add a new crop entry for "+((null===s||void 0===s?void 0:s.fpoName)||"FPO")})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>{m(!1),f(null),b({})},title:"Close",children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsx)("div",{className:"form-content",children:(0,Fe.jsxs)("form",{onSubmit:p?k:S,className:"crop-entry-form",children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"cropYear",className:"form-label",children:["Crop Year ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{type:"text",id:"cropYear",value:y.cropYear,onChange:e=>C("cropYear",e.target.value),className:"form-input ".concat(x.cropYear?"error":""),placeholder:"e.g., 2023"}),x.cropYear&&(0,Fe.jsx)("span",{className:"error-message",children:x.cropYear})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"cropName",className:"form-label",children:["Crop Name ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{type:"text",id:"cropName",value:y.cropName,onChange:e=>C("cropName",e.target.value),className:"form-input ".concat(x.cropName?"error":""),placeholder:"Enter crop name (e.g., Rice, Wheat)"}),x.cropName&&(0,Fe.jsx)("span",{className:"error-message",children:x.cropName})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"area",className:"form-label",children:["Area (in acres) ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{type:"number",id:"area",value:y.area,onChange:e=>C("area",e.target.value),className:"form-input ".concat(x.area?"error":""),placeholder:"Enter area in acres",min:"0",step:"0.01"}),x.area&&(0,Fe.jsx)("span",{className:"error-message",children:x.area})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"production",className:"form-label",children:["Production (in metric tons) ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{type:"number",id:"production",value:y.production,onChange:e=>C("production",e.target.value),className:"form-input ".concat(x.production?"error":""),placeholder:"Enter production in metric tons",min:"0",step:"0.01"}),x.production&&(0,Fe.jsx)("span",{className:"error-message",children:x.production})]})]}),x.submit&&(0,Fe.jsxs)("div",{className:"submit-error",children:[(0,Fe.jsx)("i",{className:"fas fa-exclamation-triangle"}),x.submit]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{m(!1),f(null),b({})},children:"Cancel"}),(0,Fe.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,Fe.jsx)("i",{className:"fas fa-seedling"}),p?"Update Entry":"Add Entry"]})]})]})})]}):(0,Fe.jsxs)("div",{className:"fpo-crop-entries-view",children:[(0,Fe.jsx)("div",{className:"crop-entries-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"crop-entries-title",children:"Crop Production Management"}),(0,Fe.jsxs)("p",{className:"crop-entries-subtitle",children:["Manage crop entries and production data for ",(null===s||void 0===s?void 0:s.fpoName)||"FPO"]})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsxs)("div",{className:"crop-entries-content",children:[(0,Fe.jsxs)("div",{className:"action-bar",children:[(0,Fe.jsxs)("button",{className:"create-crop-entry-btn",onClick:()=>{m(!0),f(null),j({cropYear:"",cropName:"",area:"",production:""}),b({})},children:[(0,Fe.jsx)("i",{className:"fas fa-seedling"}),"Add Crop Entry"]}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsxs)("div",{className:"search-container",children:[(0,Fe.jsx)("i",{className:"fas fa-search search-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Search crop entries...",value:o,onChange:e=>c(e.target.value),className:"search-input"})]}),(0,Fe.jsxs)("div",{className:"date-filter-container",children:[(0,Fe.jsx)("i",{className:"fas fa-calendar-alt calendar-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Date range filter",value:d,onChange:e=>u(e.target.value),className:"date-filter-input"})]})]})]}),(0,Fe.jsx)("div",{className:"crop-entries-table-container",children:(0,Fe.jsx)("div",{className:"table-wrapper",children:(0,Fe.jsxs)("table",{className:"crop-entries-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"ID"}),(0,Fe.jsx)("th",{children:"Financial Year"}),(0,Fe.jsx)("th",{children:"Crop Name"}),(0,Fe.jsx)("th",{children:"Area (Acres)"}),(0,Fe.jsx)("th",{children:"Production (Metric Tons)"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:r?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"6",className:"loading-cell",children:(0,Fe.jsxs)("div",{className:"loading-spinner",children:[(0,Fe.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Loading crop entries..."]})})}):0===A.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"6",className:"no-data-cell",children:(0,Fe.jsxs)("div",{className:"no-data-message",children:[(0,Fe.jsx)("i",{className:"fas fa-seedling"}),(0,Fe.jsx)("p",{children:"No crop entries found"}),(0,Fe.jsx)("span",{children:"Try adjusting your search criteria or add a new crop entry"})]})})}):A.map((e,t)=>(0,Fe.jsxs)("tr",{className:"crop-entry-row",children:[(0,Fe.jsx)("td",{className:"crop-entry-id",children:e.id||"C".concat(t+1)}),(0,Fe.jsx)("td",{className:"crop-entry-year",children:e.sowingDate?"".concat(new Date(e.sowingDate).getFullYear(),"-").concat(new Date(e.sowingDate).getFullYear()+1):"-"}),(0,Fe.jsx)("td",{className:"crop-entry-name",children:(0,Fe.jsx)("span",{className:"crop-name-display",children:e.cropName||"-"})}),(0,Fe.jsx)("td",{className:"crop-entry-area",children:(0,Fe.jsxs)("span",{className:"area-display",children:[E(e.area)," acres"]})}),(0,Fe.jsx)("td",{className:"crop-entry-production",children:(0,Fe.jsxs)("span",{className:"production-display",children:[E(e.expectedYield)," MT"]})}),(0,Fe.jsx)("td",{className:"crop-entry-actions",children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>v(g===e.id?null:e.id),children:(0,Fe.jsx)("i",{className:"fas fa-ellipsis-v"})}),g===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsxs)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{var t,s;f(e),j({cropYear:e.sowingDate?new Date(e.sowingDate).getFullYear().toString():"",cropName:e.cropName||"",area:(null===(t=e.area)||void 0===t?void 0:t.toString())||"",production:(null===(s=e.expectedYield)||void 0===s?void 0:s.toString())||""}),b({}),m(!0)})(e),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-edit"}),"Edit"]}),(0,Fe.jsxs)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this crop entry?"))try{await Oe.fpoAPI.deleteCrop(s.id,e),alert("Crop entry deleted successfully!"),N()}catch(n){var t,a;console.error("Error deleting crop entry:",n),alert("Error deleting crop entry: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}})(e.id),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-trash"}),"Delete"]})]})]})})]},e.id||t))})]})})}),(0,Fe.jsxs)("div",{className:"stats-summary",children:[(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-list"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Entries"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-seedling"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:F()}),(0,Fe.jsx)("span",{className:"stat-label",children:"Unique Crops"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-map"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:E(P())}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Area (Acres)"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-weight"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:E(I())}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Production (MT)"})]})]})]}),n.length>0&&(0,Fe.jsxs)("div",{className:"production-overview",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h3",{children:"Production Overview"}),(0,Fe.jsx)("p",{children:"Comprehensive crop production analysis and insights"})]}),(0,Fe.jsxs)("div",{className:"overview-content",children:[(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-chart-line"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Average Yield"}),(0,Fe.jsxs)("span",{className:"overview-value",children:[E((()=>{if(0===n.length)return 0;const e=P();return 0===e?0:I()/e})())," MT/Acre"]})]})]}),(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-calendar-alt"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Latest Crop Year"}),(0,Fe.jsx)("span",{className:"overview-value",children:D()?"".concat(D(),"-").concat(D()+1):"N/A"})]})]}),(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-leaf"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Crop Diversity"}),(0,Fe.jsxs)("span",{className:"overview-value",children:[F()," Different Crops"]})]})]})]})]})]})]})},da=e=>{let{fpo:s,onClose:a}=e;const[n,i]=(0,t.useState)([]),[r,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[x,b]=(0,t.useState)({}),[y,j]=(0,t.useState)({shopName:"",seedLicense:"",pesticideLicense:"",fertiliserLicense:""});(0,t.useEffect)(()=>{null!==s&&void 0!==s&&s.id&&N()},[null===s||void 0===s?void 0:s.id]),(0,t.useEffect)(()=>{const e=e=>{g&&!e.target.closest(".action-dropdown")&&v(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[g]);const N=async()=>{try{l(!0),console.log("Loading input shops for FPO ID:",s.id);const e=await Oe.fpoAPI.getFPOInputShops(s.id);console.log("Input shops response:",e);const t=e.data||e||[];console.log("Input shops data:",t),i(Array.isArray(t)?t:[])}catch(e){console.error("Error loading input shops:",e),i([])}finally{l(!1)}},w=()=>{const e={};return y.shopName.trim()||(e.shopName="Shop name is required"),b(e),0===Object.keys(e).length},S=(e,t)=>{j(s=>(0,Ue.A)((0,Ue.A)({},s),{},{[e]:t})),x[e]&&b(t=>(0,Ue.A)((0,Ue.A)({},t),{},{[e]:""}))},k=n.filter(e=>(e.shopName||"").toLowerCase().includes(o.toLowerCase())||(e.seedLicense||"").toLowerCase().includes(o.toLowerCase())||(e.pesticideLicense||"").toLowerCase().includes(o.toLowerCase())||(e.fertiliserLicense||"").toLowerCase().includes(o.toLowerCase())),C=e=>e?{status:"Available",color:"#10b981",bg:"#f0fdf4"}:{status:"Not Available",color:"#ef4444",bg:"#fef2f2"};return(0,Fe.jsxs)("div",{className:"fpo-input-shop-view",children:[(0,Fe.jsx)("div",{className:"input-shop-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"input-shop-title",children:"Input Shop Management"}),(0,Fe.jsxs)("p",{className:"input-shop-subtitle",children:["Manage input shops and licensing for ",(null===s||void 0===s?void 0:s.fpoName)||"FPO"]})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsxs)("div",{className:"input-shop-content",children:[(0,Fe.jsxs)("div",{className:"action-bar",children:[(0,Fe.jsxs)("button",{className:"create-shop-btn",onClick:()=>{m(!0),f(null),j({shopName:"",seedLicense:"",pesticideLicense:"",fertiliserLicense:""}),b({})},children:[(0,Fe.jsx)("i",{className:"fas fa-store"}),"Add Input Shop"]}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsxs)("div",{className:"search-container",children:[(0,Fe.jsx)("i",{className:"fas fa-search search-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Search input shops...",value:o,onChange:e=>c(e.target.value),className:"search-input"})]}),(0,Fe.jsxs)("div",{className:"date-filter-container",children:[(0,Fe.jsx)("i",{className:"fas fa-calendar-alt calendar-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Date range filter",value:d,onChange:e=>u(e.target.value),className:"date-filter-input"})]})]})]}),(0,Fe.jsx)("div",{className:"input-shop-table-container",children:(0,Fe.jsx)("div",{className:"table-wrapper",children:(0,Fe.jsxs)("table",{className:"input-shop-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"ID"}),(0,Fe.jsx)("th",{children:"Shop Name"}),(0,Fe.jsx)("th",{children:"Seed License"}),(0,Fe.jsx)("th",{children:"Pesticide License"}),(0,Fe.jsx)("th",{children:"Fertilizer License"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:r?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"6",className:"loading-cell",children:(0,Fe.jsxs)("div",{className:"loading-spinner",children:[(0,Fe.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Loading input shops..."]})})}):0===k.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"6",className:"no-data-cell",children:(0,Fe.jsxs)("div",{className:"no-data-message",children:[(0,Fe.jsx)("i",{className:"fas fa-store"}),(0,Fe.jsx)("p",{children:"No input shops found"}),(0,Fe.jsx)("span",{children:"Try adjusting your search criteria or add a new input shop"})]})})}):k.map((e,t)=>{const a=C(e.seedLicense),n=C(e.pesticideLicense),i=C(e.fertiliserLicense);return(0,Fe.jsxs)("tr",{className:"input-shop-row",children:[(0,Fe.jsx)("td",{className:"shop-id",children:e.id||"S".concat(t+1)}),(0,Fe.jsx)("td",{className:"shop-name",children:(0,Fe.jsx)("span",{className:"shop-name-display",children:e.shopName||"-"})}),(0,Fe.jsx)("td",{className:"license-cell",children:(0,Fe.jsx)("span",{className:"license-status",style:{color:a.color,backgroundColor:a.bg,border:"1px solid ".concat(a.color,"20")},children:a.status})}),(0,Fe.jsx)("td",{className:"license-cell",children:(0,Fe.jsx)("span",{className:"license-status",style:{color:n.color,backgroundColor:n.bg,border:"1px solid ".concat(n.color,"20")},children:n.status})}),(0,Fe.jsx)("td",{className:"license-cell",children:(0,Fe.jsx)("span",{className:"license-status",style:{color:i.color,backgroundColor:i.bg,border:"1px solid ".concat(i.color,"20")},children:i.status})}),(0,Fe.jsx)("td",{className:"shop-actions",children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>v(g===e.id?null:e.id),children:(0,Fe.jsx)("i",{className:"fas fa-ellipsis-v"})}),g===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsxs)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{f(e),j({shopName:e.shopName||"",seedLicense:e.seedLicense||"",pesticideLicense:e.pesticideLicense||"",fertiliserLicense:e.fertiliserLicense||""}),b({}),m(!0)})(e),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-edit"}),"Edit"]}),(0,Fe.jsxs)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this input shop?"))try{await Oe.fpoAPI.deleteInputShop(s.id,e),alert("Input Shop deleted successfully!"),N()}catch(n){var t,a;console.error("Error deleting input shop:",n),alert("Error deleting shop: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}})(e.id),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-trash"}),"Delete"]})]})]})})]},e.id||t)})})]})})}),(0,Fe.jsxs)("div",{className:"stats-summary",children:[(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-store"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Shops"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-certificate"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.filter(e=>e.seedLicense&&e.pesticideLicense&&e.fertiliserLicense).length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Fully Licensed"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-exclamation-triangle"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.filter(e=>{const t=[e.seedLicense,e.pesticideLicense,e.fertiliserLicense].filter(Boolean);return t.length>0&&t.length<3}).length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Partial Licensed"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-times-circle"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.filter(e=>!e.seedLicense&&!e.pesticideLicense&&!e.fertiliserLicense).length}),(0,Fe.jsx)("span",{className:"stat-label",children:"No Licenses"})]})]})]}),n.length>0&&(0,Fe.jsxs)("div",{className:"licensing-overview",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h3",{children:"Licensing Overview"}),(0,Fe.jsx)("p",{children:"Comprehensive licensing status and compliance analysis"})]}),(0,Fe.jsxs)("div",{className:"overview-content",children:[(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-seedling"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Seed License"}),(0,Fe.jsxs)("span",{className:"overview-value",children:[n.filter(e=>e.seedLicense).length," / ",n.length]})]})]}),(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-shield-alt"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Pesticide License"}),(0,Fe.jsxs)("span",{className:"overview-value",children:[n.filter(e=>e.pesticideLicense).length," / ",n.length]})]})]}),(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-leaf"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Fertilizer License"}),(0,Fe.jsxs)("span",{className:"overview-value",children:[n.filter(e=>e.fertiliserLicense).length," / ",n.length]})]})]})]})]})]}),h&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:p?"Edit Input Shop":"Add New Input Shop"}),(0,Fe.jsx)("button",{className:"close-button",onClick:()=>{m(!1),f(null),b({})},children:(0,Fe.jsx)("i",{className:"fas fa-times"})})]}),(0,Fe.jsxs)("form",{onSubmit:p?async e=>{if(e.preventDefault(),w())try{const e={shopName:y.shopName,seedLicense:y.seedLicense||null,pesticideLicense:y.pesticideLicense||null,fertiliserLicense:y.fertiliserLicense||null};console.log("Updating input shop:",p.id,"with data:",e),await Oe.fpoAPI.updateInputShop(s.id,p.id,e),m(!1),f(null),j({shopName:"",seedLicense:"",pesticideLicense:"",fertiliserLicense:""}),b({}),alert("Input Shop updated successfully!"),N()}catch(n){var t,a;console.error("Error updating input shop:",n),alert("Error updating shop: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}}:async e=>{if(e.preventDefault(),w())try{const e={shopName:y.shopName,seedLicense:y.seedLicense||null,pesticideLicense:y.pesticideLicense||null,fertiliserLicense:y.fertiliserLicense||null};console.log("Creating input shop with data:",e),await Oe.fpoAPI.createInputShop(s.id,e),console.log("Input shop created successfully"),m(!1),j({shopName:"",seedLicense:"",pesticideLicense:"",fertiliserLicense:""}),b({}),setTimeout(()=>{N()},500),alert("Input Shop created successfully!")}catch(n){var t,a;console.error("Error creating input shop:",n),alert("Error creating shop: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}},className:"input-shop-form",children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group full-width",children:[(0,Fe.jsxs)("label",{htmlFor:"shopName",className:"form-label",children:["Shop Name ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{type:"text",id:"shopName",value:y.shopName,onChange:e=>S("shopName",e.target.value),className:"form-input ".concat(x.shopName?"error":""),placeholder:"Enter shop name"}),x.shopName&&(0,Fe.jsx)("span",{className:"error-message",children:x.shopName})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"seedLicense",className:"form-label",children:"Seed License"}),(0,Fe.jsx)("input",{type:"text",id:"seedLicense",value:y.seedLicense,onChange:e=>S("seedLicense",e.target.value),className:"form-input",placeholder:"Enter seed license number"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"pesticideLicense",className:"form-label",children:"Pesticide License"}),(0,Fe.jsx)("input",{type:"text",id:"pesticideLicense",value:y.pesticideLicense,onChange:e=>S("pesticideLicense",e.target.value),className:"form-input",placeholder:"Enter pesticide license number"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"fertiliserLicense",className:"form-label",children:"Fertilizer License"}),(0,Fe.jsx)("input",{type:"text",id:"fertiliserLicense",value:y.fertiliserLicense,onChange:e=>S("fertiliserLicense",e.target.value),className:"form-input",placeholder:"Enter fertilizer license number"})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{m(!1),f(null),b({})},children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Cancel"]}),(0,Fe.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,Fe.jsx)("i",{className:"fas fa-store"}),p?"Update Shop":"Add Shop"]})]})]})]})})]})},ua=e=>{let{fpo:s,onClose:a}=e;const[n,i]=(0,t.useState)([]),[r,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[x,b]=(0,t.useState)({}),y=["Fertilizers","Pesticides","Bio-stimulants","Manure - FYM/Poultry manure","Seeds","Irrigation Equipment","Farm Tools","Machinery Parts","Organic Products","Soil Conditioners"],[j,N]=(0,t.useState)({categoryName:""});(0,t.useEffect)(()=>{null!==s&&void 0!==s&&s.id&&w()},[null===s||void 0===s?void 0:s.id]),(0,t.useEffect)(()=>{const e=e=>{g&&!e.target.closest(".action-dropdown")&&v(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[g]);const w=async()=>{try{l(!0),console.log("Loading product categories for FPO ID:",s.id);const e=await Oe.fpoAPI.getFPOProductCategories(s.id);console.log("Product categories response:",e);const t=e.data||e||[];console.log("Product categories data:",t),i(Array.isArray(t)?t:[])}catch(e){console.error("Error loading product categories:",e),i([])}finally{l(!1)}},S=()=>{const e={};return j.categoryName.trim()||(e.categoryName="Category name is required"),b(e),0===Object.keys(e).length},k=n.filter(e=>(e.categoryName||"").toLowerCase().includes(o.toLowerCase())),C=()=>{const e={fertilizers:0,pesticides:0,organic:0,others:0};return n.forEach(t=>{var s;const a=(null===(s=t.categoryName)||void 0===s?void 0:s.toLowerCase())||"";a.includes("fertilizer")?e.fertilizers++:a.includes("pesticide")?e.pesticides++:a.includes("organic")||a.includes("bio")?e.organic++:e.others++}),e};return(0,Fe.jsxs)("div",{className:"fpo-product-categories-view",children:[(0,Fe.jsx)("div",{className:"product-categories-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"product-categories-title",children:"Product Categories Management"}),(0,Fe.jsxs)("p",{className:"product-categories-subtitle",children:["Manage product categories and classifications for ",(null===s||void 0===s?void 0:s.fpoName)||"FPO"]})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsxs)("div",{className:"product-categories-content",children:[(0,Fe.jsxs)("div",{className:"action-bar",children:[(0,Fe.jsxs)("button",{className:"create-category-btn",onClick:()=>{m(!0),f(null),N({categoryName:""}),b({})},children:[(0,Fe.jsx)("i",{className:"fas fa-tags"}),"Add Category"]}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsxs)("div",{className:"search-container",children:[(0,Fe.jsx)("i",{className:"fas fa-search search-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Search categories...",value:o,onChange:e=>c(e.target.value),className:"search-input"})]}),(0,Fe.jsxs)("div",{className:"date-filter-container",children:[(0,Fe.jsx)("i",{className:"fas fa-calendar-alt calendar-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Date range filter",value:d,onChange:e=>u(e.target.value),className:"date-filter-input"})]})]})]}),(0,Fe.jsx)("div",{className:"product-categories-table-container",children:(0,Fe.jsx)("div",{className:"table-wrapper",children:(0,Fe.jsxs)("table",{className:"product-categories-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"ID"}),(0,Fe.jsx)("th",{children:"Category"}),(0,Fe.jsx)("th",{children:"Type"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:r?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"4",className:"loading-cell",children:(0,Fe.jsxs)("div",{className:"loading-spinner",children:[(0,Fe.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Loading categories..."]})})}):0===k.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"4",className:"no-data-cell",children:(0,Fe.jsxs)("div",{className:"no-data-message",children:[(0,Fe.jsx)("i",{className:"fas fa-tags"}),(0,Fe.jsx)("p",{children:"No product categories found"}),(0,Fe.jsx)("span",{children:"Try adjusting your search criteria or add a new category"})]})})}):k.map((e,t)=>{var a,n,i,r,l,o,c;const d=(e=>{const t=(null===e||void 0===e?void 0:e.toLowerCase())||"";return t.includes("fertilizer")?"#10b981":t.includes("pesticide")?"#f59e0b":t.includes("bio")||t.includes("organic")?"#22c55e":t.includes("manure")?"#8b5cf6":t.includes("seed")?"#3b82f6":t.includes("irrigation")?"#06b6d4":t.includes("tool")||t.includes("equipment")?"#6b7280":t.includes("machinery")?"#ef4444":t.includes("soil")?"#92400e":"#6366f1"})(e.categoryName),u=(e=>{const t=(null===e||void 0===e?void 0:e.toLowerCase())||"";return t.includes("fertilizer")?"fas fa-seedling":t.includes("pesticide")?"fas fa-shield-alt":t.includes("bio")||t.includes("organic")?"fas fa-leaf":t.includes("manure")?"fas fa-recycle":t.includes("seed")?"fas fa-seeds":t.includes("irrigation")?"fas fa-tint":t.includes("tool")||t.includes("equipment")?"fas fa-tools":t.includes("machinery")?"fas fa-cogs":t.includes("soil")?"fas fa-mountain":"fas fa-tags"})(e.categoryName);return(0,Fe.jsxs)("tr",{className:"category-row",children:[(0,Fe.jsx)("td",{className:"category-id",children:e.id||"C".concat(t+1)}),(0,Fe.jsx)("td",{className:"category-name",children:(0,Fe.jsxs)("div",{className:"category-display",children:[(0,Fe.jsx)("i",{className:u,style:{color:d}}),(0,Fe.jsx)("span",{className:"category-text",children:e.categoryName||"-"})]})}),(0,Fe.jsx)("td",{className:"category-type",children:(0,Fe.jsx)("span",{className:"category-type-badge",style:{backgroundColor:"".concat(d,"20"),color:d,border:"1px solid ".concat(d,"40")},children:null!==(a=e.categoryName)&&void 0!==a&&a.includes("Organic")||null!==(n=e.categoryName)&&void 0!==n&&n.includes("Bio")?"Organic":null!==(i=e.categoryName)&&void 0!==i&&i.includes("Fertilizer")?"Fertilizer":null!==(r=e.categoryName)&&void 0!==r&&r.includes("Pesticide")?"Pesticide":null!==(l=e.categoryName)&&void 0!==l&&l.includes("Seed")?"Seed":null!==(o=e.categoryName)&&void 0!==o&&o.includes("Tool")||null!==(c=e.categoryName)&&void 0!==c&&c.includes("Equipment")?"Equipment":"Other"})}),(0,Fe.jsx)("td",{className:"category-actions",children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>v(g===e.id?null:e.id),children:(0,Fe.jsx)("i",{className:"fas fa-ellipsis-v"})}),g===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsxs)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{f(e),N({categoryName:e.categoryName||""}),b({}),m(!0)})(e),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-edit"}),"Edit"]}),(0,Fe.jsxs)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this product category?"))try{await Oe.fpoAPI.deleteProductCategory(s.id,e),alert("Product Category deleted successfully!"),w()}catch(n){var t,a;console.error("Error deleting product category:",n),alert("Error deleting category: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}})(e.id),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-trash"}),"Delete"]})]})]})})]},e.id||t)})})]})})}),(0,Fe.jsxs)("div",{className:"stats-summary",children:[(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-tags"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Categories"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-seedling"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:C().fertilizers}),(0,Fe.jsx)("span",{className:"stat-label",children:"Fertilizers"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-shield-alt"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:C().pesticides}),(0,Fe.jsx)("span",{className:"stat-label",children:"Pesticides"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-leaf"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:C().organic}),(0,Fe.jsx)("span",{className:"stat-label",children:"Organic"})]})]})]}),n.length>0&&(0,Fe.jsxs)("div",{className:"category-overview",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h3",{children:"Category Distribution"}),(0,Fe.jsx)("p",{children:"Overview of product category distribution and classification"})]}),(0,Fe.jsxs)("div",{className:"overview-content",children:[(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-chart-pie"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Category Diversity"}),(0,Fe.jsxs)("span",{className:"overview-value",children:[n.length," Different Types"]})]})]}),(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-star"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Popular Categories"}),(0,Fe.jsxs)("span",{className:"overview-value",children:[n.slice(0,3).length," Active"]})]})]}),(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-plus-circle"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Expandable"}),(0,Fe.jsxs)("span",{className:"overview-value",children:[y.length-n.length," Available"]})]})]})]})]})]}),h&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:p?"Edit Product Category":"Add New Product Category"}),(0,Fe.jsx)("button",{className:"close-button",onClick:()=>{m(!1),f(null),b({})},children:(0,Fe.jsx)("i",{className:"fas fa-times"})})]}),(0,Fe.jsxs)("form",{onSubmit:p?async e=>{if(e.preventDefault(),S())try{const e={categoryName:j.categoryName};console.log("Updating product category:",p.id,"with data:",e),await Oe.fpoAPI.updateProductCategory(s.id,p.id,e),m(!1),f(null),N({categoryName:""}),b({}),alert("Product Category updated successfully!"),w()}catch(n){var t,a;console.error("Error updating product category:",n),alert("Error updating category: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}}:async e=>{if(e.preventDefault(),S())try{const e={categoryName:j.categoryName};console.log("Creating product category with data:",e),await Oe.fpoAPI.createProductCategory(s.id,e),console.log("Product category created successfully"),m(!1),N({categoryName:""}),b({}),setTimeout(()=>{w()},500),alert("Product Category created successfully!")}catch(n){var t,a;console.error("Error creating product category:",n),alert("Error creating category: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}},className:"product-category-form",children:[(0,Fe.jsx)("div",{className:"form-grid",children:(0,Fe.jsxs)("div",{className:"form-group full-width",children:[(0,Fe.jsxs)("label",{htmlFor:"categoryName",className:"form-label",children:["Category Name ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",{id:"categoryName",value:j.categoryName,onChange:e=>{return t="categoryName",s=e.target.value,N(e=>(0,Ue.A)((0,Ue.A)({},e),{},{[t]:s})),void(x[t]&&b(e=>(0,Ue.A)((0,Ue.A)({},e),{},{[t]:""})));var t,s},className:"form-select ".concat(x.categoryName?"error":""),children:[(0,Fe.jsx)("option",{value:"",children:"Select Category"}),y.map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]}),x.categoryName&&(0,Fe.jsx)("span",{className:"error-message",children:x.categoryName})]})}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{m(!1),f(null),b({})},children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Cancel"]}),(0,Fe.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,Fe.jsx)("i",{className:"fas fa-tags"}),p?"Update Category":"Add Category"]})]})]})]})})]})},ha=e=>{var s;let{fpo:a,onClose:n}=e;const[i,r]=(0,t.useState)([]),[l,o]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!1),[m,p]=(0,t.useState)(""),[f,g]=(0,t.useState)(""),[v,x]=(0,t.useState)(!1),[b,y]=(0,t.useState)(null),[j,N]=(0,t.useState)(null),[w,S]=(0,t.useState)({}),[k,C]=(0,t.useState)({inputShop:"",categoryId:"",productName:"",quantitySold:""});(0,t.useEffect)(()=>{null!==a&&void 0!==a&&a.id&&(E(),A())},[null===a||void 0===a?void 0:a.id]),(0,t.useEffect)(()=>{const e=e=>{j&&!e.target.closest(".action-dropdown")&&N(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[j]);const A=async()=>{try{const[e,t]=await Promise.all([Oe.fpoAPI.getFPOInputShops(a.id),Oe.fpoAPI.getFPOProductCategories(a.id)]);o((null===e||void 0===e?void 0:e.data)||e||[]),d((null===t||void 0===t?void 0:t.data)||t||[])}catch(e){console.error("Error loading shops and categories:",e),o([]),d([])}},E=async()=>{try{h(!0),console.log("Loading products for FPO ID:",a.id);const e=await Oe.fpoAPI.getFPOProducts(a.id);console.log("Products response:",e);const t=e.data||e||[];console.log("Products data:",t),r(Array.isArray(t)?t:[])}catch(e){console.error("Error loading products:",e),r([])}finally{h(!1)}},P=()=>{const e={};return k.inputShop.trim()||(e.inputShop="Input shop is required"),k.categoryId||(e.categoryId="Category is required"),k.productName.trim()||(e.productName="Product name is required"),(!k.quantitySold||parseFloat(k.quantitySold)<=0)&&(e.quantitySold="Valid quantity sold is required"),S(e),0===Object.keys(e).length},I=(e,t)=>{C(s=>(0,Ue.A)((0,Ue.A)({},s),{},{[e]:t})),w[e]&&S(t=>(0,Ue.A)((0,Ue.A)({},t),{},{[e]:""}))},F=i.filter(e=>(e.productName||"").toLowerCase().includes(m.toLowerCase())||(e.categoryName||"").toLowerCase().includes(m.toLowerCase())||(e.brand||e.supplier||"").toLowerCase().includes(m.toLowerCase())),D=()=>i.reduce((e,t)=>e+(parseFloat(t.stockQuantity)||0),0),_=(()=>{const e={byCategory:{},byShop:{},totalValue:0};return i.forEach(t=>{const s=t.categoryName||"Uncategorized",a=t.brand||t.supplier||"Unknown",n=parseFloat(t.stockQuantity)||0;e.byCategory[s]=(e.byCategory[s]||0)+1,e.byShop[a]=(e.byShop[a]||0)+n,e.totalValue+=.01*n}),e})(),T=[...i].sort((e,t)=>(parseFloat(t.stockQuantity)||0)-(parseFloat(e.stockQuantity)||0)).slice(0,5),O=(()=>{const e={};return i.forEach(t=>{const s=t.categoryName||"Uncategorized";e[s]=(e[s]||0)+1}),e})();return(0,Fe.jsxs)("div",{className:"fpo-products-view",children:[(0,Fe.jsx)("div",{className:"products-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"products-title",children:"Products Management"}),(0,Fe.jsxs)("p",{className:"products-subtitle",children:["Manage products and sales tracking for ",(null===a||void 0===a?void 0:a.fpoName)||"FPO"]})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:n,children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsxs)("div",{className:"products-content",children:[(0,Fe.jsxs)("div",{className:"action-bar",children:[(0,Fe.jsxs)("button",{className:"create-product-btn",onClick:()=>{x(!0),y(null),C({inputShop:"",categoryId:"",productName:"",quantitySold:""}),S({})},children:[(0,Fe.jsx)("i",{className:"fas fa-plus-circle"}),"Add Product"]}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsxs)("div",{className:"search-container",children:[(0,Fe.jsx)("i",{className:"fas fa-search search-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Search products...",value:m,onChange:e=>p(e.target.value),className:"search-input"})]}),(0,Fe.jsxs)("div",{className:"date-filter-container",children:[(0,Fe.jsx)("i",{className:"fas fa-calendar-alt calendar-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Date range filter",value:f,onChange:e=>g(e.target.value),className:"date-filter-input"})]})]})]}),(0,Fe.jsx)("div",{className:"products-table-container",children:(0,Fe.jsx)("div",{className:"table-wrapper",children:(0,Fe.jsxs)("table",{className:"products-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"ID"}),(0,Fe.jsx)("th",{children:"Input Shop"}),(0,Fe.jsx)("th",{children:"Category"}),(0,Fe.jsx)("th",{children:"Product Name"}),(0,Fe.jsx)("th",{children:"Quantity Sold (MT)"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:u?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"6",className:"loading-cell",children:(0,Fe.jsxs)("div",{className:"loading-spinner",children:[(0,Fe.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Loading products..."]})})}):0===F.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"6",className:"no-data-cell",children:(0,Fe.jsxs)("div",{className:"no-data-message",children:[(0,Fe.jsx)("i",{className:"fas fa-box"}),(0,Fe.jsx)("p",{children:"No products found"}),(0,Fe.jsx)("span",{children:"Try adjusting your search criteria or add a new product"})]})})}):F.map((e,t)=>{const s=(e=>{const t=(null===e||void 0===e?void 0:e.toLowerCase())||"";return t.includes("seed")?"#3b82f6":t.includes("fertilizer")?"#10b981":t.includes("pesticide")?"#f59e0b":t.includes("bio")||t.includes("organic")?"#22c55e":t.includes("manure")?"#8b5cf6":t.includes("tool")?"#6b7280":t.includes("equipment")?"#ef4444":t.includes("irrigation")?"#06b6d4":t.includes("machinery")?"#f97316":"#6366f1"})(e.productName),n=(e=>{const t=(null===e||void 0===e?void 0:e.toLowerCase())||"";return t.includes("seed")?"fas fa-seeds":t.includes("fertilizer")?"fas fa-seedling":t.includes("pesticide")?"fas fa-shield-alt":t.includes("bio")||t.includes("organic")?"fas fa-leaf":t.includes("manure")?"fas fa-recycle":t.includes("tool")?"fas fa-tools":t.includes("equipment")?"fas fa-cogs":t.includes("irrigation")?"fas fa-tint":t.includes("machinery")?"fas fa-tractor":"fas fa-box"})(e.productName);return(0,Fe.jsxs)("tr",{className:"product-row",children:[(0,Fe.jsx)("td",{className:"product-id",children:e.id||"P".concat(t+1)}),(0,Fe.jsx)("td",{className:"input-shop",children:(0,Fe.jsxs)("div",{className:"shop-display",children:[(0,Fe.jsx)("i",{className:"fas fa-store"}),(0,Fe.jsx)("span",{className:"shop-text",children:e.brand||e.supplier||"-"})]})}),(0,Fe.jsx)("td",{className:"product-category",children:(0,Fe.jsx)("span",{className:"category-badge",style:{backgroundColor:"".concat(s,"20"),color:s,border:"1px solid ".concat(s,"40")},children:e.categoryName||"-"})}),(0,Fe.jsx)("td",{className:"product-name",children:(0,Fe.jsxs)("div",{className:"product-display",children:[(0,Fe.jsx)("i",{className:n,style:{color:s}}),(0,Fe.jsx)("span",{className:"product-text",children:e.productName||"-"})]})}),(0,Fe.jsx)("td",{className:"quantity-sold",children:(0,Fe.jsxs)("div",{className:"quantity-display",children:[(0,Fe.jsx)("span",{className:"quantity-number",children:(parseFloat(e.stockQuantity)||0).toFixed(2)}),(0,Fe.jsx)("span",{className:"quantity-unit",children:"MT"})]})}),(0,Fe.jsx)("td",{className:"product-actions",children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>N(j===e.id?null:e.id),children:(0,Fe.jsx)("i",{className:"fas fa-ellipsis-v"})}),j===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsxs)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{var t,s;y(e),C({inputShop:e.brand||e.supplier||"",categoryId:(null!==(t=e.categoryId)&&void 0!==t?t:"").toString(),productName:e.productName||"",quantitySold:(null!==(s=e.stockQuantity)&&void 0!==s?s:"").toString()}),S({}),x(!0)})(e),N(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-edit"}),"Edit"]}),(0,Fe.jsxs)("button",{className:"dropdown-item delete-item",onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{await Oe.fpoAPI.deleteProduct(a.id,e),alert("Product deleted successfully!"),E()}catch(n){var t,s;console.error("Error deleting product:",n),alert("Error deleting product: "+((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||n.message))}})(e.id),N(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-trash"}),"Delete"]})]})]})})]},e.id||t)})})]})})}),(0,Fe.jsxs)("div",{className:"stats-summary",children:[(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-box"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:i.length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Products"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-weight-hanging"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:D().toFixed(1)}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Quantity (MT)"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-store"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:Object.keys(_.byShop).length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Input Shops"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-tags"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:Object.keys(_.byCategory).length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Categories"})]})]})]}),i.length>0&&(0,Fe.jsxs)("div",{className:"products-overview",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h3",{children:"Products Analytics"}),(0,Fe.jsx)("p",{children:"Overview of product distribution and sales performance"})]}),(0,Fe.jsxs)("div",{className:"overview-content",children:[(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-chart-line"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Total Sales Volume"}),(0,Fe.jsxs)("span",{className:"overview-value",children:[D().toFixed(2)," MT"]})]})]}),(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-star"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Top Selling"}),(0,Fe.jsx)("span",{className:"overview-value",children:(null===(s=T[0])||void 0===s?void 0:s.productName)||"N/A"})]})]}),(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-layer-group"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Categories"}),(0,Fe.jsxs)("span",{className:"overview-value",children:[Object.keys(O).length," Types"]})]})]})]})]})]}),v&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:b?"Edit Product":"Add New Product"}),(0,Fe.jsx)("button",{className:"close-button",onClick:()=>{x(!1),y(null),S({})},children:(0,Fe.jsx)("i",{className:"fas fa-times"})})]}),(0,Fe.jsxs)("form",{onSubmit:b?async e=>{if(e.preventDefault(),P())try{const e={categoryId:k.categoryId?parseInt(k.categoryId):null,productName:k.productName,description:"Sold via ".concat(k.inputShop),brand:k.inputShop||"N/A",unit:"MT",price:.01,stockQuantity:Math.max(0,Math.floor(parseFloat(k.quantitySold)||0)),minimumStock:0,supplier:k.inputShop||"N/A",supplierContact:null,supplierAddress:null,batchNumber:null,expiryDate:null,photoFileName:null,remarks:null,discountPercentage:0,taxPercentage:0};console.log("Updating product:",b.id,"with data:",e),await Oe.fpoAPI.updateProduct(a.id,b.id,e),x(!1),y(null),C({inputShop:"",categoryId:"",productName:"",quantitySold:""}),S({}),alert("Product updated successfully!"),E()}catch(n){var t,s;console.error("Error updating product:",n),alert("Error updating product: "+((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||n.message))}}:async e=>{if(e.preventDefault(),P())try{const e={categoryId:k.categoryId?parseInt(k.categoryId):null,productName:k.productName,description:"Sold via ".concat(k.inputShop),brand:k.inputShop||"N/A",unit:"MT",price:.01,stockQuantity:Math.max(0,Math.floor(parseFloat(k.quantitySold)||0)),minimumStock:0,supplier:k.inputShop||"N/A",supplierContact:null,supplierAddress:null,batchNumber:null,expiryDate:null,photoFileName:null,remarks:null,discountPercentage:0,taxPercentage:0};console.log("Creating product with data:",e),await Oe.fpoAPI.createProduct(a.id,e),console.log("Product created successfully"),x(!1),C({inputShop:"",categoryId:"",productName:"",quantitySold:""}),S({}),setTimeout(()=>{E()},500),alert("Product created successfully!")}catch(n){var t,s;console.error("Error creating product:",n),alert("Error creating product: "+((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||n.message))}},className:"product-form",children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"inputShop",className:"form-label",children:["Input Shop ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",{id:"inputShop",value:k.inputShop,onChange:e=>I("inputShop",e.target.value),className:"form-select ".concat(w.inputShop?"error":""),children:[(0,Fe.jsx)("option",{value:"",children:"Select Input Shop"}),l.map(e=>(0,Fe.jsx)("option",{value:e.shopName||e.name||e.id,children:e.shopName||e.name||e.id},e.id))]}),w.inputShop&&(0,Fe.jsx)("span",{className:"error-message",children:w.inputShop})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"categoryId",className:"form-label",children:["Category ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",{id:"categoryId",value:k.categoryId,onChange:e=>I("categoryId",e.target.value),className:"form-select ".concat(w.categoryId?"error":""),children:[(0,Fe.jsx)("option",{value:"",children:"Select Category"}),c.map(e=>(0,Fe.jsx)("option",{value:e.id,children:e.categoryName||e.name},e.id))]}),w.categoryId&&(0,Fe.jsx)("span",{className:"error-message",children:w.categoryId})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"productName",className:"form-label",children:["Product Name ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{id:"productName",type:"text",value:k.productName,onChange:e=>I("productName",e.target.value),className:"form-input ".concat(w.productName?"error":""),placeholder:"Enter product name"}),w.productName&&(0,Fe.jsx)("span",{className:"error-message",children:w.productName})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"quantitySold",className:"form-label",children:["Quantity Sold (MT) ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{id:"quantitySold",type:"number",min:"0",step:"0.01",value:k.quantitySold,onChange:e=>I("quantitySold",e.target.value),className:"form-input ".concat(w.quantitySold?"error":""),placeholder:"Enter quantity sold"}),w.quantitySold&&(0,Fe.jsx)("span",{className:"error-message",children:w.quantitySold})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{x(!1),y(null),S({})},children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Cancel"]}),(0,Fe.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,Fe.jsx)("i",{className:"fas fa-box"}),b?"Update Product":"Add Product"]})]})]})]})})]})},ma=e=>{let{fpo:s,onClose:a}=e;const[n,i]=(0,t.useState)([]),[r,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[x,b]=(0,t.useState)({}),[y,j]=(0,t.useState)(!1),[N,w]=(0,t.useState)(null),[S,k]=(0,t.useState)(""),C=[{value:"ADMIN",label:"Admin",icon:"fas fa-user-shield",color:"#ef4444"},{value:"EMPLOYEE",label:"Employee",icon:"fas fa-user-tie",color:"#3b82f6"},{value:"FARMER",label:"Farmer",icon:"fas fa-seedling",color:"#10b981"},{value:"FPO",label:"FPO",icon:"fas fa-building",color:"#8b5cf6"}],[A,E]=(0,t.useState)({email:"",phoneNumber:"",firstName:"",lastName:"",role:"",password:""});(0,t.useEffect)(()=>{null!==s&&void 0!==s&&s.id&&P()},[null===s||void 0===s?void 0:s.id]),(0,t.useEffect)(()=>{const e=e=>{g&&!e.target.closest(".action-dropdown")&&v(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[g]);const P=async()=>{try{l(!0),console.log("Loading users for FPO ID:",s.id);const e=await Oe.fpoUsersAPI.list(s.id);console.log("Users response:",e);const t=e.data||e||[];console.log("Users data:",t),i(Array.isArray(t)?t:[])}catch(e){console.error("Error loading users:",e),i([])}finally{l(!1)}},I=()=>{const e={};return A.email.trim()?/\S+@\S+\.\S+/.test(A.email)||(e.email="Email is invalid"):e.email="Email is required",A.phoneNumber.trim()||(e.phoneNumber="Phone number is required"),A.firstName.trim()||(e.firstName="First name is required"),A.lastName.trim()||(e.lastName="Last name is required"),A.role||(e.role="User type is required"),A.password.trim()?A.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",b(e),0===Object.keys(e).length},F=(e,t)=>{E(s=>(0,Ue.A)((0,Ue.A)({},s),{},{[e]:t})),x[e]&&b(t=>(0,Ue.A)((0,Ue.A)({},t),{},{[e]:""}))},D=n.filter(e=>((e.firstName||"")+" "+(e.lastName||"")).toLowerCase().includes(o.toLowerCase())||(e.email||"").toLowerCase().includes(o.toLowerCase())||(e.phoneNumber||"").includes(o)||(e.role||"").toLowerCase().includes(o.toLowerCase())),_=()=>n.length,T=()=>n.filter(e=>"APPROVED"===e.status).length,O=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(t){return"-"}},R=(()=>{const e={byRole:{},byStatus:{active:0,inactive:0}};return n.forEach(t=>{const s=t.role||"Unknown",a="APPROVED"===t.status?"active":"inactive";e.byRole[s]=(e.byRole[s]||0)+1,e.byStatus[a]=(e.byStatus[a]||0)+1}),e})(),M=[...n].sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)).slice(0,5);return(0,Fe.jsxs)("div",{className:"fpo-users-view",children:[(0,Fe.jsx)("div",{className:"users-header",children:(0,Fe.jsxs)("div",{className:"header-content",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h1",{className:"users-title",children:"FPO Users Management"}),(0,Fe.jsxs)("p",{className:"users-subtitle",children:["Manage users and access control for ",(null===s||void 0===s?void 0:s.fpoName)||"FPO"]})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("button",{className:"close-btn",onClick:a,children:(0,Fe.jsx)("i",{className:"fas fa-times"})})})]})}),(0,Fe.jsxs)("div",{className:"users-content",children:[(0,Fe.jsxs)("div",{className:"action-bar",children:[(0,Fe.jsxs)("button",{className:"create-user-btn",onClick:()=>{m(!0),f(null),E({email:"",phoneNumber:"",firstName:"",lastName:"",role:"",password:""}),b({})},children:[(0,Fe.jsx)("i",{className:"fas fa-user-plus"}),"Add User"]}),(0,Fe.jsxs)("div",{className:"filter-section",children:[(0,Fe.jsxs)("div",{className:"search-container",children:[(0,Fe.jsx)("i",{className:"fas fa-search search-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Search users...",value:o,onChange:e=>c(e.target.value),className:"search-input"})]}),(0,Fe.jsxs)("div",{className:"date-filter-container",children:[(0,Fe.jsx)("i",{className:"fas fa-calendar-alt calendar-icon"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Date range filter",value:d,onChange:e=>u(e.target.value),className:"date-filter-input"})]})]})]}),(0,Fe.jsx)("div",{className:"users-table-container",children:(0,Fe.jsx)("div",{className:"table-wrapper",children:(0,Fe.jsxs)("table",{className:"users-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"ID"}),(0,Fe.jsx)("th",{children:"Full Name"}),(0,Fe.jsx)("th",{children:"User Type"}),(0,Fe.jsx)("th",{children:"Email"}),(0,Fe.jsx)("th",{children:"Phone Number"}),(0,Fe.jsx)("th",{children:"Join Date"}),(0,Fe.jsx)("th",{children:"Status"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:r?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"8",className:"loading-cell",children:(0,Fe.jsxs)("div",{className:"loading-spinner",children:[(0,Fe.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Loading users..."]})})}):0===D.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:"8",className:"no-data-cell",children:(0,Fe.jsxs)("div",{className:"no-data-message",children:[(0,Fe.jsx)("i",{className:"fas fa-users"}),(0,Fe.jsx)("p",{children:"No users found"}),(0,Fe.jsx)("span",{children:"Try adjusting your search criteria or add a new user"})]})})}):D.map((e,t)=>{const a=(e=>{const t=C.find(t=>t.value===e);return t?t.color:"#6b7280"})(e.role),n=(e=>{const t=C.find(t=>t.value===e);return t?t.icon:"fas fa-user"})(e.role);return(0,Fe.jsxs)("tr",{className:"user-row",children:[(0,Fe.jsx)("td",{className:"user-id",children:e.id||"U".concat(t+1)}),(0,Fe.jsx)("td",{className:"user-name",children:(0,Fe.jsxs)("div",{className:"name-display",children:[(0,Fe.jsx)("i",{className:"fas fa-user-circle"}),(0,Fe.jsx)("span",{className:"name-text",children:"".concat(e.firstName||""," ").concat(e.lastName||"")})]})}),(0,Fe.jsx)("td",{className:"user-type",children:(0,Fe.jsxs)("span",{className:"type-badge",style:{backgroundColor:"".concat(a,"20"),color:a,border:"1px solid ".concat(a,"40")},children:[(0,Fe.jsx)("i",{className:n}),e.role||"-"]})}),(0,Fe.jsx)("td",{className:"user-email",children:(0,Fe.jsxs)("div",{className:"email-display",children:[(0,Fe.jsx)("i",{className:"fas fa-envelope"}),(0,Fe.jsx)("span",{className:"email-text",children:e.email||"-"})]})}),(0,Fe.jsx)("td",{className:"user-phone",children:(0,Fe.jsxs)("div",{className:"phone-display",children:[(0,Fe.jsx)("i",{className:"fas fa-phone"}),(0,Fe.jsx)("span",{className:"phone-text",children:e.phoneNumber||"-"})]})}),(0,Fe.jsx)("td",{className:"join-date",children:(0,Fe.jsxs)("div",{className:"date-display",children:[(0,Fe.jsx)("i",{className:"fas fa-calendar"}),(0,Fe.jsx)("span",{className:"date-text",children:O(e.createdAt)})]})}),(0,Fe.jsx)("td",{className:"user-status",children:(0,Fe.jsxs)("label",{className:"status-toggle",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:"APPROVED"===e.status,onChange:()=>(async e=>{try{i(t=>t.map(t=>t.id===e.id?(0,Ue.A)((0,Ue.A)({},t),{},{status:"APPROVED"===t.status?"REJECTED":"APPROVED"}):t)),await Oe.fpoUsersAPI.toggleActive(s.id,e.id,!("APPROVED"===e.status)),console.log("User status toggled successfully")}catch(n){var t,a;console.error("Error toggling user status:",n),alert("Error updating status: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message)),P()}})(e)}),(0,Fe.jsx)("span",{className:"status-slider"}),(0,Fe.jsx)("span",{className:"status-text",children:"APPROVED"===e.status?"Active":"Inactive"})]})}),(0,Fe.jsx)("td",{className:"user-actions",children:(0,Fe.jsxs)("div",{className:"action-dropdown",children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",onClick:()=>v(g===e.id?null:e.id),children:(0,Fe.jsx)("i",{className:"fas fa-ellipsis-v"})}),g===e.id&&(0,Fe.jsxs)("div",{className:"dropdown-menu ".concat(t>=2?"dropdown-menu-bottom":"dropdown-menu-top"),children:[(0,Fe.jsxs)("button",{className:"dropdown-item edit-item",onClick:()=>{(e=>{f(e),E({email:e.email||"",phoneNumber:e.phoneNumber||"",firstName:e.firstName||"",lastName:e.lastName||"",role:e.role||"",password:""}),b({}),m(!0)})(e),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-edit"}),"Edit"]}),(0,Fe.jsxs)("button",{className:"dropdown-item password-item",onClick:()=>{w(e),k(""),j(!0),v(null)},children:[(0,Fe.jsx)("i",{className:"fas fa-key"}),"Change Password"]})]})]})})]},e.id||t)})})]})})}),(0,Fe.jsxs)("div",{className:"stats-summary",children:[(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-users"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:_()}),(0,Fe.jsx)("span",{className:"stat-label",children:"Total Users"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-user-check"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:T()}),(0,Fe.jsx)("span",{className:"stat-label",children:"Active Users"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-user-times"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:n.filter(e=>"REJECTED"===e.status).length}),(0,Fe.jsx)("span",{className:"stat-label",children:"Inactive Users"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-user-shield"})}),(0,Fe.jsxs)("div",{className:"stat-info",children:[(0,Fe.jsx)("span",{className:"stat-number",children:R.byRole.ADMIN||0}),(0,Fe.jsx)("span",{className:"stat-label",children:"Admins"})]})]})]}),n.length>0&&(0,Fe.jsxs)("div",{className:"users-overview",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h3",{children:"Users Analytics"}),(0,Fe.jsx)("p",{children:"Overview of user distribution and activity"})]}),(0,Fe.jsxs)("div",{className:"overview-content",children:[(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-chart-pie"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"User Distribution"}),(0,Fe.jsxs)("span",{className:"overview-value",children:[Object.keys(R.byRole).length," Types"]})]})]}),(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-user-plus"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Recent Users"}),(0,Fe.jsxs)("span",{className:"overview-value",children:[M.length," Added"]})]})]}),(0,Fe.jsxs)("div",{className:"overview-card",children:[(0,Fe.jsx)("div",{className:"overview-icon",children:(0,Fe.jsx)("i",{className:"fas fa-percentage"})}),(0,Fe.jsxs)("div",{className:"overview-info",children:[(0,Fe.jsx)("span",{className:"overview-title",children:"Active Rate"}),(0,Fe.jsxs)("span",{className:"overview-value",children:[_()>0?Math.round(T()/_()*100):0,"%"]})]})]})]})]})]}),h&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:p?"Edit User":"Add New User"}),(0,Fe.jsx)("button",{className:"close-button",onClick:()=>{m(!1),f(null),b({})},children:(0,Fe.jsx)("i",{className:"fas fa-times"})})]}),(0,Fe.jsxs)("form",{onSubmit:p?async e=>{if(e.preventDefault(),I())try{console.log("Updating user:",p.id,"with data:",A),await Oe.fpoUsersAPI.update(s.id,p.id,A),m(!1),f(null),E({email:"",phoneNumber:"",firstName:"",lastName:"",role:"",password:""}),b({}),alert("User updated successfully!"),P()}catch(n){var t,a;console.error("Error updating user:",n),alert("Error updating user: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}}:async e=>{if(e.preventDefault(),I())try{console.log("Creating user with data:",A),await Oe.fpoUsersAPI.create(s.id,A),console.log("User created successfully"),m(!1),E({email:"",phoneNumber:"",firstName:"",lastName:"",role:"",password:""}),b({}),setTimeout(()=>{P()},500),alert("User created successfully!")}catch(n){var t,a;console.error("Error creating user:",n),alert("Error creating user: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}},className:"user-form",children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"firstName",className:"form-label",children:["First Name ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{id:"firstName",type:"text",value:A.firstName,onChange:e=>F("firstName",e.target.value),className:"form-input ".concat(x.firstName?"error":""),placeholder:"Enter first name"}),x.firstName&&(0,Fe.jsx)("span",{className:"error-message",children:x.firstName})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"lastName",className:"form-label",children:["Last Name ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{id:"lastName",type:"text",value:A.lastName,onChange:e=>F("lastName",e.target.value),className:"form-input ".concat(x.lastName?"error":""),placeholder:"Enter last name"}),x.lastName&&(0,Fe.jsx)("span",{className:"error-message",children:x.lastName})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"email",className:"form-label",children:["Email ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{id:"email",type:"email",value:A.email,onChange:e=>F("email",e.target.value),className:"form-input ".concat(x.email?"error":""),placeholder:"Enter email address"}),x.email&&(0,Fe.jsx)("span",{className:"error-message",children:x.email})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"phoneNumber",className:"form-label",children:["Phone Number ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{id:"phoneNumber",type:"tel",value:A.phoneNumber,onChange:e=>F("phoneNumber",e.target.value),className:"form-input ".concat(x.phoneNumber?"error":""),placeholder:"Enter phone number"}),x.phoneNumber&&(0,Fe.jsx)("span",{className:"error-message",children:x.phoneNumber})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"role",className:"form-label",children:["User Type ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",{id:"role",value:A.role,onChange:e=>F("role",e.target.value),className:"form-select ".concat(x.role?"error":""),children:[(0,Fe.jsx)("option",{value:"",children:"Select User Type"}),C.map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))]}),x.role&&(0,Fe.jsx)("span",{className:"error-message",children:x.role})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsxs)("label",{htmlFor:"password",className:"form-label",children:["Password ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{id:"password",type:"password",value:A.password,onChange:e=>F("password",e.target.value),className:"form-input ".concat(x.password?"error":""),placeholder:"Enter password"}),x.password&&(0,Fe.jsx)("span",{className:"error-message",children:x.password})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{m(!1),f(null),b({})},children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Cancel"]}),(0,Fe.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,Fe.jsx)("i",{className:"fas fa-user-plus"}),p?"Update User":"Add User"]})]})]})]})}),y&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:"Update Password"}),(0,Fe.jsx)("button",{className:"close-button",onClick:()=>{j(!1),w(null),k("")},children:(0,Fe.jsx)("i",{className:"fas fa-times"})})]}),(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),S.trim())try{await Oe.fpoUsersAPI.updatePassword(s.id,N.id,S),j(!1),k(""),alert("Password updated successfully!")}catch(n){var t,a;console.error("Error updating password:",n),alert("Error updating password: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}else alert("Password is required")},className:"password-form",children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{className:"form-label",children:"User Name"}),(0,Fe.jsx)("input",{value:"".concat((null===N||void 0===N?void 0:N.firstName)||""," ").concat((null===N||void 0===N?void 0:N.lastName)||""),disabled:!0,className:"form-input disabled"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Email"}),(0,Fe.jsx)("input",{value:(null===N||void 0===N?void 0:N.email)||"",disabled:!0,className:"form-input disabled"})]}),(0,Fe.jsxs)("div",{className:"form-group full-width",children:[(0,Fe.jsxs)("label",{htmlFor:"newPassword",className:"form-label",children:["New Password ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",{id:"newPassword",type:"password",value:S,onChange:e=>k(e.target.value),className:"form-input",placeholder:"Enter new password",required:!0})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{j(!1),w(null),k("")},children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Cancel"]}),(0,Fe.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,Fe.jsx)("i",{className:"fas fa-key"}),"Update Password"]})]})]})]})})]})},pa=()=>{var e,s;const{user:a,logout:n}=_e(),[i,r]=(0,t.useState)(!1),[l,o]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1);console.log("SuperAdminDashboard - User data:",a),console.log("SuperAdminDashboard - User name:",null===a||void 0===a?void 0:a.name),console.log("SuperAdminDashboard - User role:",null===a||void 0===a?void 0:a.role),console.log("SuperAdminDashboard - User email:",null===a||void 0===a?void 0:a.email),console.log("=== SUPER ADMIN DASHBOARD LOADED ==="),(0,t.useEffect)(()=>{console.log("=== USER DATA CHECK ==="),console.log("User in useEffect:",a),console.log("User name in useEffect:",null===a||void 0===a?void 0:a.name),console.log("User role in useEffect:",null===a||void 0===a?void 0:a.role),console.log("Greeting text:",P())},[a]);const[u,h]=(0,t.useState)("dashboard"),[m,p]=(0,t.useState)([]),[f,g]=(0,t.useState)([]),[v,x]=(0,t.useState)([]),[b,y]=(0,t.useState)([]),[j,N]=(0,t.useState)(!0),[w,S]=(0,t.useState)(null),[k,C]=(0,t.useState)(()=>{try{const e=localStorage.getItem("farmerUniqueIds");return e?JSON.parse(e):{}}catch(e){return{}}}),[A,E]=(0,t.useState)(()=>{try{const e=localStorage.getItem("employeeUniqueIds");return e?JSON.parse(e):{}}catch(e){return{}}}),P=()=>{const e=(new Date).getHours();return e>=5&&e<12?"Good Morning":e>=12&&e<17?"Good Afternoon":e>=17&&e<21?"Good Evening":"Good Night"},I=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const n={};for(const t of e||[])if(!s||!k[String(t.id)])try{const e=await Oe.idCardAPI.getIdCardsByHolder(t.id.toString());if(e&&e.length>0){const s=e.filter(e=>("FARMER"===e.cardType||(e.cardId||"").startsWith("FAM"))&&String(e.holderId)===String(t.id)),a=s.length>0?s:e,i=a.find(e=>"ACTIVE"===e.status)||a[0];n[t.id]=i.cardId}}catch(w){console.warn("Could not fetch ID card for farmer ".concat(t.id,":"),w)}Object.keys(n).length&&(a=n,C(e=>{const t=(0,Ue.A)((0,Ue.A)({},e),a);try{localStorage.setItem("farmerUniqueIds",JSON.stringify(t))}catch(s){}return t}));const i={};for(const e of t||[])if(!s||!A[String(e.id)])try{const t=await Oe.idCardAPI.getIdCardsByHolder(e.id.toString());if(t&&t.length>0){const s=t.filter(t=>("EMPLOYEE"===t.cardType||(t.cardId||"").startsWith("EMP"))&&String(t.holderId)===String(e.id)),a=s.length>0?s:t,n=a.find(e=>"ACTIVE"===e.status)||a[0];i[e.id]=n.cardId}}catch(w){console.warn("Could not fetch ID card for employee ".concat(e.id,":"),w)}Object.keys(i).length&&(e=>{E(t=>{const s=(0,Ue.A)((0,Ue.A)({},t),e);try{localStorage.setItem("employeeUniqueIds",JSON.stringify(s))}catch(a){}return s})})(i)}catch(w){console.error("Error fetching unique IDs:",w)}var a};t.useEffect(()=>{((null===m||void 0===m?void 0:m.length)||0)+((null===f||void 0===f?void 0:f.length)||0)!==0&&I(m,f,!0)},[m,f]),t.useEffect(()=>{let e=0;const t=setInterval(()=>{e+=1,I(m,f,!0),e>=8&&clearInterval(t)},15e3);return()=>clearInterval(t)},[]);const F=[{title:"\ud83c\udf1e Good Morning!",subtitle:"Wishing you a bright and productive day ahead filled with positivity."},{title:"\ud83c\udf38 Hello & Warm Greetings!",subtitle:"May your day be filled with joy, success, and wonderful moments."},{title:"\ud83d\ude4c Hi There!",subtitle:"Hope you're doing well and everything is going smoothly on your end."},{title:"\ud83c\udf1f Season's Greetings!",subtitle:"Sending best wishes for peace, happiness, and good health."},{title:"\ud83e\udd1d Greetings of the Day!",subtitle:"May this day bring you opportunities, growth, and good fortune."}],[D,_]=(0,t.useState)(F[0]),[T,O]=(0,t.useState)(null),R=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=Math.floor(Math.random()*F.length);_(F[e])},[]),(0,t.useEffect)(()=>{const e=localStorage.getItem("userProfilePhoto");e&&O(e)},[]);const M=()=>{console.log("Photo click triggered"),console.log("fileInputRef.current:",R.current),R.current?(R.current.click(),console.log("File input clicked")):console.error("File input ref is null")},[L,U]=(0,t.useState)(null),[B,z]=(0,t.useState)(!1),[V,Y]=(0,t.useState)(!1),[q,W]=(0,t.useState)(!1),[H,K]=(0,t.useState)(null),[$,G]=(0,t.useState)(null),[J,Q]=(0,t.useState)(!1),[X,Z]=(0,t.useState)(!1),[ee,te]=(0,t.useState)(!1),[se,ae]=(0,t.useState)(!1),[ne,ie]=(0,t.useState)(null),[re,le]=(0,t.useState)(null),[oe,ce]=(0,t.useState)(null),[de,ue]=(0,t.useState)(null),[he,me]=(0,t.useState)(!1),[pe,fe]=(0,t.useState)(!1),[ge,ve]=(0,t.useState)(null),[xe,be]=(0,t.useState)(!1),[ye,je]=(0,t.useState)(null),[Ne,we]=(0,t.useState)(!1),[Se,ke]=(0,t.useState)(null),[Ce,Ae]=(0,t.useState)(!1),[Ee,Pe]=(0,t.useState)(null),[Ie,De]=(0,t.useState)(!1),[Te,Re]=(0,t.useState)(null),[Me,Le]=(0,t.useState)(!1),[Be,ze]=(0,t.useState)(null),[Ve,Ye]=(0,t.useState)(!1),[qe,We]=(0,t.useState)(null),[He,Ke]=(0,t.useState)(!1),[$e,Ge]=(0,t.useState)(null),[Je,Qe]=(0,t.useState)(!1),[Xe,Ze]=(0,t.useState)(null),[et,tt]=(0,t.useState)(!1),[st,at]=(0,t.useState)(null),[nt,it]=(0,t.useState)(!1),[rt,lt]=(0,t.useState)(null),[ot,ct]=(0,t.useState)(!1),[dt,ut]=(0,t.useState)(null),[ht,mt]=(0,t.useState)(!1),[pt,ft]=(0,t.useState)(null),[gt,vt]=(0,t.useState)(!1),[xt,bt]=(0,t.useState)(null),[yt,jt]=(0,t.useState)(!1),[Nt,wt]=(0,t.useState)(null),[St,kt]=(0,t.useState)(!1),[Ct,At]=(0,t.useState)(null),[Et,Pt]=(0,t.useState)(!1),[It,Ft]=(0,t.useState)(null),[Dt,_t]=(0,t.useState)(!1),[Tt,Ot]=(0,t.useState)(null),[Rt,Mt]=(0,t.useState)(!1),[Lt,Ut]=(0,t.useState)(null),[Bt,zt]=(0,t.useState)(!1),[Vt,Yt]=(0,t.useState)(null),[qt,Wt]=(0,t.useState)({role:"",status:""}),[Ht,Kt]=(0,t.useState)({state:"",district:"",region:"",kycStatus:"",assignmentStatus:"",employeeFilter:""}),[$t,Gt]=(0,t.useState)({status:"",role:"",designation:"",state:"",district:""}),[Jt,Qt]=(0,t.useState)({state:"",district:"",status:"",registrationType:""}),[Xt,Zt]=(0,t.useState)(!1),[es,ts]=(0,t.useState)([]),[ss,as]=(0,t.useState)("all"),[ns,is]=(0,t.useState)(null),[rs,ls]=(0,t.useState)("overview");(0,t.useEffect)(()=>{os();const e=e=>{console.log("\ud83d\udd04 Super Admin Dashboard: KYC status updated, refreshing data..."),console.log("\ud83d\udcca KYC Update details:",e.detail),setTimeout(()=>{console.log("\ud83d\udd04 Refreshing Super Admin data after KYC update..."),os()},2e3)};return window.addEventListener("kycStatusUpdated",e),()=>{window.removeEventListener("kycStatusUpdated",e)}},[]),(0,t.useEffect)(()=>{m&&(console.log("Farmers state updated:",m),console.log("Farmers count:",m.length))},[m]),(0,t.useEffect)(()=>{console.log("Employees state updated:",f),console.log("Employees count:",(null===f||void 0===f?void 0:f.length)||0),f&&f.length>0&&console.log("First employee:",f[0])},[f]);const os=async()=>{try{var e,t,s,a,n,i,r;let f,v,b,j;N(!0),console.log("Fetching data from APIs..."),console.log("Starting API calls...");try{var l,o,c;console.log("\ud83d\udd04 Making API calls to fetch real data..."),[f,v,b]=await Promise.all([Oe.adminAPI.getFarmersWithKyc(),Oe.employeesAPI.getAllEmployees(),Oe.superAdminAPI.getRegistrationList()]),j=[];try{var d;j=await Oe.fpoAPI.getAllFPOs(),console.log("\ud83d\udcca FPOs data received:",(null===(d=j)||void 0===d?void 0:d.length)||0,"records")}catch(h){console.error("\u274c FPO API call failed:",h),j=[]}console.log("\u2705 API calls completed successfully"),console.log("\ud83d\udcca Farmers data received:",(null===(l=f)||void 0===l?void 0:l.length)||0,"records"),console.log("\ud83d\udcca Employees data received:",(null===(o=v)||void 0===o?void 0:o.length)||0,"records"),console.log("\ud83d\udcca Registrations data received:",(null===(c=b)||void 0===c?void 0:c.length)||0,"records"),f&&f.length>0&&(console.log("\ud83d\udd0d First farmer data structure:",f[0]),console.log("\ud83d\udd0d Available fields:",Object.keys(f[0]))),v&&v.length>0&&(console.log("\ud83d\udd0d First employee data structure:",v[0]),console.log("\ud83d\udd0d Available employee fields:",Object.keys(v[0])),console.log("\ud83d\udd0d Employee names in dropdown:",v.map(e=>e.name)))}catch(m){var u;console.error("\u274c API call failed:",m),console.error("\u274c API Error details:",(null===(u=m.response)||void 0===u?void 0:u.data)||m.message),f=[],v=[],b=[]}console.log("Raw API responses:"),console.log("Farmers data:",f),console.log("Farmers data length:",(null===(e=f)||void 0===e?void 0:e.length)||0),console.log("First farmer structure:",null===(t=f)||void 0===t?void 0:t[0]),console.log("Employees data:",v),console.log("Employees data length:",(null===(s=v)||void 0===s?void 0:s.length)||0),console.log("First employee structure:",null===(a=v)||void 0===a?void 0:a[0]),console.log("Registrations data:",b);let w=b||[],S=f||[];console.log("Setting farmers data:",S),console.log("Sample farmer structure:",S[0]);let k=(v||[]).map(e=>{var t;return{id:e.id,name:e.name||"".concat([e.firstName,e.middleName,e.lastName].filter(Boolean).join(" ")).trim(),contactNumber:e.contactNumber,email:e.email,status:e.status||e.accessStatus||"ACTIVE",role:e.role&&"string"===typeof e.role?e.role:(null===(t=e.role)||void 0===t?void 0:t.name)||"employee",designation:e.designation||"KYC Officer",district:e.district,state:e.state}});p(S),g(k),x(w);const C=Array.isArray(j)?j:(null===(n=j)||void 0===n?void 0:n.content)||(null===(i=j)||void 0===i?void 0:i.items)||(null===(r=j)||void 0===r?void 0:r.data)||[];y(C||[]),console.log("Fetched data:",{farmersData:f,employeesData:v,registrationsData:b}),console.log("Final employees data:",k),console.log("Final employees count:",(null===k||void 0===k?void 0:k.length)||0),setTimeout(()=>{I(S,k)},1e3),console.log("=== SETTING EMPLOYEES ==="),console.log("About to set employees:",k),setTimeout(()=>{console.log("=== EMPLOYEES STATE TEST ==="),console.log("Employees state after 1 second:",k),console.log("Employees count after 1 second:",(null===k||void 0===k?void 0:k.length)||0)},1e3)}catch(w){console.error("Error fetching data:",w),S("Failed to load dashboard data")}finally{N(!1)}},cs=()=>(m||[]).filter(e=>{const t=!Ht.state||e.state===Ht.state,s=!Ht.district||e.district===Ht.district,a=!Ht.kycStatus||e.kycStatus===Ht.kycStatus;Ht.employeeFilter&&(console.log("\ud83d\udd0d Employee filter active:",Ht.employeeFilter),console.log("\ud83d\udd0d Farmer assignedEmployee field:",e.assignedEmployee),console.log("\ud83d\udd0d Available farmer fields:",Object.keys(e)));const n=!Ht.employeeFilter||e.assignedEmployee&&(e.assignedEmployee===Ht.employeeFilter||e.assignedEmployee.toLowerCase().includes(Ht.employeeFilter.toLowerCase())||Ht.employeeFilter.toLowerCase().includes(e.assignedEmployee.toLowerCase()));return Ht.employeeFilter&&(console.log("\ud83d\udd0d All farmers and their assigned employees:"),(m||[]).forEach((e,t)=>{console.log("  Farmer ".concat(t+1,": ").concat(e.name,' -> Assigned to: "').concat(e.assignedEmployee,'"'))})),t&&s&&a&&n}),ds=e=>{is(e)},us=async e=>{try{const t=await Oe.farmersAPI.getFarmerById(e.id);U(t||e)}catch(Qh){console.warn("Falling back to row farmer data:",Qh),U(e)}},hs=async e=>{try{var t;const d=e.map(e=>e.farmerId),u=null===(t=e[0])||void 0===t?void 0:t.employeeId;if(!u||0===d.length)return void alert("Please select an employee and at least one farmer");console.log("\ud83d\udd0d Starting farmer assignment..."),console.log("\ud83d\udd0d Farmer IDs:",d),console.log("\ud83d\udd0d Employee ID:",u),console.log("\ud83d\udd0d Assignments object:",e);let h=!1;try{console.log("\ud83d\udd04 Strategy 1: Calling superAdminAPI.bulkAssignFarmers...");const e=await Oe.superAdminAPI.bulkAssignFarmers(d,u);console.log("\u2705 Bulk assignment response:",e),h=!0}catch(i){console.log("\u274c Strategy 1 failed:",i);try{console.log("\ud83d\udd04 Strategy 2: Calling adminAPI.bulkAssignFarmers...");const e=await Oe.adminAPI.bulkAssignFarmers(d,u);console.log("\u2705 Admin bulk assignment response:",e),h=!0}catch(r){console.log("\u274c Strategy 2 failed:",r);try{console.log("\ud83d\udd04 Strategy 3: Trying individual assignments via superAdminAPI...");for(const e of d)console.log("\ud83d\udd04 Assigning individual farmer:",e),await Oe.superAdminAPI.assignFarmer(e,u),console.log("\u2705 Individual assignment successful for farmer:",e);h=!0}catch(l){console.log("\u274c Strategy 3 failed:",l);try{console.log("\ud83d\udd04 Strategy 4: Trying individual assignments via adminAPI...");for(const e of d)console.log("\ud83d\udd04 Assigning individual farmer:",e),await Oe.adminAPI.assignFarmer(e,u),console.log("\u2705 Individual assignment successful for farmer:",e);h=!0}catch(o){throw console.error("\u274c All assignment strategies failed:",o),new Error("All assignment methods failed. Please check backend connectivity.")}}}}if(!h)throw new Error("All assignment methods failed. Please check backend connectivity.");console.log("\ud83d\udd04 Refreshing farmers data from backend...");try{var s,a,n;await new Promise(e=>setTimeout(e,1e3));const e=await Oe.adminAPI.getFarmersWithKyc();console.log("\u2705 Refreshed farmers data:",e),console.log("\ud83d\udd0d First farmer assignedEmployee:",null===(s=e[0])||void 0===s?void 0:s.assignedEmployee),console.log("\ud83d\udd0d assignedEmployee type:",typeof(null===(a=e[0])||void 0===a?void 0:a.assignedEmployee)),null!==(n=e[0])&&void 0!==n&&n.assignedEmployee&&"object"===typeof e[0].assignedEmployee&&console.log("\ud83d\udd0d assignedEmployee object keys:",Object.keys(e[0].assignedEmployee)),p(e),console.log("\u2705 Assignment completed successfully!")}catch(c){console.error("\u274c Failed to refresh farmers data:",c),p(t=>t.map(t=>{const s=e.find(e=>e.farmerId===t.id);return s?(0,Ue.A)((0,Ue.A)({},t),{},{assignmentStatus:"ASSIGNED",assignedEmployee:s.employeeName,assignedDate:(new Date).toISOString().split("T")[0]}):t}))}Y(!1),alert("Farmers assigned successfully!")}catch(w){console.error("\u274c Error assigning farmers:",w),alert("Failed to assign farmers: "+w.message)}},ms=()=>{n()},ps=(e,t)=>{ie({item:e,type:t}),ae(!0)},fs=(()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),0,1),n=(e,n)=>{if(!e)return!1;const i=new Date(e);switch(n){case"today":return i>=t;case"month":return i>=s;case"year":return i>=a;default:return!0}},i=m.filter(e=>{const t=e.createdAt||e.created_at||e.registrationDate;return n(t,ss)}),r=f.filter(e=>{const t=e.createdAt||e.created_at||e.registrationDate;return n(t,ss)}),l=v.filter(e=>{const t=e.createdAt||e.created_at||e.registrationDate;return n(t,ss)}),o=Array.isArray(b)?b:[],c=o.filter(e=>{const t=e.createdAt||e.created_at||e.joinDate;return n(t,ss)}),d="all"===ss?m.length:i.length,u="all"===ss?f.length:r.length,h=l.filter(e=>{const t=e.status||e.userStatus||e.accessStatus;return"PENDING"===t||"pending"===t||"Pending"===t}).length;return{totalFarmers:d,totalEmployees:u,pendingRegistrations:h,unassignedFarmers:i.filter(e=>"PENDING"===e.accessStatus).length,activeEmployees:r.filter(e=>"ACTIVE"===e.status).length,totalFPO:"all"===ss?o.length:c.length,timeFilter:ss}})();return j?(0,Fe.jsx)("div",{className:"dashboard",children:(0,Fe.jsx)("div",{className:"dashboard-main",children:(0,Fe.jsx)("div",{className:"dashboard-content",children:(0,Fe.jsx)("div",{className:"loading",children:"Loading dashboard..."})})})}):w?(0,Fe.jsx)("div",{className:"dashboard",children:(0,Fe.jsx)("div",{className:"dashboard-main",children:(0,Fe.jsx)("div",{className:"dashboard-content",children:(0,Fe.jsx)("div",{className:"error",children:w})})})}):(0,Fe.jsxs)("div",{className:"dashboard",children:[(0,Fe.jsxs)("div",{className:"dashboard-header",children:[(0,Fe.jsx)("div",{className:"header-left",children:(0,Fe.jsxs)("div",{className:"logo-section",children:[(0,Fe.jsx)("h1",{className:"logo-title",children:"DATE"}),(0,Fe.jsx)("p",{className:"logo-subtitle",children:"Digital Agristack"})]})}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsxs)("div",{className:"user-profile-dropdown",children:[(0,Fe.jsxs)("div",{className:"user-profile-trigger",onClick:()=>{console.log("\ud83d\udd0d Toggle clicked! Current state:",Xt),Zt(!Xt),console.log("\ud83d\udd0d New state will be:",!Xt)},children:[(0,Fe.jsxs)("div",{className:"user-avatar user-avatar-with-upload",onClick:e=>{e.stopPropagation(),M()},children:[T?(0,Fe.jsx)("img",{src:T,alt:"Profile",className:"user-avatar-photo",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}}):(0,Fe.jsx)("div",{className:"user-avatar-initials",children:(null===a||void 0===a||null===(e=a.name)||void 0===e?void 0:e.charAt(0))||"S"}),(0,Fe.jsx)("div",{className:"avatar-upload-overlay",children:(0,Fe.jsx)("i",{className:"fas fa-camera"})})]}),(0,Fe.jsx)("span",{className:"user-email",children:(null===a||void 0===a?void 0:a.email)||"super@admin.com"}),(0,Fe.jsx)("i",{className:"fas fa-chevron-down dropdown-arrow ".concat(Xt?"rotated":"")})]}),(0,Fe.jsxs)("div",{className:"user-dropdown-menu ".concat(Xt?"show":""),children:[(0,Fe.jsxs)("div",{className:"dropdown-header",children:[(0,Fe.jsxs)("div",{className:"user-avatar-large user-avatar-with-upload",onClick:M,children:[T?(0,Fe.jsx)("img",{src:T,alt:"Profile",className:"user-avatar-photo",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}}):(0,Fe.jsx)("div",{className:"user-avatar-initials",children:(null===a||void 0===a||null===(s=a.name)||void 0===s?void 0:s.charAt(0))||"S"}),(0,Fe.jsx)("div",{className:"avatar-upload-overlay",children:(0,Fe.jsx)("i",{className:"fas fa-camera"})})]}),(0,Fe.jsxs)("div",{className:"user-details",children:[(0,Fe.jsx)("div",{className:"user-name-large",children:(null===a||void 0===a?void 0:a.name)||"Super Admin"}),(0,Fe.jsx)("div",{className:"user-email",children:(null===a||void 0===a?void 0:a.email)||"super@admin.com"})]})]}),(0,Fe.jsxs)("div",{className:"dropdown-actions",children:[(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:M,children:[(0,Fe.jsx)("i",{className:"fas fa-camera"}),T?"Change Photo":"Upload Photo"]}),T&&(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>{O(null),localStorage.removeItem("userProfilePhoto")},children:[(0,Fe.jsx)("i",{className:"fas fa-trash"}),"Remove Photo"]}),(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>{window.location.href="/change-password"},children:[(0,Fe.jsx)("i",{className:"fas fa-key"}),"Change Password"]}),(0,Fe.jsxs)("button",{className:"dropdown-action-btn logout",onClick:ms,children:[(0,Fe.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]})]})})]}),(0,Fe.jsxs)("div",{className:"dashboard-sidebar",children:[(0,Fe.jsxs)("div",{className:"sidebar-header",children:[(0,Fe.jsx)("h2",{className:"sidebar-welcome",children:"Welcome!!!"}),(0,Fe.jsx)("div",{className:"sidebar-role",children:"Super Admin"})]}),(0,Fe.jsxs)("div",{className:"sidebar-nav",children:[(0,Fe.jsxs)("div",{className:"nav-item ".concat("dashboard"===u?"active":""),onClick:()=>h("dashboard"),children:[(0,Fe.jsx)("i",{className:"fas fa-th-large"}),(0,Fe.jsx)("span",{children:"Dashboard"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("registration"===u?"active":""),onClick:()=>h("registration"),children:[(0,Fe.jsx)("i",{className:"fas fa-user-plus"}),(0,Fe.jsx)("span",{children:"Registration"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("farmers"===u?"active":""),onClick:()=>h("farmers"),children:[(0,Fe.jsx)("i",{className:"fas fa-users"}),(0,Fe.jsx)("span",{children:"Farmers"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("employees"===u?"active":""),onClick:()=>h("employees"),children:[(0,Fe.jsx)("i",{className:"fas fa-user-tie"}),(0,Fe.jsx)("span",{children:"Employees"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("fpo"===u?"active":""),onClick:()=>h("fpo"),children:[(0,Fe.jsx)("i",{className:"fas fa-building"}),(0,Fe.jsx)("span",{children:"FPO"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("bulk-operations"===u?"active":""),onClick:()=>h("bulk-operations"),children:[(0,Fe.jsx)("i",{className:"fas fa-tasks"}),(0,Fe.jsx)("span",{children:"Bulk Operations"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("personalization"===u?"active":""),onClick:()=>h("personalization"),children:[(0,Fe.jsx)("i",{className:"fas fa-palette"}),(0,Fe.jsx)("span",{children:"Personalization"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("settings"===u?"active":""),onClick:()=>h("settings"),children:[(0,Fe.jsx)("i",{className:"fas fa-cog"}),(0,Fe.jsx)("span",{children:"Settings"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("my-account"===u?"active":""),onClick:()=>h("my-account"),children:[(0,Fe.jsx)("i",{className:"fas fa-user"}),(0,Fe.jsx)("span",{children:"My Account"})]}),(0,Fe.jsxs)("div",{className:"nav-item logout",onClick:ms,children:[(0,Fe.jsx)("i",{className:"fas fa-sign-out-alt"}),(0,Fe.jsx)("span",{children:"Logout"})]})]})]}),(0,Fe.jsx)("div",{className:"dashboard-main",children:(0,Fe.jsxs)("div",{className:"dashboard-content",children:["dashboard"===u&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"greeting-banner",children:[(0,Fe.jsxs)("div",{className:"greeting-left",children:[(0,Fe.jsx)("div",{className:"greeting-title",children:D.title}),(0,Fe.jsx)("div",{className:"greeting-subtitle",children:D.subtitle})]}),(0,Fe.jsx)("div",{className:"greeting-right",children:(0,Fe.jsx)("span",{className:"greeting-date",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]}),(0,Fe.jsxs)("div",{className:"welcome-section",children:[(0,Fe.jsx)("h1",{className:"welcome-title",children:"Welcome to DATE Digital Agristack!"}),(0,Fe.jsx)("p",{className:"welcome-subtitle",children:"Empowering your agricultural journey with data-driven insights and seamless management. Explore your dashboard below."})]}),(0,Fe.jsxs)("div",{className:"superadmin-overview-section",children:[(0,Fe.jsxs)("div",{className:"superadmin-overview-header",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h2",{className:"superadmin-overview-title",children:"Dashboard Overview"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Welcome back! Here's what's happening with your agricultural data."})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsxs)("div",{className:"overview-actions",children:[(0,Fe.jsxs)("button",{className:"action-btn refresh ".concat("all"===ss?"active":""),onClick:()=>{console.log("\ud83d\udd04 Refresh clicked - showing all data"),as("all")},children:[(0,Fe.jsx)("i",{className:"fas fa-sync-alt"}),"Refresh"]}),(0,Fe.jsx)("button",{className:"action-btn today ".concat("today"===ss?"active":""),onClick:()=>{console.log("\ud83d\udcc5 Today filter clicked"),as("today")},children:"Today"}),(0,Fe.jsx)("button",{className:"action-btn month ".concat("month"===ss?"active":""),onClick:()=>{console.log("\ud83d\udcc5 This Month filter clicked"),as("month")},children:"This Month"}),(0,Fe.jsx)("button",{className:"action-btn year ".concat("year"===ss?"active":""),onClick:()=>{console.log("\ud83d\udcc5 This Year filter clicked"),as("year")},children:"This Year"})]})})]}),(0,Fe.jsxs)("div",{className:"stats-grid",children:[(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon farmers",children:(0,Fe.jsx)("i",{className:"fas fa-users"})}),(0,Fe.jsx)("div",{className:"stats-title",children:"FARMERS"}),(0,Fe.jsx)("div",{className:"stats-value",children:fs.totalFarmers}),(0,Fe.jsxs)("div",{className:"stats-change positive",children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-up"}),"+12.4%"]}),"all"!==ss&&(0,Fe.jsxs)("div",{className:"stats-period-indicator",children:["today"===ss&&"\ud83d\udcc5 Today","month"===ss&&"\ud83d\udcc5 This Month","year"===ss&&"\ud83d\udcc5 This Year"]})]}),(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon employees",children:(0,Fe.jsx)("i",{className:"fas fa-user-tie"})}),(0,Fe.jsx)("div",{className:"stats-title",children:"EMPLOYEES"}),(0,Fe.jsx)("div",{className:"stats-value",children:fs.totalEmployees}),(0,Fe.jsxs)("div",{className:"stats-change negative",children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-down"}),"-3.0%"]}),"all"!==ss&&(0,Fe.jsxs)("div",{className:"stats-period-indicator",children:["today"===ss&&"\ud83d\udcc5 Today","month"===ss&&"\ud83d\udcc5 This Month","year"===ss&&"\ud83d\udcc5 This Year"]})]}),(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon fpo",children:(0,Fe.jsx)("i",{className:"fas fa-building"})}),(0,Fe.jsx)("div",{className:"stats-title",children:"FPO"}),(0,Fe.jsx)("div",{className:"stats-value",children:fs.totalFPO}),(0,Fe.jsxs)("div",{className:"stats-change neutral",children:[(0,Fe.jsx)("i",{className:"fas fa-minus"}),"+0.0%"]}),"all"!==ss&&(0,Fe.jsxs)("div",{className:"stats-period-indicator",children:["today"===ss&&"\ud83d\udcc5 Today","month"===ss&&"\ud83d\udcc5 This Month","year"===ss&&"\ud83d\udcc5 This Year"]})]})]}),(0,Fe.jsx)("div",{className:"bottom-sections",children:(0,Fe.jsxs)("div",{className:"section-card",children:[(0,Fe.jsxs)("div",{className:"superadmin-section-header",children:[(0,Fe.jsx)("h3",{className:"superadmin-section-title",children:"Quick Actions"}),(0,Fe.jsx)("p",{className:"section-description",children:"Access frequently used functions to manage farmers, employees, and generate reports."})]}),(0,Fe.jsxs)("div",{className:"quick-actions-grid",children:[(0,Fe.jsxs)("button",{className:"quick-action-btn primary",onClick:()=>{console.log("\ud83d\udd04 Quick Action: Add New Farmer clicked"),h("farmers"),ce(null),W(!0)},children:[(0,Fe.jsx)("i",{className:"fas fa-user-plus"}),"Add New Farmer"]}),(0,Fe.jsxs)("button",{className:"quick-action-btn secondary",onClick:()=>{console.log("\ud83d\udd04 Quick Action: Add Employee clicked"),h("employees"),Z(!0)},children:[(0,Fe.jsx)("i",{className:"fas fa-user-tie"}),"Add Employee"]}),(0,Fe.jsxs)("button",{className:"quick-action-btn info",onClick:()=>{console.log("\ud83d\udd04 Quick Action: Generate Report clicked"),alert("Report generation feature coming soon!")},children:[(0,Fe.jsx)("i",{className:"fas fa-chart-bar"}),"Generate Report"]})]})]})})]})]}),"registration"===u&&(0,Fe.jsxs)("div",{className:"superadmin-overview-section",children:[(0,Fe.jsxs)("div",{className:"superadmin-overview-header",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h2",{className:"superadmin-overview-title",children:"Registration Management"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Manage pending registrations and approve new users."})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsxs)("button",{onClick:()=>{alert("\ud83d\udd04 Data refreshed successfully!\n\nRegistration data has been updated with the latest information."),console.log("\ud83d\udd04 Refresh Data button clicked - showing notification")},style:{background:"linear-gradient(135deg, #15803d 0%, #22c55e 100%)",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(21, 128, 61, 0.25)",display:"flex",alignItems:"center",gap:"6px",transform:"translateY(0)",position:"relative",zIndex:1,pointerEvents:"auto"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #16a34a 0%, #22c55e 100%)",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 12px rgba(21, 128, 61, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #15803d 0%, #22c55e 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(21, 128, 61, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-sync-alt"}),"Refresh Data"]})})]}),(0,Fe.jsxs)("div",{className:"filters-section",children:[(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Role"}),(0,Fe.jsxs)("select",{value:qt.role,onChange:e=>Wt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{role:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Roles"}),(0,Fe.jsx)("option",{value:"FARMER",children:"Farmer"}),(0,Fe.jsx)("option",{value:"EMPLOYEE",children:"Employee"}),(0,Fe.jsx)("option",{value:"ADMIN",children:"Admin"}),(0,Fe.jsx)("option",{value:"SUPER_ADMIN",children:"Super Admin"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Status"}),(0,Fe.jsxs)("select",{value:qt.status,onChange:e=>Wt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{status:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Status"}),(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Fe.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,Fe.jsx)("option",{value:"REJECTED",children:"Rejected"})]})]}),(0,Fe.jsx)("div",{className:"filter-actions",children:(0,Fe.jsxs)("button",{className:"filter-btn-clear",onClick:()=>Wt({role:"",status:""}),children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Clear Filters"]})})]}),ns?(0,Fe.jsx)(Ds,{registration:ns,onBack:()=>is(null),onUpdate:()=>{os()}}):(()=>{const e=(()=>{console.log("All registrations:",v);const e=v.filter(e=>{const t=!qt.role||e.role===qt.role,s=!qt.status||e.status===qt.status;return t&&s});return console.log("Filtered registrations:",e),e})();return(0,Fe.jsx)("div",{className:"table-scroll-wrapper",children:(0,Fe.jsx)(Ps,{data:e,columns:[{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"phoneNumber",label:"Phone"},{key:"role",label:"Role"},{key:"status",label:"Status"}],customActions:[{label:"View",className:"info",onClick:ds},{label:"Approve",className:"approve",onClick:e=>(async e=>{try{console.log("\ud83d\udd04 Approving registration for user ID:",e);const t=v.find(t=>t.id===e),s=(null===t||void 0===t?void 0:t.role)||"FARMER";console.log("\ud83d\udd04 Approving with role:",s);const a=await Oe.superAdminAPI.approveUser(e,s);console.log("\u2705 Approval result:",a),x(t=>t.map(t=>t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{status:"APPROVED"}):t)),alert("Registration approved successfully!")}catch(w){var t,s,a;console.error("\u274c Error approving registration:",w),console.error("\u274c Error details:",(null===(t=w.response)||void 0===t?void 0:t.data)||w.message),403===(null===(s=w.response)||void 0===s?void 0:s.status)?alert("Access denied. You may not have permission to approve this registration."):404===(null===(a=w.response)||void 0===a?void 0:a.status)?alert("Registration not found. The user may have been deleted."):"ERR_NETWORK"===w.code?alert("Network error. Please check your connection and try again."):alert("Failed to approve registration: ".concat(w.message))}})(e.id)},{label:"Reject",className:"reject",onClick:e=>(async e=>{try{console.log("\ud83d\udd04 Rejecting registration for user ID:",e);const t=await Oe.superAdminAPI.rejectUser(e);console.log("\u2705 Rejection result:",t),x(t=>t.map(t=>t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{status:"REJECTED"}):t)),alert("Registration rejected successfully!")}catch(w){var t,s,a;console.error("\u274c Error rejecting registration:",w),console.error("\u274c Error details:",(null===(t=w.response)||void 0===t?void 0:t.data)||w.message),403===(null===(s=w.response)||void 0===s?void 0:s.status)?alert("Access denied. You may not have permission to reject this registration."):404===(null===(a=w.response)||void 0===a?void 0:a.status)?alert("Registration not found. The user may have been deleted."):"ERR_NETWORK"===w.code?alert("Network error. Please check your connection and try again."):alert("Failed to reject registration: ".concat(w.message))}})(e.id)},{label:"Delete",className:"danger",onClick:e=>ps(e,"registration")}]})})})()]}),"farmers"===u&&(0,Fe.jsxs)(Fe.Fragment,{children:[c&&l?(0,Fe.jsx)(sa,{cardId:l,onClose:()=>{d(!1),o(null)}}):L||V?null:(0,Fe.jsxs)("div",{className:"superadmin-overview-section",children:[(0,Fe.jsxs)("div",{className:"superadmin-overview-header",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h2",{className:"superadmin-overview-title",children:"Farmer Management"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Manage farmer registrations and assignments."})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsxs)("div",{className:"overview-actions",children:[(0,Fe.jsxs)("button",{className:"action-btn primary",onClick:()=>{ce(null),W(!0)},style:{background:"linear-gradient(135deg, #15803d 0%, #22c55e 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(21, 128, 61, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #16a34a 0%, #22c55e 100%)",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(21, 128, 61, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #15803d 0%, #22c55e 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(21, 128, 61, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add Farmer"]}),(0,Fe.jsxs)("button",{className:"action-btn secondary",onClick:()=>{console.log("\ud83d\udd0d Assign Farmers button clicked"),console.log("\ud83d\udd0d Current showAssignmentInline state:",V),console.log("\ud83d\udd0d Total farmers:",m.length),console.log("\ud83d\udd0d Available employees:",f.length),console.log("\ud83d\udd0d Farmers without assignments:",m.filter(e=>!e.assignedEmployee||"Not Assigned"===e.assignedEmployee||null===e.assignedEmployee||void 0===e.assignedEmployee||""===e.assignedEmployee).length),Y(!0),console.log("\ud83d\udd0d Set showAssignmentInline to true")},style:{background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)"},onMouseEnter:e=>{e.target.style.background="#2563eb",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(59, 130, 246, 0.35)"},onMouseLeave:e=>{e.target.style.background="#3b82f6",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-user-plus"}),"Assign Farmers"]}),(0,Fe.jsxs)("button",{onClick:()=>{console.log("\ud83d\udd0d Refresh Data button clicked!"),(async()=>{console.log("\ud83d\udd04 Manual refresh triggered...");try{var e;console.log("\ud83d\udd04 Calling adminAPI.getFarmersWithKyc()...");const t=await Oe.adminAPI.getFarmersWithKyc();console.log("\u2705 Manual refresh - farmers data:",t),console.log("\ud83d\udd0d Manual refresh - first farmer assignedEmployee:",null===(e=t[0])||void 0===e?void 0:e.assignedEmployee),p(t),alert("Data refreshed successfully!")}catch(w){console.error("\u274c Manual refresh failed:",w),alert("Failed to refresh data: "+w.message)}})()},style:{background:"linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)",position:"relative",zIndex:1},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #d97706 0%, #f59e0b 100%)",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(245, 158, 11, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(245, 158, 11, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-sync-alt"}),"Refresh Data"]}),"farmers"===u&&(0,Fe.jsxs)("button",{className:"action-btn danger",onClick:async()=>{if(es.length){if(window.confirm("Delete ".concat(es.length," selected farmer(s)? This action cannot be undone.")))try{for(const e of es)try{await Oe.farmersAPI.deleteFarmer(e),p(t=>t.filter(t=>t.id!==e))}catch(Qh){console.error("Failed to delete farmer ".concat(e,":"),Qh)}ts([]),alert("Selected farmers deleted successfully")}catch(w){console.error("Bulk delete failed:",w),alert("Failed to delete selected farmers.")}}else alert("Please select at least one farmer to delete.")},disabled:!es.length,style:{background:"#ef4444",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:es.length?"pointer":"not-allowed",opacity:es.length?1:.6,fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)"},children:[(0,Fe.jsx)("i",{className:"fas fa-trash-alt"}),"Delete Selected"]})]})})]}),(0,Fe.jsxs)("div",{className:"filters-section",children:[(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"State"}),(0,Fe.jsxs)("select",{value:Ht.state,onChange:e=>Kt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{state:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All States"}),(0,Fe.jsx)("option",{value:"Telangana",children:"Telangana"}),(0,Fe.jsx)("option",{value:"Andhrapradesh",children:"Andhrapradesh"}),(0,Fe.jsx)("option",{value:"Maharashtra",children:"Maharashtra"}),(0,Fe.jsx)("option",{value:"Gujarat",children:"Gujarat"}),(0,Fe.jsx)("option",{value:"Punjab",children:"Punjab"}),(0,Fe.jsx)("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),(0,Fe.jsx)("option",{value:"Tamil Nadu",children:"Tamil Nadu"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"District"}),(0,Fe.jsxs)("select",{value:Ht.district,onChange:e=>Kt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{district:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Districts"}),(0,Fe.jsx)("option",{value:"Karimnagar",children:"Karimnagar"}),(0,Fe.jsx)("option",{value:"rangareddy",children:"Rangareddy"}),(0,Fe.jsx)("option",{value:"kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"Kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"kadpaa",children:"Kadpaa"}),(0,Fe.jsx)("option",{value:"Kuppam",children:"Kuppam"}),(0,Fe.jsx)("option",{value:"Pune",children:"Pune"}),(0,Fe.jsx)("option",{value:"Ahmedabad",children:"Ahmedabad"}),(0,Fe.jsx)("option",{value:"Amritsar",children:"Amritsar"}),(0,Fe.jsx)("option",{value:"Lucknow",children:"Lucknow"}),(0,Fe.jsx)("option",{value:"Chennai",children:"Chennai"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"KYC Status"}),(0,Fe.jsxs)("select",{value:Ht.kycStatus,onChange:e=>Kt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{kycStatus:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All KYC Status"}),(0,Fe.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Fe.jsx)("option",{value:"NOT_STARTED",children:"Not Started"}),(0,Fe.jsx)("option",{value:"REFER_BACK",children:"Refer Back"}),(0,Fe.jsx)("option",{value:"REJECTED",children:"Rejected"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Assignment Status"}),(0,Fe.jsxs)("select",{value:Ht.assignmentStatus,onChange:e=>Kt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{assignmentStatus:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Assignment Status"}),(0,Fe.jsx)("option",{value:"ASSIGNED",children:"Assigned"}),(0,Fe.jsx)("option",{value:"UNASSIGNED",children:"Unassigned"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Assigned Employee"}),(0,Fe.jsxs)("select",{value:Ht.employeeFilter,onChange:e=>{console.log("\ud83d\udd0d Employee filter changed to:",e.target.value),Kt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{employeeFilter:e.target.value}))},className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Employees"}),f.map(e=>(console.log("\ud83d\udd0d Employee in dropdown:",e),(0,Fe.jsx)("option",{value:e.name,children:e.name},e.id)))]})]}),(0,Fe.jsx)("div",{className:"filter-actions",children:(0,Fe.jsxs)("button",{className:"filter-btn-clear",onClick:()=>Kt({state:"",district:"",region:"",kycStatus:"",assignmentStatus:"",employeeFilter:""}),children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Clear Filters"]})})]}),q?(0,Fe.jsxs)("div",{className:"employee-registration-section",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:"Add New Farmer"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Register a new farmer in the system."}),(0,Fe.jsx)("div",{className:"overview-actions",children:(0,Fe.jsxs)("button",{className:"action-btn secondary",onClick:()=>W(!1),children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-left"}),"Back to Farmers"]})})]}),(0,Fe.jsx)(gs,{isInDashboard:!0,onClose:()=>W(!1),onSubmit:async e=>{try{if(oe){const t=await Oe.farmersAPI.updateFarmer(oe.id,e);p(e=>e.map(e=>e.id===oe.id?t:e)),alert("Farmer updated successfully!")}else{const t=await Oe.farmersAPI.createFarmer(e);p(e=>[...e,t]),alert("Farmer created successfully!")}W(!1),ce(null)}catch(w){console.error("Error saving farmer:",w),alert("Failed to save farmer. Please try again.")}}})]}):(0,Fe.jsx)("div",{className:"table-scroll-wrapper",children:(0,Fe.jsx)(Ps,{data:cs(),columns:[{key:"select",label:"",headerRender:()=>(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"checkbox",checked:cs().length>0&&cs().every(e=>es.includes(e.id))},!cs().every(e=>es.includes(e.id))&&es.length>0?{indeterminate:!0}:{}),{},{onChange:e=>{const t=cs();if(e.target.checked){const e=t.map(e=>e.id).filter(e=>!es.includes(e));ts(t=>[...t,...e])}else{const e=new Set(t.map(e=>e.id));ts(t=>t.filter(t=>!e.has(t)))}}})),render:(e,t)=>(0,Fe.jsx)("input",{type:"checkbox",checked:es.includes(t.id),onChange:()=>{return e=t.id,void ts(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]);var e}})},{key:"id",label:"ID",render:(e,t)=>(e=>{const t=[null===e||void 0===e?void 0:e.farmerId,null===e||void 0===e?void 0:e.farmerCode,null===e||void 0===e?void 0:e.farmerUniqueId,null===e||void 0===e?void 0:e.famId,null===e||void 0===e?void 0:e.famCode,null===e||void 0===e?void 0:e.userUniqueId,null===e||void 0===e?void 0:e.userId,null===e||void 0===e?void 0:e.uniqueId,null===k||void 0===k?void 0:k[null===e||void 0===e?void 0:e.id],null===e||void 0===e?void 0:e.cardId].find(e=>void 0!==e&&null!==e&&""!==String(e).trim());if(t)return String(t);const s=null!==e&&void 0!==e&&e.id?String(e.id).padStart(6,"0"):"000000";return"FAM".concat(s)})(t)},{key:"name",label:"Name"},{key:"contactNumber",label:"Phone"},{key:"state",label:"State"},{key:"district",label:"District"},{key:"kycStatus",label:"KYC Status",render:e=>e?"PENDING"===e||"pending"===e?"PENDING":"APPROVED"===e||"approved"===e?"APPROVED":"REFER_BACK"===e||"refer_back"===e?"REFER_BACK":"REJECTED"===e||"rejected"===e?"REJECTED":"NOT_STARTED"===e||"not_started"===e?"NOT_STARTED":e.toUpperCase():"NOT_STARTED"},{key:"assignedEmployee",label:"Assigned Employee"}],customActions:[{label:"View",className:"info",onClick:us},{label:"ID Card",className:"primary",onClick:async e=>{try{console.log("\ud83d\udd04 Attempting to get ID card for farmer:",e.id,e.name);const t=await Oe.idCardAPI.getIdCardsByHolder(e.id.toString());if(console.log("\ud83d\udccb Fetched ID cards list:",t),Array.isArray(t)&&t.length>0){const e=t.find(e=>"ACTIVE"===e.status)||t[0];return console.log("\u2705 Using existing ID card:",e.cardId),o(e.cardId),void d(!0)}console.log("\ud83d\udd04 No existing cards found, generating new one...");const s=await Oe.idCardAPI.generateFarmerIdCard(e.id);console.log("\ud83d\udd04 Generated ID card response:",s),s&&s.cardId?(console.log("\u2705 Successfully generated ID card:",s.cardId),o(s.cardId),d(!0)):(console.error("\u274c Generated ID card response is invalid:",s),alert("Failed to generate ID card: Invalid response from server"))}catch(Qh){var t,s,a;console.error("\u274c Farmer ID Card action failed:",Qh),console.error("Error details:",(null===(t=Qh.response)||void 0===t?void 0:t.data)||Qh.message),alert("Unable to open or generate ID card: ".concat((null===(s=Qh.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||Qh.message))}}},{label:"Delete",className:"danger",onClick:e=>ps(e,"farmer")}]})})]}),V&&(0,Fe.jsx)(ys,{farmers:m.filter(e=>!e.assignedEmployee||"Not Assigned"===e.assignedEmployee||null===e.assignedEmployee||void 0===e.assignedEmployee||""===e.assignedEmployee),employees:f,onBack:()=>{console.log("\ud83d\udd0d Back button clicked"),Y(!1)},onAssign:hs}),L&&(0,Fe.jsx)(ws,{farmerData:L,onBack:()=>U(null),onSave:async e=>{try{const t=await Oe.farmersAPI.updateFarmer(L.id,e);p(e=>e.map(e=>e.id===L.id?t:e)),U(t),alert("Farmer updated successfully!")}catch(w){console.error("Error updating farmer:",w),alert("Failed to update farmer. Please try again.")}}}),i&&l&&(0,Fe.jsx)(sa,{cardId:l,onClose:()=>{r(!1),o(null)}})]}),"employees"===u&&(0,Fe.jsx)(Fe.Fragment,{children:c&&l?(0,Fe.jsx)(sa,{cardId:l,onClose:()=>{d(!1),o(null)}}):X?(0,Fe.jsxs)("div",{className:"employee-registration-section",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:"Add New Employee"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Register a new employee in the system."}),(0,Fe.jsx)("div",{className:"overview-actions",children:(0,Fe.jsxs)("button",{onClick:()=>{h("employees"),Z(!1),console.log("\ud83d\udd04 Back to Employees button clicked - returning to employees list")},style:{background:"#6b7280",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(107, 114, 128, 0.25)",display:"flex",alignItems:"center",gap:"6px",transform:"translateY(0)",position:"relative",zIndex:1,pointerEvents:"auto"},onMouseEnter:e=>{e.target.style.background="#4b5563",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 12px rgba(107, 114, 128, 0.35)"},onMouseLeave:e=>{e.target.style.background="#6b7280",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(107, 114, 128, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-left"}),"Back to Employees"]})})]}),(0,Fe.jsx)(xs,{isInDashboard:!0,onClose:()=>Z(!1),onSubmit:async e=>{try{const t=await Oe.employeesAPI.createEmployee(e);g(e=>[...e,t]);try{const e=await Oe.idCardAPI.generateEmployeeIdCard(t.id);e&&e.cardId&&E(s=>(0,Ue.A)((0,Ue.A)({},s),{},{[t.id]:e.cardId}))}catch(Qh){console.warn("Could not generate employee ID card right after creation:",Qh)}alert("Employee created successfully!"),Z(!1)}catch(w){console.error("Error creating employee:",w),alert("Failed to create employee. Please try again.")}}})]}):(0,Fe.jsx)(Fe.Fragment,{children:H?(0,Fe.jsx)(ks,{employeeData:H,onBack:()=>K(null),onSave:async e=>{try{const t=await Oe.superAdminAPI.updateEmployee($.id,e);g(e=>e.map(e=>e.id===$.id?t:e)),G(t),alert("Employee updated successfully!")}catch(w){console.error("Error updating employee:",w),alert("Failed to update employee. Please try again.")}}}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"superadmin-overview-header",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h2",{className:"superadmin-overview-title",children:"Employee Management"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Manage employee profiles and assignments."})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("div",{className:"overview-actions",children:(0,Fe.jsxs)("button",{onClick:()=>{Z(!0),console.log("\ud83d\udd04 Add Employee button clicked - opening employee form")},style:{background:"linear-gradient(135deg, #15803d 0%, #22c55e 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(21, 128, 61, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)",position:"relative",zIndex:1,pointerEvents:"auto"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #16a34a 0%, #22c55e 100%)",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(21, 128, 61, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #15803d 0%, #22c55e 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(21, 128, 61, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add Employee"]})})})]}),(0,Fe.jsxs)("div",{className:"filters-section",children:[(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Status"}),(0,Fe.jsxs)("select",{value:$t.status,onChange:e=>Gt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{status:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Status"}),(0,Fe.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,Fe.jsx)("option",{value:"INACTIVE",children:"Inactive"}),(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Role"}),(0,Fe.jsxs)("select",{value:$t.role,onChange:e=>Gt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{role:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Roles"}),(0,Fe.jsx)("option",{value:"employee",children:"Employee"}),(0,Fe.jsx)("option",{value:"admin",children:"Admin"}),(0,Fe.jsx)("option",{value:"super_admin",children:"Super Admin"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Designation"}),(0,Fe.jsxs)("select",{value:$t.designation,onChange:e=>Gt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{designation:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Designations"}),(0,Fe.jsx)("option",{value:"KYC Officer",children:"KYC Officer"}),(0,Fe.jsx)("option",{value:"Field Officer",children:"Field Officer"}),(0,Fe.jsx)("option",{value:"Manager",children:"Manager"}),(0,Fe.jsx)("option",{value:"Supervisor",children:"Supervisor"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"State"}),(0,Fe.jsxs)("select",{value:$t.state,onChange:e=>Gt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{state:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All States"}),(0,Fe.jsx)("option",{value:"Telangana",children:"Telangana"}),(0,Fe.jsx)("option",{value:"Andhrapradesh",children:"Andhrapradesh"}),(0,Fe.jsx)("option",{value:"Maharashtra",children:"Maharashtra"}),(0,Fe.jsx)("option",{value:"Gujarat",children:"Gujarat"}),(0,Fe.jsx)("option",{value:"Punjab",children:"Punjab"}),(0,Fe.jsx)("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),(0,Fe.jsx)("option",{value:"Tamil Nadu",children:"Tamil Nadu"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"District"}),(0,Fe.jsxs)("select",{value:$t.district,onChange:e=>Gt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{district:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Districts"}),(0,Fe.jsx)("option",{value:"Karimnagar",children:"Karimnagar"}),(0,Fe.jsx)("option",{value:"rangareddy",children:"Rangareddy"}),(0,Fe.jsx)("option",{value:"kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"Kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"kadpaa",children:"Kadpaa"}),(0,Fe.jsx)("option",{value:"Kuppam",children:"Kuppam"}),(0,Fe.jsx)("option",{value:"Pune",children:"Pune"}),(0,Fe.jsx)("option",{value:"Ahmedabad",children:"Ahmedabad"}),(0,Fe.jsx)("option",{value:"Amritsar",children:"Amritsar"}),(0,Fe.jsx)("option",{value:"Lucknow",children:"Lucknow"}),(0,Fe.jsx)("option",{value:"Chennai",children:"Chennai"})]})]}),(0,Fe.jsx)("div",{className:"filter-actions",children:(0,Fe.jsxs)("button",{className:"filter-btn-clear",onClick:()=>Gt({status:"",role:"",designation:"",state:"",district:""}),children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Clear Filters"]})})]}),(0,Fe.jsx)("div",{className:"table-scroll-wrapper",children:(0,Fe.jsx)(Ps,{data:(f||[]).filter(e=>{const t=!$t.status||e.status===$t.status,s=!$t.role||e.role===$t.role,a=!$t.designation||e.designation===$t.designation,n=!$t.state||e.state===$t.state,i=!$t.district||e.district===$t.district;return t&&s&&a&&n&&i}),columns:[{key:"id",label:"ID",render:(e,t)=>(e=>{const t=[null===e||void 0===e?void 0:e.employeeId,null===e||void 0===e?void 0:e.employeeCode,null===e||void 0===e?void 0:e.employeeUniqueId,null===e||void 0===e?void 0:e.empId,null===e||void 0===e?void 0:e.empCode,null===e||void 0===e?void 0:e.userUniqueId,null===e||void 0===e?void 0:e.userId,null===e||void 0===e?void 0:e.uniqueId,null===A||void 0===A?void 0:A[null===e||void 0===e?void 0:e.id],null===e||void 0===e?void 0:e.cardId].find(e=>void 0!==e&&null!==e&&""!==String(e).trim());if(t)return String(t);const s=null!==e&&void 0!==e&&e.id?String(e.id).padStart(6,"0"):"000000";return"EMP".concat(s)})(t)},{key:"name",label:"Name"},{key:"contactNumber",label:"Phone"},{key:"email",label:"Email"},{key:"status",label:"Status"},{key:"role",label:"Role"}],customActions:[{label:"View",className:"info",onClick:async e=>{try{const t=await Oe.superAdminAPI.getEmployeeById(e.id);K(t)}catch(w){console.error("Error fetching employee details:",w),K(e)}}},{label:"ID Card",className:"primary",onClick:async e=>{try{console.log("\ud83d\udd04 Attempting to get ID card for employee:",e.id,e.name);const t=await Oe.idCardAPI.getIdCardsByHolder(e.id.toString());if(console.log("\ud83d\udccb Fetched ID cards list:",t),Array.isArray(t)&&t.length>0){const e=t.find(e=>"ACTIVE"===e.status)||t[0];return console.log("\u2705 Using existing ID card:",e.cardId),o(e.cardId),void d(!0)}console.log("\ud83d\udd04 No existing cards found, generating new one...");const s=await Oe.idCardAPI.generateEmployeeIdCard(e.id);console.log("\ud83d\udd04 Generated ID card response:",s),s&&s.cardId?(console.log("\u2705 Successfully generated ID card:",s.cardId),o(s.cardId),d(!0)):(console.error("\u274c Generated ID card response is invalid:",s),alert("Failed to generate ID card: Invalid response from server"))}catch(Qh){var t,s,a;console.error("\u274c Employee ID Card action failed:",Qh),console.error("Error details:",(null===(t=Qh.response)||void 0===t?void 0:t.data)||Qh.message),alert("Unable to open or generate ID card: ".concat((null===(s=Qh.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||Qh.message))}}},{label:"Delete",className:"danger",onClick:e=>ps(e,"employee")}]})})]})})}),"fpo"===u&&(0,Fe.jsx)(Fe.Fragment,{children:Ce&&Ee?(0,Fe.jsx)(na,{fpo:Ee,onClose:()=>{Ae(!1),Pe(null)}}):pe&&ge?(0,Fe.jsx)(ia,{fpo:ge,onClose:()=>{fe(!1),ve(null)},onUpdated:e=>{y(t=>t.map(t=>t.id===ge.id?e:t)),fe(!1),ve(null),alert("FPO updated successfully!")}}):Me&&Be?(0,Fe.jsx)(ra,{fpo:Be,onClose:()=>{Le(!1),ze(null)}}):He&&$e?(0,Fe.jsx)(la,{fpo:$e,onClose:()=>{Ke(!1),Ge(null)}}):et&&st?(0,Fe.jsx)(oa,{fpo:st,onClose:()=>{tt(!1),at(null)}}):ot&&dt?(0,Fe.jsx)(ca,{fpo:dt,onClose:()=>{ct(!1),ut(null)}}):gt&&xt?(0,Fe.jsx)(da,{fpo:xt,onClose:()=>{vt(!1),bt(null)}}):St&&Ct?(0,Fe.jsx)(ua,{fpo:Ct,onClose:()=>{kt(!1),At(null)}}):Dt&&Tt?(0,Fe.jsx)(ha,{fpo:Tt,onClose:()=>{_t(!1),Ot(null)}}):Bt&&Vt?(0,Fe.jsx)(ma,{fpo:Vt,onClose:()=>{zt(!1),Yt(null)}}):(0,Fe.jsx)("div",{className:"superadmin-overview-section",children:xe?(0,Fe.jsxs)("div",{className:"fpo-creation-section",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:de?"Edit FPO":"Add New FPO"}),(0,Fe.jsx)("p",{className:"overview-description",children:de?"Update FPO information.":"Register a new FPO in the system."}),(0,Fe.jsx)("div",{className:"overview-actions",children:(0,Fe.jsxs)("button",{onClick:()=>{be(!1),ue(null)},style:{background:"#6b7280",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(107, 114, 128, 0.25)",display:"flex",alignItems:"center",gap:"6px",transform:"translateY(0)"},onMouseEnter:e=>{e.target.style.background="#4b5563",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 12px rgba(107, 114, 128, 0.35)"},onMouseLeave:e=>{e.target.style.background="#6b7280",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(107, 114, 128, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-left"}),"Back to FPOs"]})})]}),(0,Fe.jsx)(Os,{fpoData:de,onClose:()=>{be(!1),ue(null)},onSubmit:async e=>{try{if(de){const t=await Oe.fpoAPI.updateFPO(de.id,e);y(e=>e.map(e=>e.id===de.id?t:e)),alert("FPO updated successfully!")}else{const t=await Oe.fpoAPI.createFPO(e);y(e=>[...e,t]),alert("FPO created successfully!")}be(!1),ue(null)}catch(w){console.error("Error saving FPO:",w),alert("Failed to save FPO. Please try again.")}}})]}):(0,Fe.jsx)(Fe.Fragment,{children:ye?(0,Fe.jsx)(ea,{fpoId:null===ye||void 0===ye?void 0:ye.id,initialTab:rs,onBack:()=>je(null)}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"superadmin-overview-header",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h2",{className:"superadmin-overview-title",children:"FPO Management"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Manage Farmer Producer Organizations and their operations."})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("div",{className:"overview-actions",children:(0,Fe.jsxs)("button",{onClick:()=>{ue(null),be(!0)},style:{background:"linear-gradient(135deg, #15803d 0%, #22c55e 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(21, 128, 61, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #16a34a 0%, #22c55e 100%)",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(21, 128, 61, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #15803d 0%, #22c55e 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(21, 128, 61, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add FPO"]})})})]}),(0,Fe.jsxs)("div",{className:"filters-section",children:[(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"State"}),(0,Fe.jsxs)("select",{value:Jt.state,onChange:e=>Qt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{state:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All States"}),(0,Fe.jsx)("option",{value:"Telangana",children:"Telangana"}),(0,Fe.jsx)("option",{value:"Andhrapradesh",children:"Andhrapradesh"}),(0,Fe.jsx)("option",{value:"Maharashtra",children:"Maharashtra"}),(0,Fe.jsx)("option",{value:"Gujarat",children:"Gujarat"}),(0,Fe.jsx)("option",{value:"Punjab",children:"Punjab"}),(0,Fe.jsx)("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),(0,Fe.jsx)("option",{value:"Tamil Nadu",children:"Tamil Nadu"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"District"}),(0,Fe.jsxs)("select",{value:Jt.district,onChange:e=>Qt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{district:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Districts"}),(0,Fe.jsx)("option",{value:"Karimnagar",children:"Karimnagar"}),(0,Fe.jsx)("option",{value:"rangareddy",children:"Rangareddy"}),(0,Fe.jsx)("option",{value:"kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"Kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"kadpaa",children:"Kadpaa"}),(0,Fe.jsx)("option",{value:"Kuppam",children:"Kuppam"}),(0,Fe.jsx)("option",{value:"Pune",children:"Pune"}),(0,Fe.jsx)("option",{value:"Ahmedabad",children:"Ahmedabad"}),(0,Fe.jsx)("option",{value:"Amritsar",children:"Amritsar"}),(0,Fe.jsx)("option",{value:"Lucknow",children:"Lucknow"}),(0,Fe.jsx)("option",{value:"Chennai",children:"Chennai"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Status"}),(0,Fe.jsxs)("select",{value:Jt.status,onChange:e=>Qt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{status:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Status"}),(0,Fe.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,Fe.jsx)("option",{value:"INACTIVE",children:"Inactive"}),(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Registration Type"}),(0,Fe.jsxs)("select",{value:Jt.registrationType,onChange:e=>Qt(t=>(0,Ue.A)((0,Ue.A)({},t),{},{registrationType:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Types"}),(0,Fe.jsx)("option",{value:"Company",children:"Company"}),(0,Fe.jsx)("option",{value:"Cooperative",children:"Cooperative"}),(0,Fe.jsx)("option",{value:"Society",children:"Society"})]})]}),(0,Fe.jsx)("div",{className:"filter-actions",children:(0,Fe.jsxs)("button",{className:"filter-btn-clear",onClick:()=>Qt({state:"",district:"",status:"",registrationType:""}),children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Clear Filters"]})})]}),(0,Fe.jsx)("div",{className:"table-scroll-wrapper",children:(0,Fe.jsx)(Ps,{data:(Array.isArray(b)?b:[]).filter(e=>{const t=!Jt.state||e.state===Jt.state,s=!Jt.district||e.district===Jt.district,a=!Jt.status||e.status===Jt.status,n=!Jt.registrationType||e.registrationType===Jt.registrationType;return t&&s&&a&&n}),columns:[{key:"fpoId",label:"Id"},{key:"fpoName",label:"FPO name"},{key:"ceoName",label:"CEO name"},{key:"phoneNumber",label:"Phone number"},{key:"joinDate",label:"Join Date"},{key:"status",label:"Status",render:(e,t)=>(0,Fe.jsxs)("label",{className:"switch",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:"ACTIVE"===(t.status||"").toUpperCase(),onChange:async e=>{try{const s=e.target.checked?"ACTIVE":"INACTIVE";await Oe.fpoAPI.updateFPOStatus(t.id,s),y(e=>e.map(e=>e.id===t.id?(0,Ue.A)((0,Ue.A)({},e),{},{status:s}):e)),le({type:"success",message:"FPO status updated to ".concat(s)}),setTimeout(()=>le(null),2e3)}catch(s){console.error("Failed to toggle FPO status:",s),le({type:"error",message:"Failed to update status"}),setTimeout(()=>le(null),2e3)}}}),(0,Fe.jsx)("span",{className:"slider round"})]})}],customActions:[{label:"Dashboard",className:"info",onClick:e=>{Pe(e),Ae(!0)}},{label:"Edit FPO",className:"warning",onClick:e=>{ve(e),fe(!0)}},{label:"FPO Board Members",onClick:e=>{ze(e),Le(!0)}},{label:"FPO Farm Services",onClick:e=>{Ge(e),Ke(!0)}},{label:"FPO Turnover",onClick:e=>{at(e),tt(!0)}},{label:"FPO Crop Entries",onClick:e=>{ut(e),ct(!0)}},{label:"FPO Input Shop",onClick:e=>{bt(e),vt(!0)}},{label:"FPO Product Categories",onClick:e=>{At(e),kt(!0)}},{label:"FPO Products",onClick:e=>{Ot(e),_t(!0)}},{label:"FPO Users",onClick:e=>{Yt(e),zt(!0)}},{label:"Delete",className:"danger",onClick:e=>ps(e,"fpo")}]})})]})})})}),"add-farmer"===u&&(0,Fe.jsxs)("div",{className:"overview-section",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:"Add New Farmer"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Register a new farmer in the system."})]}),(0,Fe.jsx)(gs,{onClose:()=>h("farmers"),onSubmit:e=>{console.log("New farmer data:",e),h("farmers")}})]}),"view-farmers"===u&&(0,Fe.jsxs)("div",{className:"overview-section",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:"View Farmers"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Manage and view all farmers in the system."})]}),(0,Fe.jsxs)("div",{className:"farmers-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h3",{className:"section-title",children:"Farmers List"}),(0,Fe.jsx)("div",{className:"section-actions",children:(0,Fe.jsxs)("button",{className:"action-btn primary",onClick:()=>h("add-farmer"),children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add Farmer"]})})]}),(0,Fe.jsx)(Ps,{data:cs(),columns:[{key:"name",label:"Name"},{key:"contactNumber",label:"Contact"},{key:"state",label:"State"},{key:"district",label:"District"},{key:"kycStatus",label:"KYC Status"}],customActions:[{label:"View",className:"info",onClick:e=>us(e)},{label:"Edit",className:"warning",onClick:e=>(e=>{const t={id:e.id,firstName:e.firstName||"",lastName:e.lastName||"",middleName:e.middleName||"",salutation:e.salutation||"",contactNumber:e.contactNumber||"",email:e.email||"",dob:e.dob||"",gender:e.gender||"",nationality:e.nationality||"",relationType:e.relationType||"",relationName:e.relationName||"",altNumber:e.altNumber||"",altNumberType:e.altNumberType||"",country:e.country||"",state:e.state||"",district:e.district||"",block:e.block||"",village:e.village||"",zipcode:e.zipcode||"",sector:e.sector||"",education:e.education||"",experience:e.experience||"",bankName:e.bankName||"",accountNumber:e.accountNumber||"",branchName:e.branchName||"",ifscCode:e.ifscCode||"",passbookFileName:e.passbookFileName||"",documentType:e.documentType||"",documentNumber:e.documentNumber||"",documentFileName:e.documentFileName||"",photoFileName:e.photoFileName||"",role:e.role||"FARMER",accessStatus:e.accessStatus||"PENDING",kycStatus:e.kycStatus||"PENDING"};console.log("Farmer data for edit:",t),ce(t),W(!0)})(e)},{label:"Delete",className:"danger",onClick:e=>ps(e,"farmer")}]})]})]}),"bulk-operations"===u&&(0,Fe.jsx)(_s,{userRole:"SUPER_ADMIN",hideHeader:!1}),"personalization"===u&&(0,Fe.jsxs)("div",{className:"overview-section",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:"Personalization"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Customize your dashboard and preferences."})]}),(0,Fe.jsxs)("div",{className:"coming-soon",children:[(0,Fe.jsx)("i",{className:"fas fa-palette"}),(0,Fe.jsx)("h3",{children:"Coming Soon"}),(0,Fe.jsx)("p",{children:"Personalization features are under development."})]})]}),"settings"===u&&(0,Fe.jsxs)("div",{className:"overview-section",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:"Settings"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Configure system settings and preferences."})]}),(0,Fe.jsxs)("div",{className:"coming-soon",children:[(0,Fe.jsx)("i",{className:"fas fa-cog"}),(0,Fe.jsx)("h3",{children:"Coming Soon"}),(0,Fe.jsx)("p",{children:"Settings panel is under development."})]})]}),"my-account"===u&&(0,Fe.jsxs)("div",{className:"overview-section",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:"My Account"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Manage your account information and preferences."})]}),(0,Fe.jsxs)("div",{className:"coming-soon",children:[(0,Fe.jsx)("i",{className:"fas fa-user"}),(0,Fe.jsx)("h3",{children:"Coming Soon"}),(0,Fe.jsx)("p",{children:"Account management features are under development."})]})]})]})}),re&&(0,Fe.jsx)("div",{className:"toast-container",children:(0,Fe.jsxs)("div",{className:"toast ".concat(re.type),children:[(0,Fe.jsx)("span",{className:"icon",children:"success"===re.type?"\u2714":"!"}),(0,Fe.jsx)("span",{children:re.message})]})}),B&&(console.log("=== RENDERING ASSIGNMENT MODAL ==="),console.log("showAssignmentModal:",B),console.log("Employees state:",f),console.log("Employees length:",(null===f||void 0===f?void 0:f.length)||0),(0,Fe.jsx)(bs,{farmers:m.filter(e=>!e.assignedEmployee||"Not Assigned"===e.assignedEmployee||null===e.assignedEmployee||void 0===e.assignedEmployee||""===e.assignedEmployee),employees:(()=>{var e,t;return console.log("=== PASSING EMPLOYEES TO MODAL ==="),console.log("Employees array:",f),console.log("Employees type:",typeof f),console.log("Employees length:",(null===f||void 0===f?void 0:f.length)||0),console.log("Employees is array:",Array.isArray(f)),f&&f.length>0?(console.log("First employee:",f[0]),console.log("First employee name:",null===(e=f[0])||void 0===e?void 0:e.name),console.log("First employee designation:",null===(t=f[0])||void 0===t?void 0:t.designation),console.log("All employee names:",f.map(e=>null===e||void 0===e?void 0:e.name))):console.log("No employees found or employees is empty/null"),f})(),onClose:()=>z(!1),onAssign:hs})),J&&$&&(0,Fe.jsx)(Ss,{employee:$,onClose:()=>Q(!1)}),de&&(0,Fe.jsx)(Rs,{fpo:de,onClose:()=>ue(null),onUpdated:e=>{y(t=>t.map(t=>t.id===e.id?e:t)),ue(null)}}),Ne&&Se&&(0,Fe.jsx)(Ys,{fpo:Se,onClose:()=>{we(!1),ke(null)}}),Ie&&Te&&(0,Fe.jsx)(qs,{isOpen:Ie,onClose:()=>{De(!1),Re(null)},fpoId:Te.id,fpoName:Te.fpoName}),Ve&&qe&&(0,Fe.jsx)(Ws,{isOpen:Ve,onClose:()=>{Ye(!1),We(null)},fpoId:qe.id,fpoName:qe.fpoName}),Je&&Xe&&(0,Fe.jsx)(Hs,{isOpen:Je,onClose:()=>{Qe(!1),Ze(null)},fpoId:Xe.id,fpoName:Xe.fpoName}),nt&&rt&&(0,Fe.jsx)(Js,{isOpen:nt,onClose:()=>{it(!1),lt(null)},fpoId:rt.id,fpoName:rt.fpoName}),ht&&pt&&(0,Fe.jsx)(Ks,{isOpen:ht,onClose:()=>{mt(!1),ft(null)},fpoId:pt.id,fpoName:pt.fpoName}),yt&&Nt&&(0,Fe.jsx)($s,{isOpen:yt,onClose:()=>{jt(!1),wt(null)},fpoId:Nt.id}),Et&&It&&(0,Fe.jsx)(Gs,{isOpen:Et,onClose:()=>{Pt(!1),Ft(null)},fpoId:It.id}),Rt&&Lt&&(0,Fe.jsx)(Xs,{isOpen:Rt,onClose:()=>{Mt(!1),Ut(null)},fpoId:Lt.id}),ee&&(0,Fe.jsx)(js,{onClose:()=>te(!1),onApprove:e=>{alert("KYC approved successfully!")},onReject:e=>{alert("KYC rejected successfully!")},onReferBack:e=>{alert("KYC referred back for review!")}}),se&&(0,Fe.jsx)(aa,{onClose:()=>ae(!1),onConfirm:async()=>{if(ne)try{const{item:e,type:t}=ne;"farmer"===t?(await Oe.farmersAPI.deleteFarmer(e.id),p(t=>t.filter(t=>t.id!==e.id))):"employee"===t?(await Oe.employeesAPI.deleteEmployee(e.id),g(t=>t.filter(t=>t.id!==e.id))):"registration"===t?(await Oe.superAdminAPI.deleteUser(e.id),x(t=>t.filter(t=>t.id!==e.id))):"fpo"===t&&(await Oe.fpoAPI.deleteFPO(e.id),y(t=>t.filter(t=>t.id!==e.id))),alert("".concat(t," deleted successfully!"))}catch(w){console.error("Error deleting item:",w),alert("Failed to delete item")}finally{ae(!1),ie(null)}},title:"Delete ".concat(null===ne||void 0===ne?void 0:ne.type),message:"Are you sure you want to delete this ".concat(null===ne||void 0===ne?void 0:ne.type,"?")}),(0,Fe.jsx)("input",{type:"file",ref:R,onChange:e=>{console.log("Photo upload triggered:",e);const t=e.target.files[0];if(console.log("Selected file:",t),t){if(!t.type.startsWith("image/"))return void alert("Please select an image file.");if(t.size>5242880)return void alert("Image size should be less than 5MB.");console.log("File validation passed, reading file...");const e=new FileReader;e.onload=e=>{const t=e.target.result;console.log("Photo data loaded:",t.substring(0,50)+"..."),O(t),localStorage.setItem("userProfilePhoto",t),console.log("Photo saved to localStorage and state")},e.onerror=e=>{console.error("Error reading file:",e),alert("Error reading the file. Please try again.")},e.readAsDataURL(t)}else console.log("No file selected")},accept:"image/*",style:{display:"none"}})]})},fa=e=>{let{userId:s,userType:a}=e;const[n,i]=(0,t.useState)([]),[r,l]=(0,t.useState)(!0),[o,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[h,m]=(0,t.useState)(!1);(0,t.useEffect)(()=>{s&&p()},[s]);const p=async()=>{try{l(!0);let e=s;if("EMPLOYEE"===a)try{const t=await Oe.employeeAPI.getProfile();null!==t&&void 0!==t&&t.id&&(e=t.id)}catch(Qh){console.warn("Failed to resolve employee profile id, falling back to userId",Qh)}const t=await Oe.idCardAPI.getMyIdCards(String(e));if(t&&(t.cardId||t.pngUrl||t.pdfUrl))return void i([t]);const n=Array.isArray(t)?t:(null===t||void 0===t?void 0:t.content)||(null===t||void 0===t?void 0:t.items)||(null===t||void 0===t?void 0:t.data)||[],r=Array.isArray(n)?n:[];let o=r.filter(t=>String(t.holderId)===String(e));if((!o||0===o.length)&&a){const e=["EMPLOYEE","EMP","EMPLOYEE_CARD","FARMER","FAM","FARMER_CARD"],t="EMPLOYEE"===a;o=r.filter(s=>{const a=String(s.cardType||"").toUpperCase();return t?e.includes(a)&&a.includes("EMP"):e.includes(a)&&a.includes("FARM")})}if((!o||0===o.length)&&"EMPLOYEE"===a)try{if(String(e)!==String(s)){const e=await Oe.idCardAPI.getIdCardsByHolder(String(s)),t=Array.isArray(e)?e:(null===e||void 0===e?void 0:e.content)||(null===e||void 0===e?void 0:e.items)||(null===e||void 0===e?void 0:e.data)||[],a=Array.isArray(t)?t:[];o=a.filter(e=>String(e.holderId)===String(s))}}catch(Qh){}(!o||0===o.length)&&r.length>0&&(o=r),i(o||[])}catch(e){c("Failed to load ID cards"),console.error("Error fetching ID cards:",e)}finally{l(!1)}};if(r)return(0,Fe.jsx)("div",{className:"my-id-card",children:(0,Fe.jsx)("div",{className:"loading",children:"Loading your ID cards..."})});if(o)return(0,Fe.jsx)("div",{className:"my-id-card",children:(0,Fe.jsx)("div",{className:"error",children:o})});if(0===n.length){const e=async()=>{try{let e=s;if("EMPLOYEE"===a)try{const t=await Oe.employeeAPI.getProfile();null!==t&&void 0!==t&&t.id&&(e=t.id)}catch(n){}await Oe.idCardAPI.generateMyEmployeeIdCard(String(e)),setTimeout(p,500),alert("Requested ID card generation. If permitted, it will appear shortly.")}catch(Qh){var e,t;console.error("ID card generate failed:",Qh),alert((null===Qh||void 0===Qh||null===(e=Qh.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Unable to generate ID card. Please contact admin.")}};return(0,Fe.jsx)("div",{className:"my-id-card",children:(0,Fe.jsxs)("div",{className:"no-id-cards",children:[(0,Fe.jsx)("div",{className:"no-id-cards-icon",children:"\ud83c\udd94"}),(0,Fe.jsx)("h3",{children:"No ID Card Found"}),(0,Fe.jsx)("p",{children:"Your ID card will be generated automatically after your registration is approved."}),(0,Fe.jsx)("p",{children:"Please contact your administrator if you believe this is an error."}),(0,Fe.jsx)("div",{style:{marginTop:12},children:(0,Fe.jsx)("button",{className:"action-btn",onClick:e,children:"Generate my ID card"})})]})})}return(0,Fe.jsxs)("div",{className:"my-id-card",children:[(0,Fe.jsxs)("div",{className:"id-card-header",children:[(0,Fe.jsx)("h2",{children:"My ID Card"}),(0,Fe.jsx)("p",{children:"View and download your digital ID card"})]}),(0,Fe.jsxs)("div",{className:"id-cards-list",children:[(0,Fe.jsx)("div",{style:{marginBottom:12},children:(0,Fe.jsxs)("label",{className:"action-btn",style:{cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"file",accept:"image/png,image/jpeg",style:{display:"none"},onChange:async e=>{try{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;if(!/image\/(png|jpeg|jpg)/.test(n.type))return void alert("Please select a JPG or PNG image.");if(n.size>5242880)return void alert("File too large. Max 5 MB.");if(m(!0),"EMPLOYEE"===a){let e=s;try{const t=await Oe.employeeAPI.getProfile();null!==t&&void 0!==t&&t.id&&(e=t.id)}catch(r){}await Oe.employeeSelfAPI.uploadPhoto(e,n)}else"FARMER"===a&&await Oe.farmersAPI.uploadPhoto(s,n);setTimeout(p,300),alert("Photo updated successfully.")}catch(l){var n,i;console.error("Photo upload failed:",l),alert((null===(n=l.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Failed to upload photo.")}finally{m(!1),e.target.value=""}},disabled:h}),h?"Uploading...":"Change Photo"]})}),n.map(e=>{return(0,Fe.jsxs)("div",{className:"id-card-item",children:[(0,Fe.jsxs)("div",{className:"card-main",children:[(0,Fe.jsxs)("div",{className:"card-info",children:[(0,Fe.jsxs)("div",{className:"card-id",children:[(0,Fe.jsx)("h3",{children:e.cardId}),(t=e.status,(0,Fe.jsx)("span",{className:"status-badge ".concat({ACTIVE:"status-active",EXPIRED:"status-expired",REVOKED:"status-revoked"}[t]||"status-unknown"),children:t}))]}),(0,Fe.jsxs)("div",{className:"card-details",children:[e.cardType&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Type:"})," ",e.cardType]}),e.generatedAt&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Generated:"})," ",new Date(e.generatedAt).toLocaleDateString()]}),e.expiresAt&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Expires:"})," ",new Date(e.expiresAt).toLocaleDateString()]}),(e.village||e.district||e.state)&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Location:"})," ",e.village||"",e.village&&(e.district||e.state)?", ":"",e.district||"",e.district&&e.state?", ":"",e.state||""]})]})]}),(0,Fe.jsxs)("div",{className:"card-actions",children:[(0,Fe.jsxs)("button",{onClick:()=>{return t=e.cardId,void u(t);var t},className:"action-btn view",children:[(0,Fe.jsx)("span",{children:"\ud83d\udc41\ufe0f"})," View"]}),(0,Fe.jsxs)("button",{onClick:()=>(async e=>{try{const t=await Oe.idCardAPI.downloadIdCardPdf(e),s=new Blob([t],{type:"application/pdf"}),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download="my_idcard_".concat(e,".pdf"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}catch(t){console.error("Error downloading PDF:",t),alert("Failed to download PDF")}})(e.cardId),className:"action-btn download pdf",children:[(0,Fe.jsx)("span",{children:"\ud83d\udcc4"})," PDF"]}),(0,Fe.jsxs)("button",{onClick:()=>(async e=>{try{const t=await Oe.idCardAPI.downloadIdCardPng(e),s=new Blob([t],{type:"image/png"}),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download="my_idcard_".concat(e,".png"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}catch(t){console.error("Error downloading PNG:",t),alert("Failed to download PNG")}})(e.cardId),className:"action-btn download png",children:[(0,Fe.jsx)("span",{children:"\ud83d\uddbc\ufe0f"})," PNG"]})]})]}),"EXPIRED"===e.status&&(0,Fe.jsxs)("div",{className:"expired-notice",children:[(0,Fe.jsx)("span",{children:"\u26a0\ufe0f"})," This ID card has expired. Please contact your administrator for renewal."]}),"REVOKED"===e.status&&(0,Fe.jsxs)("div",{className:"revoked-notice",children:[(0,Fe.jsx)("span",{children:"\ud83d\udeab"})," This ID card has been revoked. Please contact your administrator for assistance."]})]},e.id);var t})]}),d&&(0,Fe.jsx)("div",{style:{marginTop:16},children:(0,Fe.jsx)(Be,{cardId:d,onClose:()=>u(null),inlineMode:!0})})]})},ga=e=>{var s;let{farmer:a,onClose:n,onApprove:i,onReject:r,onReferBack:l}=e;const[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)((null===a||void 0===a?void 0:a.aadharNumber)||""),[p,f]=(0,t.useState)((null===a||void 0===a?void 0:a.panNumber)||"");return a?(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal-content kyc-modal",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h2",{children:["KYC Review - ",a.name]}),(0,Fe.jsx)("button",{className:"modal-close",onClick:n,children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsxs)("div",{className:"farmer-info",children:[(0,Fe.jsx)("h3",{children:"Farmer Information"}),(0,Fe.jsxs)("div",{className:"info-grid",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Name:"}),(0,Fe.jsx)("span",{children:a.name})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Phone:"}),(0,Fe.jsx)("span",{children:a.phone})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Location:"}),(0,Fe.jsx)("span",{children:a.location})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Current Status:"}),(0,Fe.jsx)("span",{className:"status-badge status-".concat(null===(s=a.kycStatus)||void 0===s?void 0:s.toLowerCase()),children:a.kycStatus})]})]})]}),(0,Fe.jsxs)("div",{className:"document-info",children:[(0,Fe.jsx)("h3",{children:"Required Documents"}),(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Aadhar Number:"}),(0,Fe.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Enter 12-digit Aadhar number",maxLength:"12",className:h.length>0&&12!==h.length?"error":""}),h.length>0&&12!==h.length&&(0,Fe.jsx)("span",{className:"error-text",children:"Aadhar number must be 12 digits"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"PAN Number:"}),(0,Fe.jsx)("input",{type:"text",value:p,onChange:e=>f(e.target.value.toUpperCase()),placeholder:"Enter PAN number (e.g., ABCDE1234F)",maxLength:"10",className:p.length>0&&10!==p.length?"error":""}),p.length>0&&10!==p.length&&(0,Fe.jsx)("span",{className:"error-text",children:"PAN number must be 10 characters"})]})]}),(!h.trim()||!p.trim())&&(0,Fe.jsx)("div",{className:"document-warning",children:"\u26a0\ufe0f Both Aadhar Number and PAN Number are required for KYC approval"})]}),(0,Fe.jsxs)("div",{className:"kyc-actions",children:[(0,Fe.jsx)("h3",{children:"KYC Action"}),(0,Fe.jsxs)("div",{className:"action-buttons",children:[(0,Fe.jsx)("button",{className:"action-btn ".concat("approve"===d?"active":""),onClick:()=>u("approve"),disabled:!h.trim()||!p.trim()||12!==h.length||10!==p.length,title:h.trim()&&p.trim()&&12===h.length&&10===p.length?"":"Both Aadhar and PAN numbers must be filled correctly for approval",children:"\u2705 Approve"}),(0,Fe.jsx)("button",{className:"action-btn ".concat("refer-back"===d?"active":""),onClick:()=>u("refer-back"),children:"\ud83d\udcdd Refer Back"}),(0,Fe.jsx)("button",{className:"action-btn ".concat("reject"===d?"active":""),onClick:()=>u("reject"),children:"\u274c Reject"})]}),("reject"===d||"refer-back"===d)&&(0,Fe.jsxs)("div",{className:"reason-section",children:[(0,Fe.jsx)("label",{htmlFor:"reason",children:"Reason:"}),(0,Fe.jsx)("textarea",{id:"reason",value:o,onChange:e=>c(e.target.value),placeholder:"Enter reason for ".concat("reject"===d?"rejection":"refer back","..."),rows:"4",className:"reason-textarea"})]})]})]}),(0,Fe.jsxs)("div",{className:"modal-footer",children:[(0,Fe.jsx)("button",{className:"action-btn secondary",onClick:n,children:"Cancel"}),(0,Fe.jsx)("button",{className:"action-btn primary",onClick:()=>{if(d)if("approve"!==d||h.trim()&&p.trim())if("reject"!==d&&"refer-back"!==d||o.trim()){switch(d){case"approve":i(a.id,{aadharNumber:h,panNumber:p});break;case"reject":r(a.id,o);break;case"refer-back":l(a.id,o)}n()}else alert("Please provide a reason");else alert("Please fill both Aadhar Number and PAN Number before approving");else alert("Please select an action")},disabled:!d||("reject"===d||"refer-back"===d)&&!o.trim()||"approve"===d&&(!h.trim()||!p.trim()||12!==h.length||10!==p.length),children:"Submit Action"})]})]})}):null},va=()=>{var e;const{user:s,logout:a}=_e(),[n,i]=(0,t.useState)("overview"),[r,l]=(0,t.useState)(null),[o,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(""),[p,f]=(0,t.useState)([]),[g,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[y,j]=(0,t.useState)(null),[N,w]=(0,t.useState)(!1),[S,k]=(0,t.useState)(null),[C,A]=(0,t.useState)(!1),[E,P]=(0,t.useState)(null),[I,F]=(0,t.useState)(null),[D,_]=(0,t.useState)(null),[T,O]=(0,t.useState)(null),[R,M]=(0,t.useState)(!1),[L,U]=(0,t.useState)(!1),[B,z]=(0,t.useState)([]),[V,Y]=(0,t.useState)(!1),[q,W]=(0,t.useState)(!1),[H,K]=(0,t.useState)(null),[$,G]=(0,t.useState)(null),[J,Q]=(0,t.useState)(!1),[X,Z]=(0,t.useState)(null),[ee,te]=(0,t.useState)(!1),[se,ae]=(0,t.useState)(null),[ne,ie]=(0,t.useState)(!1),[re,le]=(0,t.useState)(null),[oe,ce]=(0,t.useState)(!1),[de,ue]=(0,t.useState)(null),[he,me]=(0,t.useState)(!1),[pe,fe]=(0,t.useState)(null),[ge,ve]=(0,t.useState)(!1),[xe,be]=(0,t.useState)(null),[ye,je]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{const e=await Oe.employeeAPI.getProfile();e&&e.id&&l(e.id),e&&c(e),null!==e&&void 0!==e&&e.photoFileName&&u(e.photoFileName)}catch(Qh){}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{if(!r)return;const t=await Oe.idCardAPI.getIdCardsByHolder(String(r));if(Array.isArray(t)&&t.length>0){const s=t.find(e=>"ACTIVE"===e.status)||t[0];if(null!==s&&void 0!==s&&s.cardId&&m(s.cardId),!d&&null!==s&&void 0!==s&&s.photoFileName){u(s.photoFileName);try{localStorage.setItem("employeePhotoFileName",s.photoFileName)}catch(e){}}}}catch(Qh){}})()},[r]);const[Ne,we]=(0,t.useState)(null),[Se,ke]=(0,t.useState)(!1),[Ce,Ae]=(0,t.useState)(null),[Ee,Pe]=(0,t.useState)(!1),[Ie,De]=(0,t.useState)(null),[Te,Re]=(0,t.useState)(null),[Me,Le]=(0,t.useState)("overview"),[Be,ze]=(0,t.useState)({state:"",district:"",status:"",registrationType:""}),Ve=[{title:"\ud83c\udf1e Good Morning!",subtitle:"Wishing you a bright and productive day ahead filled with positivity."},{title:"\ud83c\udf38 Hello & Warm Greetings!",subtitle:"May your day be filled with joy, success, and wonderful moments."},{title:"\ud83d\ude4c Hi There!",subtitle:"Hope you are doing well and everything is going smoothly on your end."},{title:"\ud83c\udf1f Season Greetings!",subtitle:"Sending best wishes for peace, happiness, and good health."},{title:"\ud83e\udd1d Greetings of the Day!",subtitle:"May this day bring you opportunities, growth, and good fortune."}],[Ye,qe]=(0,t.useState)(Ve[0]);(0,t.useEffect)(()=>{const e=Math.floor(Math.random()*Ve.length);qe(Ve[e])},[]);const[We,He]=(0,t.useState)({kycStatus:"",assignedDate:""}),[Ke,$e]=(0,t.useState)("all");(0,t.useEffect)(()=>{Ge(),Je()},[]);const Ge=async()=>{try{if(console.log("\ud83d\udd04 Fetching assigned farmers for employee..."),console.log("\ud83d\udc64 Current user:",s),!s)return console.error("\u274c No user available"),void f([]);const e=await Oe.employeeAPI.getAssignedFarmers();if(console.log("\u2705 API Response:",e),e&&Array.isArray(e)){const t=e.map(e=>({id:e.id,name:e.name,phone:e.contactNumber,state:e.state,district:e.district,location:"".concat(e.district,", ").concat(e.state),kycStatus:e.kycStatus||"PENDING",assignedDate:e.assignedDate||e.kycSubmittedDate||(new Date).toISOString().split("T")[0],lastAction:e.kycReviewedDate||e.kycSubmittedDate||(new Date).toISOString().split("T")[0],notes:"KYC Status: ".concat(e.kycStatus||"PENDING"),assignedEmployee:s.name||"Employee"}));f(t),console.log("\u2705 Assigned farmers loaded from API:",t.length)}else console.log("\u26a0\ufe0f No API data available"),f([])}catch(e){console.error("\u274c Error fetching assigned farmers:",e),f([])}},Je=async()=>{try{console.log("\ud83d\udd04 Employee Dashboard - Loading FPOs...");const e=await Oe.fpoAPI.getAllFPOs();console.log("\ud83d\udcca Employee Dashboard - FPO API response:",e);const t=Array.isArray(e)?e:(null===e||void 0===e?void 0:e.content)||(null===e||void 0===e?void 0:e.items)||(null===e||void 0===e?void 0:e.data)||[];z(t||[]),console.log("\ud83d\udcca Employee Dashboard - Processed FPOs:",(null===t||void 0===t?void 0:t.length)||0,"records")}catch(t){var e;console.error("\u274c Employee Dashboard - Error loading FPOs:",t),console.error("\u274c Error details:",t.message),console.error("\u274c Error response:",null===(e=t.response)||void 0===e?void 0:e.data),z([])}},Qe=async e=>{try{const t=await Oe.fpoAPI.createFPO(e);z(e=>[...e,t]),G({type:"success",message:"FPO created successfully"}),setTimeout(()=>G(null),2e3)}catch(a){var t,s;console.error("Employee Dashboard - Failed to create FPO:",a);const e=(null===a||void 0===a||null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Failed to create FPO";G({type:"error",message:e}),setTimeout(()=>G(null),2500)}finally{Y(!1)}},Xe=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),0,1),n=p.filter(e=>((e,n)=>{if(!e)return!1;const i=new Date(e);switch(n){case"today":return i>=t;case"month":return i>=s;case"year":return i>=a;default:return!0}})(e.assignedDate||e.createdAt||e.created_at||e.registrationDate,Ke));return{totalAssigned:"all"===Ke?p.length:n.length,approved:n.filter(e=>"APPROVED"===e.kycStatus).length,pending:n.filter(e=>"PENDING"===e.kycStatus).length,referBack:n.filter(e=>"REFER_BACK"===e.kycStatus).length,rejected:n.filter(e=>"REJECTED"===e.kycStatus).length,timeFilter:Ke}},Ze=()=>({newAssignments:p.filter(e=>{if(!e.assignedDate)return!1;const t=new Date(e.assignedDate);return(new Date-t)/864e5<=3&&"PENDING"===e.kycStatus}),pendingReviews:p.filter(e=>"PENDING"===e.kycStatus),referBackCases:p.filter(e=>"REFER_BACK"===e.kycStatus)}),et=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{console.log("\ud83d\udd04 Updating KYC status for farmer ".concat(e," to ").concat(t));const i=(0,Ue.A)({reason:a,updatedBy:(null===s||void 0===s?void 0:s.name)||"Employee",updatedAt:(new Date).toISOString()},n&&{aadharNumber:n.aadharNumber,panNumber:n.panNumber});let r;switch(console.log("\ud83d\udccb Approval data:",i),t){case"APPROVED":default:r=await Oe.kycAPI.approveKYC(e,i);break;case"REJECTED":r=await Oe.kycAPI.rejectKYC(e,i);break;case"REFER_BACK":r=await Oe.kycAPI.referBackKYC(e,i)}console.log("\u2705 KYC API response:",r),f(i=>i.map(i=>i.id===e?(0,Ue.A)((0,Ue.A)({},i),{},{kycStatus:t,lastAction:(new Date).toISOString().split("T")[0],notes:a||"Status updated to ".concat(t," by ").concat((null===s||void 0===s?void 0:s.name)||"Employee")},n&&{aadharNumber:n.aadharNumber,panNumber:n.panNumber}):i)),alert("KYC status updated to ".concat(t," successfully!")),window.dispatchEvent(new CustomEvent("kycStatusUpdated",{detail:{farmerId:e,newStatus:t,reason:a,documents:n}}))}catch(r){var i;console.error("\u274c Error updating KYC status:",r),alert("Failed to update KYC status: ".concat((null===(i=r.response)||void 0===i?void 0:i.data)||r.message))}},tt={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||Oe.default.defaults.baseURL||"http://localhost:8080/api";return(0,Fe.jsxs)("div",{className:"dashboard",children:[(0,Fe.jsx)("div",{className:"top-bar"}),(0,Fe.jsxs)("div",{className:"dashboard-header",children:[(0,Fe.jsx)("div",{className:"header-left",children:(0,Fe.jsxs)("div",{className:"logo-section",children:[(0,Fe.jsx)("h1",{className:"logo-title",children:"DATE"}),(0,Fe.jsx)("p",{className:"logo-subtitle",children:"Digital Agristack"})]})}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,Fe.jsxs)("button",{style:{background:"linear-gradient(135deg, #15803d 0%, #22c55e 100%)",color:"white",padding:"12px 18px",border:"none",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"14px",fontWeight:"700",fontSize:"15px"},onClick:()=>{const e=document.getElementById("simple-dropdown");e.style.display="block"===e.style.display?"none":"block"},children:[(0,Fe.jsx)("div",{style:{width:"44px",height:"44px",borderRadius:"50%",overflow:"hidden",border:"2px solid rgba(255, 255, 255, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.2)"},children:(e=>{let t=d;try{if(!t&&"undefined"!==typeof window){t=JSON.parse(localStorage.getItem("employeeProfile")||"{}").photoFileName||localStorage.getItem("employeePhotoFileName")||(null===s||void 0===s?void 0:s.photoFileName)}}catch(a){t=d||(null===s||void 0===s?void 0:s.photoFileName)}return t?(0,Fe.jsx)("img",{src:"http://localhost:8080/uploads/photos/".concat(t),alt:"avatar",style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.currentTarget.style.display="none"}}):(0,Fe.jsx)("span",{style:{fontWeight:700,fontSize:18,color:"white"},children:(null===s||void 0===s||null===(e=s.name)||void 0===e?void 0:e.charAt(0))||"U"})})()}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,Fe.jsx)("span",{style:{fontSize:16},children:(null===s||void 0===s?void 0:s.name)||"User"}),(()=>{try{const e=localStorage.getItem("employeeUniqueIds"),t=(e?JSON.parse(e)[String(r)]:null)||h;return t?(0,Fe.jsxs)("span",{style:{fontSize:"13px",fontWeight:600,opacity:.95},children:["ID: ",t]}):null}catch(e){return h?(0,Fe.jsxs)("span",{style:{fontSize:"13px",fontWeight:600,opacity:.95},children:["ID: ",h]}):null}})()]}),(0,Fe.jsx)("i",{className:"fas fa-chevron-down"})]}),(0,Fe.jsxs)("div",{id:"simple-dropdown",style:{position:"absolute",top:"100%",right:"0",width:"280px",background:"white",border:"2px solid #15803d",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",zIndex:"9999",marginTop:"8px",display:"none"},children:[(0,Fe.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",borderBottom:"1px solid #e5e7eb"},children:[(0,Fe.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#15803d",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:"white"},children:(null===s||void 0===s||null===(e=s.name)||void 0===e?void 0:e.charAt(0))||"U"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{style:{fontWeight:"bold",fontSize:"16px",color:"#1f2937"},children:(null===s||void 0===s?void 0:s.name)||"User"}),(0,Fe.jsx)("div",{style:{fontSize:"14px",color:"#6b7280"},children:(null===s||void 0===s?void 0:s.email)||"user@example.com"})]})]}),(0,Fe.jsxs)("div",{style:{padding:"16px",display:"flex",flexDirection:"column",gap:"8px"},children:[(0,Fe.jsxs)("button",{onClick:()=>{window.location.href="/change-password-dashboard"},style:{background:"#f8fafc",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",color:"#374151"},children:[(0,Fe.jsx)("i",{className:"fas fa-key",style:{color:"#15803d"}}),"Change Password"]}),(0,Fe.jsxs)("button",{onClick:()=>{a(),window.location.href="/login"},style:{background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",padding:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",color:"#dc2626"},children:[(0,Fe.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]})]})})]}),(0,Fe.jsxs)("div",{className:"dashboard-sidebar",children:[(0,Fe.jsxs)("div",{className:"sidebar-header",children:[(0,Fe.jsx)("h2",{className:"sidebar-welcome",children:"Welcome!!!"}),(0,Fe.jsx)("p",{className:"sidebar-role",children:"EMPLOYEE"})]}),(0,Fe.jsxs)("div",{className:"sidebar-nav",children:[(0,Fe.jsxs)("div",{className:"nav-item ".concat("overview"===n?"active":""),onClick:()=>i("overview"),children:[(0,Fe.jsx)("i",{className:"fas fa-tachometer-alt"}),(0,Fe.jsx)("span",{children:"Dashboard Overview"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("farmers"===n?"active":""),onClick:()=>i("farmers"),children:[(0,Fe.jsx)("i",{className:"fas fa-users"}),(0,Fe.jsx)("span",{children:"Assigned Farmers"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("progress"===n?"active":""),onClick:()=>i("progress"),children:[(0,Fe.jsx)("i",{className:"fas fa-chart-line"}),(0,Fe.jsx)("span",{children:"KYC Progress"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("fpo"===n?"active":""),onClick:()=>i("fpo"),children:[(0,Fe.jsx)("i",{className:"fas fa-building"}),(0,Fe.jsx)("span",{children:"FPO"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("profile"===n?"active":""),onClick:()=>i("profile"),children:[(0,Fe.jsx)("i",{className:"fas fa-user"}),(0,Fe.jsx)("span",{children:"My Profile"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("id-card"===n?"active":""),onClick:()=>i("id-card"),children:[(0,Fe.jsx)("i",{className:"fas fa-id-card"}),(0,Fe.jsx)("span",{children:"My ID Card"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("todo"===n?"active":""),onClick:()=>i("todo"),children:[(0,Fe.jsx)("i",{className:"fas fa-tasks"}),(0,Fe.jsx)("span",{children:"To-Do List"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("kyc-summary"===n?"active":""),onClick:()=>i("kyc-summary"),children:[(0,Fe.jsx)("i",{className:"fas fa-clipboard-check"}),(0,Fe.jsx)("span",{children:"KYC Summary"})]})]})]}),(0,Fe.jsx)("div",{className:"dashboard-main",children:(0,Fe.jsxs)("div",{className:"dashboard-content",children:["overview"===n&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"greeting-banner",children:[(0,Fe.jsxs)("div",{className:"greeting-left",children:[(0,Fe.jsx)("div",{className:"greeting-title",children:Ye.title}),(0,Fe.jsx)("div",{className:"greeting-subtitle",children:Ye.subtitle})]}),(0,Fe.jsx)("div",{className:"greeting-right",children:(0,Fe.jsx)("span",{className:"greeting-date",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]}),(0,Fe.jsxs)("div",{className:"welcome-section",children:[(0,Fe.jsx)("h1",{className:"welcome-title",children:"Welcome to DATE Digital Agristack!"}),(0,Fe.jsx)("p",{className:"welcome-subtitle",children:"Empowering your agricultural journey with data-driven insights and seamless management. Explore your dashboard below."})]}),(()=>{const e=Xe(),t=Ze();return(0,Fe.jsxs)("div",{className:"employee-overview-section",children:[(0,Fe.jsxs)("div",{className:"employee-overview-header",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h2",{className:"employee-overview-title",children:"Employee Dashboard Overview"}),(0,Fe.jsx)("p",{className:"employee-overview-description",children:"Manage your assigned farmers and KYC verification tasks efficiently."})]}),(0,Fe.jsxs)("div",{className:"overview-actions",children:[(0,Fe.jsxs)("button",{className:"action-btn refresh ".concat("all"===Ke?"active":""),onClick:()=>{console.log("\ud83d\udd04 Refresh clicked - showing all data"),$e("all"),Je()},children:[(0,Fe.jsx)("i",{className:"fas fa-sync-alt"}),"Refresh"]}),(0,Fe.jsx)("button",{className:"action-btn today ".concat("today"===Ke?"active":""),onClick:()=>{console.log("\ud83d\udcc5 Today filter clicked"),$e("today")},children:"Today"}),(0,Fe.jsx)("button",{className:"action-btn month ".concat("month"===Ke?"active":""),onClick:()=>{console.log("\ud83d\udcc5 This Month filter clicked"),$e("month")},children:"This Month"}),(0,Fe.jsx)("button",{className:"action-btn year ".concat("year"===Ke?"active":""),onClick:()=>{console.log("\ud83d\udcc5 This Year filter clicked"),$e("year")},children:"This Year"})]})]}),(0,Fe.jsxs)("div",{className:"stats-grid",children:[(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon farmers",children:(0,Fe.jsx)("i",{className:"fas fa-users"})}),(0,Fe.jsx)("div",{className:"stats-title",children:"TOTAL ASSIGNED"}),(0,Fe.jsx)("div",{className:"stats-value",children:e.totalAssigned}),(0,Fe.jsxs)("div",{className:"stats-change neutral",children:[(0,Fe.jsx)("i",{className:"fas fa-minus"}),"+0.0%"]}),"all"!==Ke&&(0,Fe.jsxs)("div",{className:"stats-period-indicator",children:["today"===Ke&&"\ud83d\udcc5 Today","month"===Ke&&"\ud83d\udcc5 This Month","year"===Ke&&"\ud83d\udcc5 This Year"]})]}),(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon employees",children:(0,Fe.jsx)("i",{className:"fas fa-check-circle"})}),(0,Fe.jsx)("div",{className:"stats-title",children:"APPROVED"}),(0,Fe.jsx)("div",{className:"stats-value",children:e.approved}),(0,Fe.jsxs)("div",{className:"stats-change positive",children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-up"}),"+12.4%"]}),"all"!==Ke&&(0,Fe.jsxs)("div",{className:"stats-period-indicator",children:["today"===Ke&&"\ud83d\udcc5 Today","month"===Ke&&"\ud83d\udcc5 This Month","year"===Ke&&"\ud83d\udcc5 This Year"]})]}),(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon fpo",children:(0,Fe.jsx)("i",{className:"fas fa-clock"})}),(0,Fe.jsx)("div",{className:"stats-title",children:"PENDING"}),(0,Fe.jsx)("div",{className:"stats-value",children:e.pending}),(0,Fe.jsxs)("div",{className:"stats-change negative",children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-down"}),"-3.0%"]}),"all"!==Ke&&(0,Fe.jsxs)("div",{className:"stats-period-indicator",children:["today"===Ke&&"\ud83d\udcc5 Today","month"===Ke&&"\ud83d\udcc5 This Month","year"===Ke&&"\ud83d\udcc5 This Year"]})]}),(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon fpo",children:(0,Fe.jsx)("i",{className:"fas fa-building"})}),(0,Fe.jsx)("div",{className:"stats-title",children:"FPO"}),(0,Fe.jsx)("div",{className:"stats-value",children:B.length}),(0,Fe.jsxs)("div",{className:"stats-change neutral",children:[(0,Fe.jsx)("i",{className:"fas fa-minus"}),"+0.0%"]}),"all"!==Ke&&(0,Fe.jsxs)("div",{className:"stats-period-indicator",children:["today"===Ke&&"\ud83d\udcc5 Today","month"===Ke&&"\ud83d\udcc5 This Month","year"===Ke&&"\ud83d\udcc5 This Year"]})]})]}),(0,Fe.jsxs)("div",{className:"kyc-progress-section-modern",children:[(0,Fe.jsxs)("div",{className:"section-header-modern",children:[(0,Fe.jsxs)("h3",{className:"section-title-modern",children:[(0,Fe.jsx)("i",{className:"fas fa-chart-pie"}),"KYC Progress Summary"]}),(0,Fe.jsx)("p",{className:"section-subtitle-modern",children:"Track your KYC verification progress"})]}),(0,Fe.jsxs)("div",{className:"kyc-progress-grid-modern",style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginTop:"20px"},children:[(0,Fe.jsxs)("div",{className:"progress-card-modern approved",style:{background:"linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)",border:"2px solid #22c55e",borderRadius:"12px",padding:"16px",boxShadow:"0 4px 12px rgba(34, 197, 94, 0.15)",transition:"all 0.3s ease",position:"relative",overflow:"hidden",textAlign:"center"},children:[(0,Fe.jsx)("div",{className:"progress-icon-modern",style:{background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",width:"36px",height:"36px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px auto",boxShadow:"0 2px 8px rgba(34, 197, 94, 0.3)"},children:(0,Fe.jsx)("i",{className:"fas fa-check",style:{color:"white",fontSize:"16px"}})}),(0,Fe.jsx)("div",{className:"progress-number-modern",style:{fontSize:"24px",fontWeight:"700",color:"#15803d",marginBottom:"4px"},children:e.approved}),(0,Fe.jsx)("div",{className:"progress-label-modern",style:{fontSize:"12px",fontWeight:"600",color:"#16a34a",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Approved"})]}),(0,Fe.jsxs)("div",{className:"progress-card-modern pending",style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"2px solid #f59e0b",borderRadius:"12px",padding:"16px",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.15)",transition:"all 0.3s ease",position:"relative",overflow:"hidden",textAlign:"center"},children:[(0,Fe.jsx)("div",{className:"progress-icon-modern",style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",width:"36px",height:"36px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px auto",boxShadow:"0 2px 8px rgba(245, 158, 11, 0.3)"},children:(0,Fe.jsx)("i",{className:"fas fa-clock",style:{color:"white",fontSize:"16px"}})}),(0,Fe.jsx)("div",{className:"progress-number-modern",style:{fontSize:"24px",fontWeight:"700",color:"#d97706",marginBottom:"4px"},children:e.pending}),(0,Fe.jsx)("div",{className:"progress-label-modern",style:{fontSize:"12px",fontWeight:"600",color:"#f59e0b",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Pending"})]}),(0,Fe.jsxs)("div",{className:"progress-card-modern refer-back",style:{background:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",border:"2px solid #ef4444",borderRadius:"12px",padding:"16px",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.15)",transition:"all 0.3s ease",position:"relative",overflow:"hidden",textAlign:"center"},children:[(0,Fe.jsx)("div",{className:"progress-icon-modern",style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",width:"36px",height:"36px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px auto",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.3)"},children:(0,Fe.jsx)("i",{className:"fas fa-undo",style:{color:"white",fontSize:"16px"}})}),(0,Fe.jsx)("div",{className:"progress-number-modern",style:{fontSize:"24px",fontWeight:"700",color:"#dc2626",marginBottom:"4px"},children:e.referBack}),(0,Fe.jsx)("div",{className:"progress-label-modern",style:{fontSize:"12px",fontWeight:"600",color:"#ef4444",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Refer Back"})]}),(0,Fe.jsxs)("div",{className:"progress-card-modern rejected",style:{background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",border:"2px solid #6b7280",borderRadius:"12px",padding:"16px",boxShadow:"0 4px 12px rgba(107, 114, 128, 0.15)",transition:"all 0.3s ease",position:"relative",overflow:"hidden",textAlign:"center"},children:[(0,Fe.jsx)("div",{className:"progress-icon-modern",style:{background:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",width:"36px",height:"36px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px auto",boxShadow:"0 2px 8px rgba(107, 114, 128, 0.3)"},children:(0,Fe.jsx)("i",{className:"fas fa-times",style:{color:"white",fontSize:"16px"}})}),(0,Fe.jsx)("div",{className:"progress-number-modern",style:{fontSize:"24px",fontWeight:"700",color:"#4b5563",marginBottom:"4px"},children:e.rejected}),(0,Fe.jsx)("div",{className:"progress-label-modern",style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Rejected"})]})]})]}),(0,Fe.jsx)("div",{className:"bottom-sections",children:(0,Fe.jsxs)("div",{className:"section-card",children:[(0,Fe.jsxs)("div",{className:"employee-section-header",children:[(0,Fe.jsx)("h3",{className:"employee-section-title",children:"Quick Actions"}),(0,Fe.jsx)("p",{className:"employee-section-description",children:"Access frequently used functions to manage farmers and track KYC progress."})]}),(0,Fe.jsxs)("div",{className:"quick-actions-grid",children:[(0,Fe.jsxs)("button",{onClick:()=>{i("farmers"),v(!0),console.log("\ud83d\udd04 Add New Farmer button clicked - switching to farmers tab and opening form")},style:{background:"linear-gradient(135deg, #15803d 0%, #22c55e 100%)",color:"white",border:"none",borderRadius:"12px",padding:"16px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(21, 128, 61, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)",position:"relative",zIndex:9999,pointerEvents:"auto",minWidth:"160px",justifyContent:"center"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #16a34a 0%, #22c55e 100%)",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(21, 128, 61, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #15803d 0%, #22c55e 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(21, 128, 61, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-user-plus"}),(0,Fe.jsx)("span",{children:"Add New Farmer"})]}),(0,Fe.jsxs)("button",{className:"quick-action-btn secondary",onClick:()=>i("farmers"),children:[(0,Fe.jsx)("i",{className:"fas fa-users"}),(0,Fe.jsx)("span",{children:"View Assigned Farmers"})]}),(0,Fe.jsxs)("button",{className:"quick-action-btn info",onClick:()=>i("progress"),children:[(0,Fe.jsx)("i",{className:"fas fa-chart-line"}),(0,Fe.jsx)("span",{children:"KYC Progress"})]})]})]})}),(0,Fe.jsxs)("div",{className:"todo-section-modern",children:[(0,Fe.jsxs)("div",{className:"section-header-modern",children:[(0,Fe.jsxs)("h3",{className:"section-title-modern",children:[(0,Fe.jsx)("i",{className:"fas fa-tasks"}),"To-Do List"]}),(0,Fe.jsx)("p",{className:"section-subtitle-modern",children:"Manage your daily tasks and priorities"})]}),(0,Fe.jsxs)("div",{className:"todo-grid-modern",children:[(0,Fe.jsxs)("div",{className:"todo-card-modern new-assignments",style:{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",border:"2px solid #3b82f6",borderRadius:"16px",padding:"24px",boxShadow:"0 8px 25px rgba(59, 130, 246, 0.15)",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},children:[(0,Fe.jsx)("div",{className:"todo-icon-modern",style:{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",width:"50px",height:"50px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},children:(0,Fe.jsx)("i",{className:"fas fa-user-plus",style:{color:"white",fontSize:"20px"}})}),(0,Fe.jsx)("h4",{className:"todo-title-modern",style:{fontSize:"18px",fontWeight:"700",color:"#1e40af",marginBottom:"8px"},children:"New Assignments"}),(0,Fe.jsxs)("p",{className:"todo-description-modern",style:{fontSize:"14px",color:"#1e40af",marginBottom:"16px",opacity:"0.8"},children:[t.newAssignments.length," new farmers assigned"]}),(0,Fe.jsx)("button",{onClick:()=>i("farmers"),style:{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"8px",padding:"10px 16px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.25)",width:"100%"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 6px 16px rgba(59, 130, 246, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.25)"},children:"Review New"})]}),(0,Fe.jsxs)("div",{className:"todo-card-modern pending-reviews",style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"2px solid #f59e0b",borderRadius:"16px",padding:"24px",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.15)",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},children:[(0,Fe.jsx)("div",{className:"todo-icon-modern",style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",width:"50px",height:"50px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"},children:(0,Fe.jsx)("i",{className:"fas fa-clock",style:{color:"white",fontSize:"20px"}})}),(0,Fe.jsx)("h4",{className:"todo-title-modern",style:{fontSize:"18px",fontWeight:"700",color:"#d97706",marginBottom:"8px"},children:"Pending Reviews"}),(0,Fe.jsxs)("p",{className:"todo-description-modern",style:{fontSize:"14px",color:"#d97706",marginBottom:"16px",opacity:"0.8"},children:[t.pendingReviews.length," cases pending"]}),(0,Fe.jsx)("button",{onClick:()=>i("farmers"),style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",border:"none",borderRadius:"8px",padding:"10px 16px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.25)",width:"100%"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #d97706 0%, #b45309 100%)",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 6px 16px rgba(245, 158, 11, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(245, 158, 11, 0.25)"},children:"Process Pending"})]}),(0,Fe.jsxs)("div",{className:"todo-card-modern refer-back-cases",style:{background:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",border:"2px solid #ef4444",borderRadius:"16px",padding:"24px",boxShadow:"0 8px 25px rgba(239, 68, 68, 0.15)",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},children:[(0,Fe.jsx)("div",{className:"todo-icon-modern",style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",width:"50px",height:"50px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)"},children:(0,Fe.jsx)("i",{className:"fas fa-exclamation-triangle",style:{color:"white",fontSize:"20px"}})}),(0,Fe.jsx)("h4",{className:"todo-title-modern",style:{fontSize:"18px",fontWeight:"700",color:"#dc2626",marginBottom:"8px"},children:"Refer Back Cases"}),(0,Fe.jsxs)("p",{className:"todo-description-modern",style:{fontSize:"14px",color:"#dc2626",marginBottom:"16px",opacity:"0.8"},children:[t.referBackCases.length," need attention"]}),(0,Fe.jsx)("button",{onClick:()=>i("farmers"),style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"8px",padding:"10px 16px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.25)",width:"100%"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 6px 16px rgba(239, 68, 68, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(239, 68, 68, 0.25)"},children:"Review Refer Back"})]})]})]})]})})()]}),"farmers"===n&&(()=>{const e=p.filter(e=>{const t=!We.kycStatus||e.kycStatus===We.kycStatus,s=!We.assignedDate||e.assignedDate&&e.assignedDate===We.assignedDate;return t&&s});return(0,Fe.jsxs)("div",{className:"employee-overview-section",children:[(0,Fe.jsxs)("div",{className:"employee-overview-header",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h2",{className:"employee-overview-title",children:"Assigned Farmers"}),(0,Fe.jsx)("p",{className:"employee-overview-description",children:"View and manage your assigned farmers with KYC verification tasks."})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("div",{className:"overview-actions",children:(0,Fe.jsxs)("button",{className:"action-btn-modern primary",onClick:()=>v(!0),children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add Farmer"]})})})]}),(0,Fe.jsxs)("div",{className:"section-card",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",border:"2px solid #64748b",boxShadow:"0 10px 25px rgba(100, 116, 139, 0.15)"},children:[(0,Fe.jsxs)("div",{className:"employee-section-header",children:[(0,Fe.jsx)("h3",{className:"employee-section-title",style:{color:"#475569"},children:"Filters & Search"}),(0,Fe.jsx)("p",{className:"employee-section-description",style:{color:"#64748b",marginTop:"8px"},children:"Filter and search through your assigned farmers by KYC status and assignment date."}),(0,Fe.jsx)("div",{className:"section-accent",style:{background:"#64748b"}})]}),(0,Fe.jsxs)("div",{className:"filters-modern",children:[(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"KYC Status"}),(0,Fe.jsxs)("select",{value:We.kycStatus,onChange:e=>He(t=>(0,Ue.A)((0,Ue.A)({},t),{},{kycStatus:e.target.value})),className:"filter-select-modern",children:[(0,Fe.jsx)("option",{value:"",children:"All KYC Status"}),(0,Fe.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Fe.jsx)("option",{value:"REFER_BACK",children:"Refer Back"}),(0,Fe.jsx)("option",{value:"REJECTED",children:"Rejected"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Assignment Date"}),(0,Fe.jsxs)("select",{value:We.assignedDate,onChange:e=>He(t=>(0,Ue.A)((0,Ue.A)({},t),{},{assignedDate:e.target.value})),className:"filter-select-modern",children:[(0,Fe.jsx)("option",{value:"",children:"All Assignment Dates"}),(0,Fe.jsx)("option",{value:"2024-01-15",children:"Jan 15, 2024"}),(0,Fe.jsx)("option",{value:"2024-01-18",children:"Jan 18, 2024"}),(0,Fe.jsx)("option",{value:"2024-01-20",children:"Jan 20, 2024"}),(0,Fe.jsx)("option",{value:"2024-01-25",children:"Jan 25, 2024"})]})]})]})]}),(0,Fe.jsxs)("div",{className:"section-card",style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"2px solid #0ea5e9",boxShadow:"0 10px 25px rgba(14, 165, 233, 0.15)"},children:[(0,Fe.jsxs)("div",{className:"employee-section-header",children:[(0,Fe.jsx)("h3",{className:"employee-section-title",style:{color:"#0369a1"},children:"KYC Status Overview"}),(0,Fe.jsx)("p",{className:"employee-section-description",style:{color:"#0369a1",marginTop:"8px"},children:"View the distribution of KYC status across your assigned farmers."}),(0,Fe.jsx)("div",{className:"section-accent",style:{background:"#0ea5e9"}})]}),(0,Fe.jsxs)("div",{className:"kyc-tabs-modern",children:[(0,Fe.jsxs)("button",{className:"kyc-tab-modern ".concat(""===We.kycStatus?"active":""),onClick:()=>He(e=>(0,Ue.A)((0,Ue.A)({},e),{},{kycStatus:""})),children:[(0,Fe.jsx)("div",{className:"tab-icon-modern",children:(0,Fe.jsx)("i",{className:"fas fa-chart-pie",style:{color:"#64748b"}})}),(0,Fe.jsxs)("div",{className:"tab-content-modern",children:[(0,Fe.jsx)("span",{className:"tab-label-modern",children:"All"}),(0,Fe.jsx)("span",{className:"tab-count-modern",children:e.length})]})]}),(0,Fe.jsxs)("button",{className:"kyc-tab-modern approved ".concat("APPROVED"===We.kycStatus?"active":""),onClick:()=>He(e=>(0,Ue.A)((0,Ue.A)({},e),{},{kycStatus:"APPROVED"})),children:[(0,Fe.jsx)("div",{className:"tab-icon-modern",children:(0,Fe.jsx)("i",{className:"fas fa-check-circle",style:{color:"#15803d"}})}),(0,Fe.jsxs)("div",{className:"tab-content-modern",children:[(0,Fe.jsx)("span",{className:"tab-label-modern",children:"Approved"}),(0,Fe.jsx)("span",{className:"tab-count-modern",children:e.filter(e=>"APPROVED"===e.kycStatus).length})]})]}),(0,Fe.jsxs)("button",{className:"kyc-tab-modern pending ".concat("PENDING"===We.kycStatus?"active":""),onClick:()=>He(e=>(0,Ue.A)((0,Ue.A)({},e),{},{kycStatus:"PENDING"})),children:[(0,Fe.jsx)("div",{className:"tab-icon-modern",children:(0,Fe.jsx)("i",{className:"fas fa-clock",style:{color:"#d97706"}})}),(0,Fe.jsxs)("div",{className:"tab-content-modern",children:[(0,Fe.jsx)("span",{className:"tab-label-modern",children:"Pending"}),(0,Fe.jsx)("span",{className:"tab-count-modern",children:e.filter(e=>"PENDING"===e.kycStatus).length})]})]}),(0,Fe.jsxs)("button",{className:"kyc-tab-modern rejected ".concat("REJECTED"===We.kycStatus?"active":""),onClick:()=>He(e=>(0,Ue.A)((0,Ue.A)({},e),{},{kycStatus:"REJECTED"})),children:[(0,Fe.jsx)("div",{className:"tab-icon-modern",children:(0,Fe.jsx)("i",{className:"fas fa-times-circle",style:{color:"#dc2626"}})}),(0,Fe.jsxs)("div",{className:"tab-content-modern",children:[(0,Fe.jsx)("span",{className:"tab-label-modern",children:"Rejected"}),(0,Fe.jsx)("span",{className:"tab-count-modern",children:e.filter(e=>"REJECTED"===e.kycStatus).length})]})]})]})]}),g?(0,Fe.jsxs)("div",{className:"section-card",style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"2px solid #f59e0b",boxShadow:"0 10px 25px rgba(245, 158, 11, 0.15)"},children:[(0,Fe.jsxs)("div",{className:"employee-section-header",children:[(0,Fe.jsx)("h3",{className:"employee-section-title",style:{color:"#d97706"},children:"Add New Farmer"}),(0,Fe.jsx)("p",{className:"employee-section-description",style:{color:"#92400e",marginTop:"8px"},children:"Register new farmers and assign them to your KYC verification workflow."}),(0,Fe.jsx)("div",{className:"section-accent",style:{background:"#f59e0b"}})]}),(0,Fe.jsx)("div",{className:"section-actions-modern",children:(0,Fe.jsxs)("button",{className:"action-btn-modern secondary",onClick:()=>v(!1),children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-left"}),"Back to Farmers"]})}),(0,Fe.jsx)("div",{className:"form-container-modern",children:(0,Fe.jsx)(gs,{isInDashboard:!0,onClose:()=>v(!1),onSubmit:async e=>{try{const t=await Oe.farmersAPI.createFarmer(e);f(e=>[...e,t]),alert("Farmer created successfully!"),v(!1)}catch(t){console.error("Error creating farmer:",t),alert("Failed to create farmer. Please try again.")}}})})]}):(0,Fe.jsxs)("div",{className:"section-card",style:{background:"linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%)",border:"2px solid #22c55e",boxShadow:"0 10px 25px rgba(34, 197, 94, 0.15)"},children:[(0,Fe.jsxs)("div",{className:"employee-section-header",children:[(0,Fe.jsx)("h3",{className:"employee-section-title",style:{color:"#15803d"},children:"Farmer List"}),(0,Fe.jsx)("p",{className:"employee-section-description",style:{color:"#15803d",marginTop:"8px"},children:"View and manage all your assigned farmers with their current KYC status."}),(0,Fe.jsx)("div",{className:"section-accent",style:{background:"#22c55e"}})]}),(0,Fe.jsx)("div",{className:"table-container-modern",children:(0,Fe.jsx)(Ps,{data:e,columns:[{key:"name",label:"Name"},{key:"phone",label:"Phone"},{key:"location",label:"Location"},{key:"assignedDate",label:"Assigned Date"},{key:"kycStatus",label:"KYC Status"},{key:"lastAction",label:"Last Action"}],customActions:[{label:"View",icon:"\ud83d\udc41\ufe0f",className:"info",onClick:e=>e&&(e=>{console.log("\ud83d\udd0d EmployeeDashboard - Original farmer data (list item):",e),fetch("/api/admin/farmers/".concat(e.id),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(e=>e.json()).then(t=>{const s=(0,Ue.A)((0,Ue.A)({},t),e),a={id:s.id,firstName:s.firstName||"",lastName:s.lastName||"",middleName:s.middleName||"",dateOfBirth:s.dateOfBirth||s.dob||"",gender:s.gender||"",contactNumber:s.contactNumber||s.phoneNumber||s.phone||"",email:s.email||"",fatherName:s.fatherName||s.relationName||"",nationality:s.nationality||"",alternativeContactNumber:s.alternativeContactNumber||s.altNumber||"",alternativeRelationType:s.alternativeRelationType||s.altRelationType||"",state:s.state||"",district:s.district||"",block:s.block||"",village:s.village||"",pincode:s.pincode||"",kycStatus:s.kycStatus||"PENDING",assignedEmployee:s.assignedEmployee||"Not Assigned",assignedEmployeeId:s.assignedEmployeeId||null};console.log("\ud83d\udd0d EmployeeDashboard - Full farmer details fetched:",t),console.log("\ud83d\udd0d EmployeeDashboard - Transformed farmer data:",a),k(a),w(!0)}).catch(t=>{console.warn("\u26a0\ufe0f Failed to fetch full farmer details, using list item only:",t);const s={id:e.id,firstName:e.firstName||"",lastName:e.lastName||"",middleName:e.middleName||"",dateOfBirth:e.dateOfBirth||e.dob||"",gender:e.gender||"",contactNumber:e.contactNumber||e.phoneNumber||e.phone||"",email:e.email||"",fatherName:e.fatherName||e.relationName||"",nationality:e.nationality||"",alternativeContactNumber:e.alternativeContactNumber||e.altNumber||"",alternativeRelationType:e.alternativeRelationType||e.altRelationType||"",state:e.state||"",district:e.district||"",block:e.block||"",village:e.village||"",pincode:e.pincode||"",kycStatus:e.kycStatus||"PENDING",assignedEmployee:e.assignedEmployee||"Not Assigned",assignedEmployeeId:e.assignedEmployeeId||null};k(s),w(!0)})})(e)},{label:"Edit",icon:"\u270f\ufe0f",className:"primary",onClick:e=>e&&(e=>{F(e),v(!0)})(e)},{label:"KYC",icon:"\ud83d\udccb",className:"warning",onClick:e=>{j(e),b(!0)}},{label:"ID Card",icon:"\ud83e\udeaa",className:"primary",onClick:e=>e&&(async e=>{try{U(!0),_(null),O(null);const a=await Oe.default.get("/employees/dashboard/farmers/".concat(e,"/id-card"),{withCredentials:!0,headers:{Accept:"application/json"}}).then(e=>e).catch(e=>e&&e.response?e.response:{status:0,data:{message:(null===e||void 0===e?void 0:e.message)||"Network error"}});var t;if(!a||"number"!==typeof a.status)throw new Error((null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"No response from server");if(403===a.status)return void alert("You don't have access to this farmer's ID card.");if(404===a.status){const t=await Oe.default.get("/id-cards/holder/".concat(e),{withCredentials:!0,headers:{Accept:"application/json"}}).then(e=>e).catch(e=>e&&e.response?e.response:{status:0,data:{message:(null===e||void 0===e?void 0:e.message)||"Network error"}});var s;if(!t||t.status&&t.status>=400)throw new Error((null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Failed to fetch holder cards (".concat((null===t||void 0===t?void 0:t.status)||"unknown",")"));const a=null===t||void 0===t?void 0:t.data,n=Array.isArray(a)?a.find(e=>"FARMER"===e.cardType||"farmer"===e.cardType)||a[0]:null;if(!n)return void alert("No ID card record found for this farmer.");const i={cardId:n.cardId,status:n.status,holderId:n.holderId,holderName:n.holderName,pngUrl:"".concat(tt,"/id-cards/").concat(n.cardId,"/download/png"),pdfUrl:"".concat(tt,"/id-cards/").concat(n.cardId,"/download/pdf")};_(i);try{let e=i.pngUrl;e.startsWith(tt)&&(e=e.substring(tt.length)),e.startsWith("/api/")&&(e=e.substring(4));const t=await Oe.default.get(e,{responseType:"blob"}),s=URL.createObjectURL(t.data);O(s)}catch(Qh){O(i.pngUrl)}return void M(!0)}if(a.status&&(a.status<200||a.status>=300)){const e=a.data?JSON.stringify(a.data):String(a.status);throw new Error(e||"Failed (".concat(a.status,")"))}const n=null===a||void 0===a?void 0:a.data;if(!n)throw new Error("Empty response from server");_(n);try{let e=n.pngUrl;e.startsWith(tt)&&(e=e.substring(tt.length)),e.startsWith("/api/")&&(e=e.substring(4));const t=await Oe.default.get(e,{responseType:"blob"}),s=URL.createObjectURL(t.data);O(s)}catch(Qh){O(n.pngUrl)}M(!0)}catch(Qh){console.error("ID Card load failed:",Qh),alert("Unable to load ID Card: ".concat(Qh.message))}finally{U(!1)}})(e.id)}]})})]})]})})(),"progress"===n&&(()=>{const e=Xe(),t=e.totalAssigned,s=t>0?Math.round(e.approved/t*100):0,a=t>0?Math.round(e.pending/t*100):0,n=t>0?Math.round(e.referBack/t*100):0,i=t>0?Math.round(e.rejected/t*100):0;return(0,Fe.jsxs)("div",{className:"employee-overview-section",children:[(0,Fe.jsxs)("div",{className:"employee-overview-header",children:[(0,Fe.jsx)("h2",{className:"employee-overview-title",children:"KYC Progress Tracking"}),(0,Fe.jsx)("p",{className:"employee-overview-description",children:"Monitor your KYC verification progress and performance metrics."})]}),(0,Fe.jsxs)("div",{className:"section-card",style:{background:"linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%)",border:"2px solid #22c55e",boxShadow:"0 10px 25px rgba(34, 197, 94, 0.15)"},children:[(0,Fe.jsxs)("div",{className:"employee-section-header",children:[(0,Fe.jsx)("h3",{className:"employee-section-title",style:{color:"#15803d"},children:"Overall Progress"}),(0,Fe.jsx)("p",{className:"employee-section-description",style:{color:"#15803d",marginTop:"8px"},children:"Track your overall KYC verification progress with visual indicators."}),(0,Fe.jsx)("div",{className:"section-accent",style:{background:"#22c55e"}})]}),(0,Fe.jsxs)("div",{className:"progress-overview-modern",children:[(0,Fe.jsxs)("div",{className:"progress-bar-modern",children:[(0,Fe.jsx)("div",{className:"progress-segment approved",style:{width:"".concat(s,"%")},title:"Approved: ".concat(s,"%")}),(0,Fe.jsx)("div",{className:"progress-segment pending",style:{width:"".concat(a,"%")},title:"Pending: ".concat(a,"%")}),(0,Fe.jsx)("div",{className:"progress-segment refer-back",style:{width:"".concat(n,"%")},title:"Refer Back: ".concat(n,"%")}),(0,Fe.jsx)("div",{className:"progress-segment rejected",style:{width:"".concat(i,"%")},title:"Rejected: ".concat(i,"%")})]}),(0,Fe.jsxs)("div",{className:"progress-legend",children:[(0,Fe.jsxs)("div",{className:"legend-item",children:[(0,Fe.jsx)("div",{className:"legend-color approved"}),(0,Fe.jsxs)("span",{children:["Approved: ",s,"%"]})]}),(0,Fe.jsxs)("div",{className:"legend-item",children:[(0,Fe.jsx)("div",{className:"legend-color pending"}),(0,Fe.jsxs)("span",{children:["Pending: ",a,"%"]})]}),(0,Fe.jsxs)("div",{className:"legend-item",children:[(0,Fe.jsx)("div",{className:"legend-color refer-back"}),(0,Fe.jsxs)("span",{children:["Refer Back: ",n,"%"]})]}),(0,Fe.jsxs)("div",{className:"legend-item",children:[(0,Fe.jsx)("div",{className:"legend-color rejected"}),(0,Fe.jsxs)("span",{children:["Rejected: ",i,"%"]})]})]})]})]}),(0,Fe.jsxs)("div",{className:"stats-grid-modern",children:[(0,Fe.jsxs)("div",{className:"stat-card-modern approved",style:{background:"linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)",border:"2px solid #22c55e"},children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-check-circle",style:{color:"#15803d"}})}),(0,Fe.jsxs)("div",{className:"stat-content",children:[(0,Fe.jsx)("h4",{className:"stat-title",children:"Approved Cases"}),(0,Fe.jsxs)("div",{className:"stat-numbers",children:[(0,Fe.jsx)("span",{className:"stat-number",children:e.approved}),(0,Fe.jsxs)("span",{className:"stat-percentage",children:[s,"%"]})]})]}),(0,Fe.jsx)("div",{className:"stat-accent",style:{background:"#22c55e"}})]}),(0,Fe.jsxs)("div",{className:"stat-card-modern pending",style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"2px solid #f59e0b"},children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-clock",style:{color:"#d97706"}})}),(0,Fe.jsxs)("div",{className:"stat-content",children:[(0,Fe.jsx)("h4",{className:"stat-title",children:"Pending Cases"}),(0,Fe.jsxs)("div",{className:"stat-numbers",children:[(0,Fe.jsx)("span",{className:"stat-number",children:e.pending}),(0,Fe.jsxs)("span",{className:"stat-percentage",children:[a,"%"]})]})]}),(0,Fe.jsx)("div",{className:"stat-accent",style:{background:"#f59e0b"}})]}),(0,Fe.jsxs)("div",{className:"stat-card-modern refer-back",style:{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",border:"2px solid #3b82f6"},children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-undo",style:{color:"#2563eb"}})}),(0,Fe.jsxs)("div",{className:"stat-content",children:[(0,Fe.jsx)("h4",{className:"stat-title",children:"Refer Back Cases"}),(0,Fe.jsxs)("div",{className:"stat-numbers",children:[(0,Fe.jsx)("span",{className:"stat-number",children:e.referBack}),(0,Fe.jsxs)("span",{className:"stat-percentage",children:[n,"%"]})]})]}),(0,Fe.jsx)("div",{className:"stat-accent",style:{background:"#3b82f6"}})]}),(0,Fe.jsxs)("div",{className:"stat-card-modern rejected",style:{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",border:"2px solid #ef4444"},children:[(0,Fe.jsx)("div",{className:"stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-times-circle",style:{color:"#dc2626"}})}),(0,Fe.jsxs)("div",{className:"stat-content",children:[(0,Fe.jsx)("h4",{className:"stat-title",children:"Rejected Cases"}),(0,Fe.jsxs)("div",{className:"stat-numbers",children:[(0,Fe.jsx)("span",{className:"stat-number",children:e.rejected}),(0,Fe.jsxs)("span",{className:"stat-percentage",children:[i,"%"]})]})]}),(0,Fe.jsx)("div",{className:"stat-accent",style:{background:"#ef4444"}})]})]}),(0,Fe.jsxs)("div",{className:"section-card",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",border:"2px solid #64748b",boxShadow:"0 10px 25px rgba(100, 116, 139, 0.15)"},children:[(0,Fe.jsxs)("div",{className:"employee-section-header",children:[(0,Fe.jsx)("h3",{className:"employee-section-title",style:{color:"#475569"},children:"Performance Metrics"}),(0,Fe.jsx)("p",{className:"employee-section-description",style:{color:"#475569",marginTop:"8px"},children:"Monitor your KYC verification performance and efficiency metrics."}),(0,Fe.jsx)("div",{className:"section-accent",style:{background:"#64748b"}})]}),(0,Fe.jsxs)("div",{className:"metrics-grid",children:[(0,Fe.jsxs)("div",{className:"metric-item",children:[(0,Fe.jsx)("div",{className:"metric-icon",children:(0,Fe.jsx)("i",{className:"fas fa-chart-line",style:{color:"#15803d"}})}),(0,Fe.jsxs)("div",{className:"metric-content",children:[(0,Fe.jsx)("h4",{children:"Approval Rate"}),(0,Fe.jsxs)("span",{className:"metric-value",children:[e.totalAssigned>0?Math.round(e.approved/e.totalAssigned*100):0,"%"]})]})]}),(0,Fe.jsxs)("div",{className:"metric-item",children:[(0,Fe.jsx)("div",{className:"metric-icon",children:(0,Fe.jsx)("i",{className:"fas fa-stopwatch",style:{color:"#f59e0b"}})}),(0,Fe.jsxs)("div",{className:"metric-content",children:[(0,Fe.jsx)("h4",{children:"Processing Time"}),(0,Fe.jsx)("span",{className:"metric-value",children:"2.3 days"})]})]}),(0,Fe.jsxs)("div",{className:"metric-item",children:[(0,Fe.jsx)("div",{className:"metric-icon",children:(0,Fe.jsx)("i",{className:"fas fa-trophy",style:{color:"#3b82f6"}})}),(0,Fe.jsxs)("div",{className:"metric-content",children:[(0,Fe.jsx)("h4",{children:"Success Rate"}),(0,Fe.jsxs)("span",{className:"metric-value",children:[e.totalAssigned>0?Math.round((e.approved+e.pending)/e.totalAssigned*100):0,"%"]})]})]})]})]})]})})(),"todo"===n&&(()=>{const e=Ze();return(0,Fe.jsxs)("div",{className:"employee-overview-section",children:[(0,Fe.jsxs)("div",{className:"employee-overview-header",children:[(0,Fe.jsx)("h2",{className:"employee-overview-title",children:"To-Do List"}),(0,Fe.jsx)("p",{className:"employee-overview-description",children:"Manage your daily tasks and priorities for KYC verification."})]}),(0,Fe.jsxs)("div",{className:"todo-grid-modern",children:[(0,Fe.jsxs)("div",{className:"todo-card-modern high-priority",style:{background:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",border:"2px solid #ef4444"},children:[(0,Fe.jsxs)("div",{className:"todo-header",children:[(0,Fe.jsxs)("div",{className:"priority-badge-modern high",children:[(0,Fe.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,Fe.jsx)("span",{children:"High Priority"})]}),(0,Fe.jsx)("div",{className:"todo-icon",children:(0,Fe.jsx)("i",{className:"fas fa-clipboard-check",style:{color:"#dc2626"}})})]}),(0,Fe.jsxs)("div",{className:"todo-content",children:[(0,Fe.jsx)("h4",{className:"todo-title",children:"New KYC Reviews"}),(0,Fe.jsxs)("p",{className:"todo-description",children:[e.newAssignments.length," new farmers need KYC verification"]}),(0,Fe.jsx)("div",{className:"todo-actions",children:(0,Fe.jsxs)("button",{className:"action-btn-modern primary",onClick:()=>i("farmers"),children:[(0,Fe.jsx)("i",{className:"fas fa-eye"}),"Review Now"]})})]}),(0,Fe.jsx)("div",{className:"todo-accent",style:{background:"#ef4444"}})]}),(0,Fe.jsxs)("div",{className:"todo-card-modern medium-priority",style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"2px solid #f59e0b"},children:[(0,Fe.jsxs)("div",{className:"todo-header",children:[(0,Fe.jsxs)("div",{className:"priority-badge-modern medium",children:[(0,Fe.jsx)("i",{className:"fas fa-clock"}),(0,Fe.jsx)("span",{children:"Medium Priority"})]}),(0,Fe.jsx)("div",{className:"todo-icon",children:(0,Fe.jsx)("i",{className:"fas fa-hourglass-half",style:{color:"#d97706"}})})]}),(0,Fe.jsxs)("div",{className:"todo-content",children:[(0,Fe.jsx)("h4",{className:"todo-title",children:"Pending Reviews"}),(0,Fe.jsxs)("p",{className:"todo-description",children:[e.pendingReviews.length," cases awaiting your review"]}),(0,Fe.jsx)("div",{className:"todo-actions",children:(0,Fe.jsxs)("button",{className:"action-btn-modern warning",onClick:()=>i("farmers"),children:[(0,Fe.jsx)("i",{className:"fas fa-cogs"}),"Process Pending"]})})]}),(0,Fe.jsx)("div",{className:"todo-accent",style:{background:"#f59e0b"}})]}),(0,Fe.jsxs)("div",{className:"todo-card-modern urgent-priority",style:{background:"linear-gradient(135deg, #fef2f2 0%, #fecaca 100%)",border:"2px solid #dc2626"},children:[(0,Fe.jsxs)("div",{className:"todo-header",children:[(0,Fe.jsxs)("div",{className:"priority-badge-modern urgent",children:[(0,Fe.jsx)("i",{className:"fas fa-fire"}),(0,Fe.jsx)("span",{children:"Urgent"})]}),(0,Fe.jsx)("div",{className:"todo-icon",children:(0,Fe.jsx)("i",{className:"fas fa-exclamation-circle",style:{color:"#b91c1c"}})})]}),(0,Fe.jsxs)("div",{className:"todo-content",children:[(0,Fe.jsx)("h4",{className:"todo-title",children:"Refer Back Cases"}),(0,Fe.jsxs)("p",{className:"todo-description",children:[e.referBackCases.length," cases need immediate attention"]}),(0,Fe.jsx)("div",{className:"todo-actions",children:(0,Fe.jsxs)("button",{className:"action-btn-modern danger",onClick:()=>i("farmers"),children:[(0,Fe.jsx)("i",{className:"fas fa-bolt"}),"Review Urgent"]})})]}),(0,Fe.jsx)("div",{className:"todo-accent",style:{background:"#dc2626"}})]})]}),(0,Fe.jsxs)("div",{className:"section-card",style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"2px solid #0ea5e9",boxShadow:"0 10px 25px rgba(14, 165, 233, 0.15)"},children:[(0,Fe.jsxs)("div",{className:"employee-section-header",children:[(0,Fe.jsx)("h3",{className:"employee-section-title",style:{color:"#0369a1"},children:"Task Summary"}),(0,Fe.jsx)("p",{className:"employee-section-description",style:{color:"#0369a1",marginTop:"8px"},children:"Overview of your current tasks and priorities for KYC verification."}),(0,Fe.jsx)("div",{className:"section-accent",style:{background:"#0ea5e9"}})]}),(0,Fe.jsxs)("div",{className:"task-stats-modern",children:[(0,Fe.jsxs)("div",{className:"task-stat-modern",children:[(0,Fe.jsx)("div",{className:"task-stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-plus-circle",style:{color:"#0ea5e9"}})}),(0,Fe.jsxs)("div",{className:"task-stat-content",children:[(0,Fe.jsx)("span",{className:"task-stat-number",children:e.newAssignments.length}),(0,Fe.jsx)("span",{className:"task-stat-label",children:"New Assignments"})]})]}),(0,Fe.jsxs)("div",{className:"task-stat-modern",children:[(0,Fe.jsx)("div",{className:"task-stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-clock",style:{color:"#f59e0b"}})}),(0,Fe.jsxs)("div",{className:"task-stat-content",children:[(0,Fe.jsx)("span",{className:"task-stat-number",children:e.pendingReviews.length}),(0,Fe.jsx)("span",{className:"task-stat-label",children:"Pending Reviews"})]})]}),(0,Fe.jsxs)("div",{className:"task-stat-modern",children:[(0,Fe.jsx)("div",{className:"task-stat-icon",children:(0,Fe.jsx)("i",{className:"fas fa-undo",style:{color:"#ef4444"}})}),(0,Fe.jsxs)("div",{className:"task-stat-content",children:[(0,Fe.jsx)("span",{className:"task-stat-number",children:e.referBackCases.length}),(0,Fe.jsx)("span",{className:"task-stat-label",children:"Refer Back"})]})]})]})]}),(0,Fe.jsxs)("div",{className:"section-card",style:{background:"linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%)",border:"2px solid #22c55e",boxShadow:"0 10px 25px rgba(34, 197, 94, 0.15)"},children:[(0,Fe.jsxs)("div",{className:"employee-section-header",children:[(0,Fe.jsx)("h3",{className:"employee-section-title",style:{color:"#15803d"},children:"Quick Actions"}),(0,Fe.jsx)("p",{className:"employee-section-description",style:{color:"#15803d",marginTop:"8px"},children:"Quick access to common tasks and actions for managing your workload."}),(0,Fe.jsx)("div",{className:"section-accent",style:{background:"#22c55e"}})]}),(0,Fe.jsxs)("div",{className:"quick-actions-modern",children:[(0,Fe.jsxs)("button",{className:"quick-action-btn-modern primary",onClick:()=>i("farmers"),children:[(0,Fe.jsx)("i",{className:"fas fa-users"}),(0,Fe.jsx)("span",{children:"View All Farmers"})]}),(0,Fe.jsxs)("button",{className:"quick-action-btn-modern secondary",onClick:()=>i("kyc"),children:[(0,Fe.jsx)("i",{className:"fas fa-clipboard-list"}),(0,Fe.jsx)("span",{children:"KYC Progress"})]}),(0,Fe.jsxs)("button",{className:"quick-action-btn-modern info",onClick:()=>i("summary"),children:[(0,Fe.jsx)("i",{className:"fas fa-chart-bar"}),(0,Fe.jsx)("span",{children:"View Summary"})]})]})]})]})})(),"kyc-summary"===n&&(()=>{const e=Xe();return(0,Fe.jsxs)("div",{className:"employee-overview-section",children:[(0,Fe.jsxs)("div",{className:"employee-overview-header",children:[(0,Fe.jsx)("h2",{className:"employee-overview-title",children:"KYC Summary"}),(0,Fe.jsx)("p",{className:"employee-overview-description",children:"Comprehensive overview of your KYC verification activities and performance."})]}),(0,Fe.jsxs)("div",{className:"kyc-stats-grid-modern",children:[(0,Fe.jsxs)("div",{className:"kyc-stat-card-modern approved",style:{background:"linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)",border:"2px solid #22c55e"},children:[(0,Fe.jsx)("div",{className:"kyc-stat-icon-modern",children:(0,Fe.jsx)("i",{className:"fas fa-check-circle",style:{color:"#15803d"}})}),(0,Fe.jsxs)("div",{className:"kyc-stat-content-modern",children:[(0,Fe.jsx)("span",{className:"kyc-stat-number-modern",children:e.approved}),(0,Fe.jsx)("span",{className:"kyc-stat-label-modern",children:"Approved"})]}),(0,Fe.jsx)("div",{className:"kyc-stat-accent",style:{background:"#22c55e"}})]}),(0,Fe.jsxs)("div",{className:"kyc-stat-card-modern pending",style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"2px solid #f59e0b"},children:[(0,Fe.jsx)("div",{className:"kyc-stat-icon-modern",children:(0,Fe.jsx)("i",{className:"fas fa-clock",style:{color:"#d97706"}})}),(0,Fe.jsxs)("div",{className:"kyc-stat-content-modern",children:[(0,Fe.jsx)("span",{className:"kyc-stat-number-modern",children:e.pending}),(0,Fe.jsx)("span",{className:"kyc-stat-label-modern",children:"Pending"})]}),(0,Fe.jsx)("div",{className:"kyc-stat-accent",style:{background:"#f59e0b"}})]}),(0,Fe.jsxs)("div",{className:"kyc-stat-card-modern refer-back",style:{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",border:"2px solid #3b82f6"},children:[(0,Fe.jsx)("div",{className:"kyc-stat-icon-modern",children:(0,Fe.jsx)("i",{className:"fas fa-undo",style:{color:"#2563eb"}})}),(0,Fe.jsxs)("div",{className:"kyc-stat-content-modern",children:[(0,Fe.jsx)("span",{className:"kyc-stat-number-modern",children:e.referBack}),(0,Fe.jsx)("span",{className:"kyc-stat-label-modern",children:"Refer Back"})]}),(0,Fe.jsx)("div",{className:"kyc-stat-accent",style:{background:"#3b82f6"}})]}),(0,Fe.jsxs)("div",{className:"kyc-stat-card-modern rejected",style:{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",border:"2px solid #ef4444"},children:[(0,Fe.jsx)("div",{className:"kyc-stat-icon-modern",children:(0,Fe.jsx)("i",{className:"fas fa-times-circle",style:{color:"#dc2626"}})}),(0,Fe.jsxs)("div",{className:"kyc-stat-content-modern",children:[(0,Fe.jsx)("span",{className:"kyc-stat-number-modern",children:e.rejected}),(0,Fe.jsx)("span",{className:"kyc-stat-label-modern",children:"Rejected"})]}),(0,Fe.jsx)("div",{className:"kyc-stat-accent",style:{background:"#ef4444"}})]})]}),(0,Fe.jsxs)("div",{className:"section-card",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",border:"2px solid #64748b",boxShadow:"0 10px 25px rgba(100, 116, 139, 0.15)"},children:[(0,Fe.jsxs)("div",{className:"employee-section-header",children:[(0,Fe.jsx)("h3",{className:"employee-section-title",style:{color:"#475569"},children:"Performance Metrics"}),(0,Fe.jsx)("p",{className:"employee-section-description",style:{color:"#475569",marginTop:"8px"},children:"Monitor your KYC verification performance and efficiency metrics."}),(0,Fe.jsx)("div",{className:"section-accent",style:{background:"#64748b"}})]}),(0,Fe.jsxs)("div",{className:"performance-metrics-modern",children:[(0,Fe.jsxs)("div",{className:"performance-metric-modern",children:[(0,Fe.jsx)("div",{className:"metric-icon-modern",children:(0,Fe.jsx)("i",{className:"fas fa-chart-line",style:{color:"#15803d"}})}),(0,Fe.jsxs)("div",{className:"metric-content-modern",children:[(0,Fe.jsx)("h4",{className:"metric-title",children:"Approval Rate"}),(0,Fe.jsxs)("span",{className:"metric-value-modern",children:[e.totalAssigned>0?Math.round(e.approved/e.totalAssigned*100):0,"%"]})]})]}),(0,Fe.jsxs)("div",{className:"performance-metric-modern",children:[(0,Fe.jsx)("div",{className:"metric-icon-modern",children:(0,Fe.jsx)("i",{className:"fas fa-stopwatch",style:{color:"#f59e0b"}})}),(0,Fe.jsxs)("div",{className:"metric-content-modern",children:[(0,Fe.jsx)("h4",{className:"metric-title",children:"Processing Time"}),(0,Fe.jsx)("span",{className:"metric-value-modern",children:"2.3 days"})]})]}),(0,Fe.jsxs)("div",{className:"performance-metric-modern",children:[(0,Fe.jsx)("div",{className:"metric-icon-modern",children:(0,Fe.jsx)("i",{className:"fas fa-trophy",style:{color:"#3b82f6"}})}),(0,Fe.jsxs)("div",{className:"metric-content-modern",children:[(0,Fe.jsx)("h4",{className:"metric-title",children:"Success Rate"}),(0,Fe.jsxs)("span",{className:"metric-value-modern",children:[e.totalAssigned>0?Math.round((e.approved+e.pending)/e.totalAssigned*100):0,"%"]})]})]})]})]}),(0,Fe.jsxs)("div",{className:"section-card",style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"2px solid #0ea5e9",boxShadow:"0 10px 25px rgba(14, 165, 233, 0.15)"},children:[(0,Fe.jsxs)("div",{className:"employee-section-header",children:[(0,Fe.jsx)("h3",{className:"employee-section-title",style:{color:"#0369a1"},children:"Activity Overview"}),(0,Fe.jsx)("p",{className:"employee-section-description",style:{color:"#0369a1",marginTop:"8px"},children:"Overview of your recent KYC verification activities and trends."}),(0,Fe.jsx)("div",{className:"section-accent",style:{background:"#0ea5e9"}})]}),(0,Fe.jsxs)("div",{className:"activity-overview-modern",children:[(0,Fe.jsxs)("div",{className:"activity-item-modern",children:[(0,Fe.jsx)("div",{className:"activity-icon",children:(0,Fe.jsx)("i",{className:"fas fa-calendar-check",style:{color:"#0ea5e9"}})}),(0,Fe.jsxs)("div",{className:"activity-content",children:[(0,Fe.jsx)("h4",{children:"Total Cases Handled"}),(0,Fe.jsx)("span",{className:"activity-value",children:e.totalAssigned})]})]}),(0,Fe.jsxs)("div",{className:"activity-item-modern",children:[(0,Fe.jsx)("div",{className:"activity-icon",children:(0,Fe.jsx)("i",{className:"fas fa-calendar-day",style:{color:"#22c55e"}})}),(0,Fe.jsxs)("div",{className:"activity-content",children:[(0,Fe.jsx)("h4",{children:"Cases This Month"}),(0,Fe.jsx)("span",{className:"activity-value",children:Math.floor(.3*e.totalAssigned)})]})]}),(0,Fe.jsxs)("div",{className:"activity-item-modern",children:[(0,Fe.jsx)("div",{className:"activity-icon",children:(0,Fe.jsx)("i",{className:"fas fa-calendar-week",style:{color:"#f59e0b"}})}),(0,Fe.jsxs)("div",{className:"activity-content",children:[(0,Fe.jsx)("h4",{children:"Cases This Week"}),(0,Fe.jsx)("span",{className:"activity-value",children:Math.floor(.1*e.totalAssigned)})]})]})]})]}),(0,Fe.jsxs)("div",{className:"section-card",style:{background:"linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%)",border:"2px solid #22c55e",boxShadow:"0 10px 25px rgba(34, 197, 94, 0.15)"},children:[(0,Fe.jsxs)("div",{className:"employee-section-header",children:[(0,Fe.jsx)("h3",{className:"employee-section-title",style:{color:"#15803d"},children:"Quick Actions"}),(0,Fe.jsx)("p",{className:"employee-section-description",style:{color:"#15803d",marginTop:"8px"},children:"Quick access to common tasks and actions for managing your workload."}),(0,Fe.jsx)("div",{className:"section-accent",style:{background:"#22c55e"}})]}),(0,Fe.jsxs)("div",{className:"quick-actions-modern",children:[(0,Fe.jsxs)("button",{className:"quick-action-btn-modern primary",onClick:()=>i("farmers"),children:[(0,Fe.jsx)("i",{className:"fas fa-users"}),(0,Fe.jsx)("span",{children:"View All Farmers"})]}),(0,Fe.jsxs)("button",{className:"quick-action-btn-modern secondary",onClick:()=>i("kyc"),children:[(0,Fe.jsx)("i",{className:"fas fa-clipboard-list"}),(0,Fe.jsx)("span",{children:"KYC Progress"})]}),(0,Fe.jsxs)("button",{className:"quick-action-btn-modern info",onClick:()=>i("todo"),children:[(0,Fe.jsx)("i",{className:"fas fa-tasks"}),(0,Fe.jsx)("span",{children:"To-Do List"})]})]})]})]})})(),"id-card"===n&&(0,Fe.jsxs)("div",{className:"employee-overview-section",children:[(0,Fe.jsxs)("div",{className:"employee-overview-header",children:[(0,Fe.jsx)("h2",{className:"employee-overview-title",children:"My ID Card"}),(0,Fe.jsx)("p",{className:"employee-overview-description",children:"View and download your employee ID card."})]}),(0,Fe.jsx)("div",{className:"section-card",children:(0,Fe.jsx)(fa,{userId:r||(null===s||void 0===s?void 0:s.id),userType:"EMPLOYEE"})})]}),"fpo"===n&&(0,Fe.jsx)("div",{className:"superadmin-overview-section",children:V?(0,Fe.jsxs)("div",{className:"fpo-creation-section",children:[(0,Fe.jsxs)("div",{className:"overview-header",children:[(0,Fe.jsx)("h2",{className:"overview-title",children:H?"Edit FPO":"Add New FPO"}),(0,Fe.jsx)("p",{className:"overview-description",children:H?"Update FPO information.":"Register a new FPO in the system."}),(0,Fe.jsx)("div",{className:"overview-actions",children:(0,Fe.jsxs)("button",{onClick:()=>{Y(!1),K(null)},className:"btn btn-secondary",children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-left"}),"Back to FPO List"]})})]}),(0,Fe.jsx)(Os,{isOpen:V,onClose:()=>{Y(!1),K(null)},onSubmit:Qe})]}):(0,Fe.jsx)(Fe.Fragment,{children:Te?(0,Fe.jsx)(ea,{fpoId:null===Te||void 0===Te?void 0:Te.id,initialTab:Me,onBack:()=>Re(null)}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"superadmin-overview-header",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h2",{className:"superadmin-overview-title",children:"FPO Management"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Manage Farmer Producer Organizations and their operations."})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsxs)("div",{className:"overview-actions",children:[(0,Fe.jsxs)("button",{onClick:Je,style:{background:"linear-gradient(135deg, #f59e0b 0%, #f97316 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)",marginRight:"12px"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #d97706 0%, #ea580c 100%)",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(245, 158, 11, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #f59e0b 0%, #f97316 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(245, 158, 11, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-sync-alt"}),"Refresh"]}),(0,Fe.jsxs)("button",{onClick:()=>{Y(!0)},style:{background:"linear-gradient(135deg, #15803d 0%, #22c55e 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(21, 128, 61, 0.25)",display:"flex",alignItems:"center",gap:"8px",transform:"translateY(0)"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, #16a34a 0%, #22c55e 100%)",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(21, 128, 61, 0.35)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, #15803d 0%, #22c55e 100%)",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(21, 128, 61, 0.25)"},children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add FPO"]})]})})]}),(0,Fe.jsxs)("div",{className:"filters-section",children:[(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"State"}),(0,Fe.jsxs)("select",{value:Be.state,onChange:e=>ze(t=>(0,Ue.A)((0,Ue.A)({},t),{},{state:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All States"}),(0,Fe.jsx)("option",{value:"Telangana",children:"Telangana"}),(0,Fe.jsx)("option",{value:"Andhrapradesh",children:"Andhrapradesh"}),(0,Fe.jsx)("option",{value:"Maharashtra",children:"Maharashtra"}),(0,Fe.jsx)("option",{value:"Gujarat",children:"Gujarat"}),(0,Fe.jsx)("option",{value:"Punjab",children:"Punjab"}),(0,Fe.jsx)("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),(0,Fe.jsx)("option",{value:"Tamil Nadu",children:"Tamil Nadu"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"District"}),(0,Fe.jsxs)("select",{value:Be.district,onChange:e=>ze(t=>(0,Ue.A)((0,Ue.A)({},t),{},{district:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Districts"}),(0,Fe.jsx)("option",{value:"Karimnagar",children:"Karimnagar"}),(0,Fe.jsx)("option",{value:"rangareddy",children:"Rangareddy"}),(0,Fe.jsx)("option",{value:"kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"Kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"kadpaa",children:"Kadpaa"}),(0,Fe.jsx)("option",{value:"Kuppam",children:"Kuppam"}),(0,Fe.jsx)("option",{value:"Pune",children:"Pune"}),(0,Fe.jsx)("option",{value:"Ahmedabad",children:"Ahmedabad"}),(0,Fe.jsx)("option",{value:"Amritsar",children:"Amritsar"}),(0,Fe.jsx)("option",{value:"Lucknow",children:"Lucknow"}),(0,Fe.jsx)("option",{value:"Chennai",children:"Chennai"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Status"}),(0,Fe.jsxs)("select",{value:Be.status,onChange:e=>ze(t=>(0,Ue.A)((0,Ue.A)({},t),{},{status:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Status"}),(0,Fe.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,Fe.jsx)("option",{value:"INACTIVE",children:"Inactive"}),(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Registration Type"}),(0,Fe.jsxs)("select",{value:Be.registrationType,onChange:e=>ze(t=>(0,Ue.A)((0,Ue.A)({},t),{},{registrationType:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Types"}),(0,Fe.jsx)("option",{value:"Company",children:"Company"}),(0,Fe.jsx)("option",{value:"Cooperative",children:"Cooperative"}),(0,Fe.jsx)("option",{value:"Society",children:"Society"})]})]}),(0,Fe.jsx)("div",{className:"filter-actions",children:(0,Fe.jsxs)("button",{className:"filter-btn-clear",onClick:()=>ze({state:"",district:"",status:"",registrationType:""}),children:[(0,Fe.jsx)("i",{className:"fas fa-times"}),"Clear Filters"]})})]}),(0,Fe.jsx)("div",{className:"table-scroll-wrapper",children:(0,Fe.jsx)(Ps,{data:(Array.isArray(B)?B:[]).filter(e=>{const t=!Be.state||e.state===Be.state,s=!Be.district||e.district===Be.district,a=!Be.status||e.status===Be.status,n=!Be.registrationType||e.registrationType===Be.registrationType;return t&&s&&a&&n}),columns:[{key:"fpoId",label:"Id",render:(e,t)=>t.fpoId||t.id||""},{key:"fpoName",label:"FPO name"},{key:"ceoName",label:"CEO name"},{key:"phoneNumber",label:"Phone number"},{key:"joinDate",label:"Join Date"},{key:"status",label:"Status",render:(e,t)=>(0,Fe.jsxs)("label",{className:"switch",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:"ACTIVE"===(t.status||"").toUpperCase(),onChange:async e=>{try{const s=e.target.checked?"ACTIVE":"INACTIVE";let a=t.id;if(!a&&t.fpoId){const e=await Oe.fpoAPI.getFPOByFpoId(t.fpoId);a=null===e||void 0===e?void 0:e.id}await Oe.fpoAPI.updateFPOStatus(a,s),z(e=>e.map(e=>e.id===a||e.fpoId===t.fpoId?(0,Ue.A)((0,Ue.A)({},e),{},{id:a,status:s}):e)),G({type:"success",message:"FPO status updated to ".concat(s)}),setTimeout(()=>G(null),2e3)}catch(s){console.error("Failed to toggle FPO status:",s),G({type:"error",message:"Failed to update status"}),setTimeout(()=>G(null),2e3)}}}),(0,Fe.jsx)("span",{className:"slider round"})]})}],customActions:[{label:"Dashboard",className:"info",onClick:e=>{Z(e),Q(!0)}},{label:"Edit FPO",className:"warning",onClick:e=>{K(e),W(!0)}},{label:"FPO Board Members",onClick:e=>{ae(e),te(!0)}},{label:"FPO Farm Services",onClick:e=>{le(e),ie(!0)}},{label:"FPO Turnover",onClick:e=>{ue(e),ce(!0)}},{label:"FPO Crop Entries",onClick:e=>{fe(e),me(!0)}},{label:"FPO Input Shop",onClick:e=>{be(e),ve(!0)}},{label:"FPO Product Categories",onClick:e=>{we(e),je(!0)}},{label:"FPO Products",onClick:e=>{Ae(e),ke(!0)}},{label:"FPO Users",onClick:e=>{De(e),Pe(!0)}}]})})]})})}),"profile"===n&&(0,Fe.jsxs)("div",{className:"superadmin-overview-section",children:[(0,Fe.jsx)("div",{className:"superadmin-overview-header",children:(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h2",{className:"superadmin-overview-title",children:"My Profile"}),(0,Fe.jsx)("p",{className:"overview-description",children:"View and manage your personal information and details."})]})}),(0,Fe.jsx)("div",{className:"section-card",children:(0,Fe.jsxs)("div",{className:"data-sections-grid",children:[(0,Fe.jsxs)("div",{className:"section-card",style:{margin:0},children:[(0,Fe.jsx)("h3",{style:{marginBottom:16},children:"Personal Information"}),(0,Fe.jsxs)("div",{className:"details-grid",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Full Name:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.name)||(null===s||void 0===s?void 0:s.name)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Email:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.email)||(null===s||void 0===s?void 0:s.email)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Phone:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.phoneNumber)||(null===s||void 0===s?void 0:s.phoneNumber)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Date of Birth:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.dateOfBirth)||(null===o||void 0===o?void 0:o.dob)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Gender:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.gender)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Father's Name:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.fatherName)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Marital Status:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.maritalStatus)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Nationality:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.nationality)||"\u2014"})]})]})]}),(0,Fe.jsxs)("div",{className:"section-card",style:{margin:0},children:[(0,Fe.jsx)("h3",{style:{marginBottom:16},children:"Address Information"}),(0,Fe.jsxs)("div",{className:"details-grid",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Country:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.country)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"State:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.state)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"District:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.district)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Block:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.block)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Village/City:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.village)||(null===o||void 0===o?void 0:o.city)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Pincode:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.pincode)||(null===o||void 0===o?void 0:o.postalCode)||"\u2014"})]}),(0,Fe.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Address:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.address)||"\u2014"})]})]})]}),(0,Fe.jsxs)("div",{className:"section-card",style:{margin:0},children:[(0,Fe.jsx)("h3",{style:{marginBottom:16},children:"Work Information"}),(0,Fe.jsxs)("div",{className:"details-grid",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Employee ID:"}),(0,Fe.jsx)("div",{className:"detail-value",children:h||(()=>{try{const e=localStorage.getItem("employeeUniqueIds");return e?JSON.parse(e)[String(r)]:"\u2014"}catch(e){return"\u2014"}})()})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Designation:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.designation)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Department:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.department)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Join Date:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.joinDate)||(null===o||void 0===o?void 0:o.dateOfJoining)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Experience (years):"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.experience)||(null===o||void 0===o?void 0:o.experienceYears)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Reporting Manager:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.managerName)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Office Location:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.officeLocation)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Employment Type:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.employmentType)||"\u2014"})]})]})]}),(0,Fe.jsxs)("div",{className:"section-card",style:{margin:0},children:[(0,Fe.jsx)("h3",{style:{marginBottom:16},children:"Identity Details"}),(0,Fe.jsxs)("div",{className:"details-grid",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Aadhaar Number:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.aadhaarNumber)||(null===o||void 0===o?void 0:o.aadharNumber)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"PAN Number:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.panNumber)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"KYC Status:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.kycStatus)||"\u2014"})]})]})]}),(0,Fe.jsxs)("div",{className:"section-card",style:{margin:0},children:[(0,Fe.jsx)("h3",{style:{marginBottom:16},children:"Bank Details"}),(0,Fe.jsxs)("div",{className:"details-grid",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Bank Name:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.bankName)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"Account Number:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.accountNumber)||"\u2014"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"detail-label",children:"IFSC Code:"}),(0,Fe.jsx)("div",{className:"detail-value",children:(null===o||void 0===o?void 0:o.ifscCode)||"\u2014"})]})]})]})]})})]})]})}),x&&y&&(0,Fe.jsx)(ga,{farmer:y,onClose:()=>{b(!1),j(null)},onApprove:(e,t)=>et(e,"APPROVED","",t),onReject:(e,t)=>et(e,"REJECTED",t),onReferBack:(e,t)=>et(e,"REFER_BACK",t)}),$&&(0,Fe.jsx)("div",{className:"toast-container",children:(0,Fe.jsxs)("div",{className:"toast ".concat($.type),children:[(0,Fe.jsx)("span",{className:"icon",children:"success"===$.type?"\u2714":"!"}),(0,Fe.jsx)("span",{children:$.message})]})}),N&&S&&(0,Fe.jsx)(Ns,{farmerData:S,onClose:()=>{w(!1),k(null)},onSave:async e=>{try{const t=await Oe.farmersAPI.updateFarmer(S.id,e);f(e=>e.map(e=>e.id===S.id?t:e)),k(t),alert("Farmer updated successfully!")}catch(t){console.error("Error updating farmer:",t),alert("Failed to update farmer. Please try again.")}}}),C&&E&&(0,Fe.jsx)(Ss,{employee:E,onClose:()=>{A(!1),P(null)},onUpdate:e=>{A(!1),P(null)}}),V&&(0,Fe.jsx)(Os,{isOpen:V,onClose:()=>Y(!1),onSubmit:Qe}),q&&H&&(0,Fe.jsx)(Rs,{isOpen:q,onClose:()=>{W(!1),K(null)},fpo:H,onUpdate:e=>{z(t=>t.map(t=>t.id===e.id?e:t)),W(!1),K(null)}}),J&&X&&(0,Fe.jsx)(Ys,{isOpen:J,onClose:()=>{Q(!1),Z(null)},fpo:X}),ee&&se&&(0,Fe.jsx)(qs,{isOpen:ee,onClose:()=>{te(!1),ae(null)},fpoId:se.id}),ne&&re&&(0,Fe.jsx)(Ws,{isOpen:ne,onClose:()=>{ie(!1),le(null)},fpoId:re.id}),oe&&de&&(0,Fe.jsx)(Hs,{isOpen:oe,onClose:()=>{ce(!1),ue(null)},fpoId:de.id}),he&&pe&&(0,Fe.jsx)(Js,{isOpen:he,onClose:()=>{me(!1),fe(null)},fpoId:pe.id}),ge&&xe&&(0,Fe.jsx)(Ks,{isOpen:ge,onClose:()=>{ve(!1),be(null)},fpoId:xe.id}),ye&&Ne&&(0,Fe.jsx)($s,{isOpen:ye,onClose:()=>{je(!1),we(null)},fpoId:Ne.id}),Se&&Ce&&(0,Fe.jsx)(Gs,{isOpen:Se,onClose:()=>{ke(!1),Ae(null)},fpoId:Ce.id}),Ee&&Ie&&(0,Fe.jsx)(Xs,{isOpen:Ee,onClose:()=>{Pe(!1),De(null)},fpoId:Ie.id})]})},xa=()=>{var e,s;const{user:a,logout:n}=(0,t.useContext)(De),i=ee(),[r,l]=(0,t.useState)(!0),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(null),[h,m]=(0,t.useState)("overview"),[p,f]=(0,t.useState)(!1);(0,t.useEffect)(()=>{null!==a&&void 0!==a&&a.forcePasswordChange?i("/change-password"):g()},[a,i]);const g=async()=>{try{l(!0),c("");try{const e=await Oe.apiService.getFarmerDashboardData(null===a||void 0===a?void 0:a.email);return void u(e)}catch(e){console.warn("API call failed, using fallback data:",e)}try{const e=await Oe.apiService.getAllFarmers({email:null===a||void 0===a?void 0:a.email});if(e&&e.length>0){const t=e[0];return void u({name:t.name||(null===a||void 0===a?void 0:a.name)||"Farmer Name",email:t.email||(null===a||void 0===a?void 0:a.email)||(null===a||void 0===a?void 0:a.userName)||"farmer@example.com",phoneNumber:t.phoneNumber||(null===a||void 0===a?void 0:a.phoneNumber)||"Not provided",kycStatus:t.kycStatus||"PENDING",registrationDate:t.createdAt?new Date(t.createdAt).toLocaleDateString():(new Date).toLocaleDateString(),totalCrops:t.totalCrops||0,pendingDocuments:t.pendingDocuments||0,district:t.district||"Not specified",state:t.state||"Not specified",region:t.region||"Not specified"})}}catch(t){console.warn("Fallback API call also failed:",t)}u({name:(null===a||void 0===a?void 0:a.name)||"Farmer Name",email:(null===a||void 0===a?void 0:a.email)||(null===a||void 0===a?void 0:a.userName)||"farmer@example.com",phoneNumber:(null===a||void 0===a?void 0:a.phoneNumber)||"Not provided",kycStatus:(null===a||void 0===a?void 0:a.kycStatus)||"PENDING",registrationDate:(new Date).toLocaleDateString(),totalCrops:0,pendingDocuments:0,district:(null===a||void 0===a?void 0:a.district)||"Not specified",state:(null===a||void 0===a?void 0:a.state)||"Not specified",region:(null===a||void 0===a?void 0:a.region)||"Not specified"})}catch(o){console.error("Error loading farmer data:",o),c("Failed to load farmer data"),u({name:(null===a||void 0===a?void 0:a.name)||"Farmer Name",email:(null===a||void 0===a?void 0:a.email)||(null===a||void 0===a?void 0:a.userName)||"farmer@example.com",phoneNumber:(null===a||void 0===a?void 0:a.phoneNumber)||"Not provided",kycStatus:"PENDING",registrationDate:(new Date).toLocaleDateString(),totalCrops:0,pendingDocuments:0,district:"Not specified",state:"Not specified",region:"Not specified"})}finally{l(!1)}};return r?(0,Fe.jsx)("div",{className:"dashboard",children:(0,Fe.jsxs)("div",{className:"loading-container",children:[(0,Fe.jsx)("div",{className:"loading-spinner"}),(0,Fe.jsx)("p",{children:"Loading farmer dashboard..."})]})}):o&&!d?(0,Fe.jsx)("div",{className:"dashboard",children:(0,Fe.jsxs)("div",{className:"error-container",children:[(0,Fe.jsx)("h2",{children:"Error"}),(0,Fe.jsx)("p",{children:o}),(0,Fe.jsx)("button",{onClick:()=>window.location.reload(),children:"Retry"})]})}):(0,Fe.jsxs)("div",{className:"dashboard",children:[(0,Fe.jsxs)("div",{className:"dashboard-header",children:[(0,Fe.jsx)("div",{className:"header-left",children:(0,Fe.jsxs)("div",{className:"logo-section",children:[(0,Fe.jsx)("h1",{className:"logo-title",children:"DATE"}),(0,Fe.jsx)("p",{className:"logo-subtitle",children:"Digital Agristack"})]})}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsxs)("div",{className:"user-profile-dropdown",children:[(0,Fe.jsxs)("div",{className:"user-profile-trigger",onClick:()=>{f(e=>!e)},children:[(0,Fe.jsx)("div",{className:"user-avatar",children:(e=>{const t=(null===d||void 0===d?void 0:d.photoFileName)||("undefined"!==typeof window?JSON.parse(localStorage.getItem("farmerProfile")||"{}").photoFileName||localStorage.getItem("farmerPhotoFileName")||(null===a||void 0===a?void 0:a.photoFileName):null);return t?(0,Fe.jsx)("img",{src:"http://localhost:8080/uploads/photos/".concat(t),alt:"avatar",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},onError:e=>{e.currentTarget.style.display="none"}}):null===(e=(null===a||void 0===a?void 0:a.name)||"F")||void 0===e?void 0:e.charAt(0)})()}),(0,Fe.jsx)("span",{className:"user-email",children:(null===a||void 0===a?void 0:a.email)||"farmer@example.com"}),(0,Fe.jsx)("i",{className:"fas fa-chevron-down dropdown-arrow ".concat(p?"rotated":"")})]}),(0,Fe.jsxs)("div",{className:"user-dropdown-menu ".concat(p?"show":""),children:[(0,Fe.jsxs)("div",{className:"dropdown-header",children:[(0,Fe.jsx)("div",{className:"user-avatar-large",children:(e=>{const t=(null===d||void 0===d?void 0:d.photoFileName)||("undefined"!==typeof window?JSON.parse(localStorage.getItem("farmerProfile")||"{}").photoFileName||localStorage.getItem("farmerPhotoFileName")||(null===a||void 0===a?void 0:a.photoFileName):null);return t?(0,Fe.jsx)("img",{src:"http://localhost:8080/uploads/photos/".concat(t),alt:"avatar",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},onError:e=>{e.currentTarget.style.display="none"}}):null===(e=(null===a||void 0===a?void 0:a.name)||"F")||void 0===e?void 0:e.charAt(0)})()}),(0,Fe.jsxs)("div",{className:"user-details",children:[(0,Fe.jsx)("div",{className:"user-name-large",children:(null===a||void 0===a?void 0:a.name)||"Farmer"}),(0,Fe.jsx)("div",{className:"user-email",children:(null===a||void 0===a?void 0:a.email)||"farmer@example.com"}),(()=>{try{const e=localStorage.getItem("farmerUniqueIds"),t=e?JSON.parse(e):{},s=t?t[String(null===d||void 0===d?void 0:d.id)]:null;return s?(0,Fe.jsxs)("div",{className:"user-email",style:{fontWeight:700},children:["ID: ",s]}):null}catch(e){return null}})()]})]}),(0,Fe.jsxs)("div",{className:"dropdown-actions",children:[(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>{i("/change-password-dashboard")},children:[(0,Fe.jsx)("i",{className:"fas fa-key"}),"Change Password"]}),(0,Fe.jsxs)("button",{className:"dropdown-action-btn logout",onClick:()=>{n(),i("/login")},children:[(0,Fe.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]})]})})]}),(0,Fe.jsxs)("div",{className:"dashboard-sidebar",children:[(0,Fe.jsxs)("div",{className:"sidebar-header",children:[(0,Fe.jsx)("h2",{className:"sidebar-welcome",children:"Welcome!!!"}),(0,Fe.jsx)("p",{className:"sidebar-role",children:"FARMER"})]}),(0,Fe.jsxs)("div",{className:"sidebar-nav",children:[(0,Fe.jsxs)("div",{className:"nav-item ".concat("overview"===h?"active":""),onClick:()=>m("overview"),children:[(0,Fe.jsx)("i",{className:"fas fa-tachometer-alt"}),(0,Fe.jsx)("span",{children:"Dashboard Overview"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("profile"===h?"active":""),onClick:()=>m("profile"),children:[(0,Fe.jsx)("i",{className:"fas fa-user"}),(0,Fe.jsx)("span",{children:"My Profile"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("crops"===h?"active":""),onClick:()=>m("crops"),children:[(0,Fe.jsx)("i",{className:"fas fa-seedling"}),(0,Fe.jsx)("span",{children:"My Crops"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("kyc"===h?"active":""),onClick:()=>m("kyc"),children:[(0,Fe.jsx)("i",{className:"fas fa-clipboard-check"}),(0,Fe.jsx)("span",{children:"KYC Status"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("documents"===h?"active":""),onClick:()=>m("documents"),children:[(0,Fe.jsx)("i",{className:"fas fa-file-alt"}),(0,Fe.jsx)("span",{children:"Documents"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("benefits"===h?"active":""),onClick:()=>m("benefits"),children:[(0,Fe.jsx)("i",{className:"fas fa-gift"}),(0,Fe.jsx)("span",{children:"Benefits"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("id-card"===h?"active":""),onClick:()=>m("id-card"),children:[(0,Fe.jsx)("i",{className:"fas fa-id-card"}),(0,Fe.jsx)("span",{children:"My ID Card"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("support"===h?"active":""),onClick:()=>m("support"),children:[(0,Fe.jsx)("i",{className:"fas fa-headset"}),(0,Fe.jsx)("span",{children:"Support"})]})]})]}),(0,Fe.jsx)("div",{className:"dashboard-main",children:(0,Fe.jsxs)("div",{className:"dashboard-content",children:["overview"===h&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"greeting-banner",children:[(0,Fe.jsxs)("div",{className:"greeting-left",children:[(0,Fe.jsxs)("div",{className:"greeting-title",children:[(()=>{const e=(new Date).getHours();return e>=5&&e<12?"Good Morning":e>=12&&e<17?"Good Afternoon":e>=17&&e<21?"Good Evening":"Good Night"})(),", ",(null===a||void 0===a?void 0:a.name)||"Farmer","! \ud83d\udc4b"]}),(0,Fe.jsx)("div",{className:"greeting-subtitle",children:"Welcome to your agricultural dashboard. Manage your profile, crops, and track your KYC status."})]}),(0,Fe.jsx)("div",{className:"greeting-right",children:(0,Fe.jsx)("span",{className:"greeting-date",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]}),(0,Fe.jsxs)("div",{className:"welcome-section",children:[(0,Fe.jsx)("h1",{className:"welcome-title",children:"Farmer Dashboard"}),(0,Fe.jsx)("p",{className:"welcome-subtitle",children:"Manage your agricultural profile, track KYC status, and access benefits. Your digital farming journey starts here."}),o&&(0,Fe.jsxs)("div",{className:"error-notice",children:[(0,Fe.jsx)("p",{className:"error-text",children:"\u26a0\ufe0f Some data may not be up to date"}),(0,Fe.jsx)("button",{className:"retry-btn",onClick:g,children:"\ud83d\udd04 Refresh Data"})]})]}),(0,Fe.jsxs)("div",{className:"farmer-overview-section",children:[(0,Fe.jsxs)("div",{className:"farmer-section-header",children:[(0,Fe.jsx)("h3",{className:"farmer-section-title",children:"Dashboard Overview"}),(0,Fe.jsx)("p",{className:"section-description",children:"Overview of your agricultural profile and current status."})]}),(0,Fe.jsxs)("div",{className:"stats-grid",children:[(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:"\ud83c\udf3e"}),(0,Fe.jsxs)("div",{className:"stat-content",children:[(0,Fe.jsx)("h3",{children:"Total Crops"}),(0,Fe.jsx)("p",{className:"stat-number",children:(null===d||void 0===d?void 0:d.totalCrops)||0}),(0,Fe.jsx)("p",{className:"stat-label",children:"Registered crops"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:"\ud83d\udccb"}),(0,Fe.jsxs)("div",{className:"stat-content",children:[(0,Fe.jsx)("h3",{children:"KYC Status"}),(0,Fe.jsx)("p",{className:"stat-number status-".concat(null===d||void 0===d||null===(e=d.kycStatus)||void 0===e?void 0:e.toLowerCase()),children:(null===d||void 0===d?void 0:d.kycStatus)||"PENDING"}),(0,Fe.jsx)("p",{className:"stat-label",children:"Verification status"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:"\ud83d\udcc4"}),(0,Fe.jsxs)("div",{className:"stat-content",children:[(0,Fe.jsx)("h3",{children:"Pending Documents"}),(0,Fe.jsx)("p",{className:"stat-number",children:(null===d||void 0===d?void 0:d.pendingDocuments)||0}),(0,Fe.jsx)("p",{className:"stat-label",children:"Documents to upload"})]})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-icon",children:"\ud83d\udcb0"}),(0,Fe.jsxs)("div",{className:"stat-content",children:[(0,Fe.jsx)("h3",{children:"Benefits Received"}),(0,Fe.jsxs)("p",{className:"stat-number",children:["\u20b9",(null===d||void 0===d?void 0:d.totalBenefitsReceived)||0]}),(0,Fe.jsx)("p",{className:"stat-label",children:"This month"})]})]})]})]}),(0,Fe.jsxs)("div",{className:"farmer-overview-section",children:[(0,Fe.jsxs)("div",{className:"farmer-section-header",children:[(0,Fe.jsx)("h3",{className:"farmer-section-title",children:"Quick Actions"}),(0,Fe.jsx)("p",{className:"section-description",children:"Access frequently used functions to manage your profile and documents."})]}),(0,Fe.jsxs)("div",{className:"actions-grid",children:[(0,Fe.jsxs)("button",{className:"action-btn",onClick:()=>m("profile"),children:[(0,Fe.jsx)("span",{className:"action-icon",children:"\ud83d\udcdd"}),(0,Fe.jsx)("span",{children:"Update Profile"})]}),(0,Fe.jsxs)("button",{className:"action-btn",onClick:()=>m("crops"),children:[(0,Fe.jsx)("span",{className:"action-icon",children:"\ud83c\udf3e"}),(0,Fe.jsx)("span",{children:"Add New Crop"})]}),(0,Fe.jsxs)("button",{className:"action-btn",onClick:()=>m("documents"),children:[(0,Fe.jsx)("span",{className:"action-icon",children:"\ud83d\udcc4"}),(0,Fe.jsx)("span",{children:"Upload Documents"})]}),(0,Fe.jsxs)("button",{className:"action-btn",onClick:()=>m("support"),children:[(0,Fe.jsx)("span",{className:"action-icon",children:"\ud83d\udcde"}),(0,Fe.jsx)("span",{children:"Contact Support"})]})]})]}),(0,Fe.jsxs)("div",{className:"farmer-overview-section",children:[(0,Fe.jsxs)("div",{className:"farmer-section-header",children:[(0,Fe.jsx)("h3",{className:"farmer-section-title",children:"Recent Activity"}),(0,Fe.jsx)("p",{className:"section-description",children:"Track your recent activities and updates."})]}),(0,Fe.jsxs)("div",{className:"activity-list",children:[(0,Fe.jsxs)("div",{className:"activity-item",children:[(0,Fe.jsx)("div",{className:"activity-icon",children:"\u2705"}),(0,Fe.jsxs)("div",{className:"activity-content",children:[(0,Fe.jsx)("h4",{children:"Profile Updated"}),(0,Fe.jsx)("p",{children:"Your profile information was updated successfully"}),(0,Fe.jsx)("span",{className:"activity-time",children:"2 hours ago"})]})]}),(0,Fe.jsxs)("div",{className:"activity-item",children:[(0,Fe.jsx)("div",{className:"activity-icon",children:"\ud83d\udccb"}),(0,Fe.jsxs)("div",{className:"activity-content",children:[(0,Fe.jsx)("h4",{children:"KYC Verification"}),(0,Fe.jsx)("p",{children:"Your KYC documents are under review"}),(0,Fe.jsx)("span",{className:"activity-time",children:"1 day ago"})]})]}),(0,Fe.jsxs)("div",{className:"activity-item",children:[(0,Fe.jsx)("div",{className:"activity-icon",children:"\ud83c\udf3e"}),(0,Fe.jsxs)("div",{className:"activity-content",children:[(0,Fe.jsx)("h4",{children:"Crop Registration"}),(0,Fe.jsx)("p",{children:"Wheat crop registered successfully"}),(0,Fe.jsx)("span",{className:"activity-time",children:"3 days ago"})]})]})]})]})]}),"profile"===h&&(0,Fe.jsxs)("div",{className:"farmer-overview-section",children:[(0,Fe.jsxs)("div",{className:"farmer-section-header",children:[(0,Fe.jsx)("h3",{className:"farmer-section-title",children:"My Profile"}),(0,Fe.jsx)("p",{className:"section-description",children:"View and manage your personal information and details."})]}),(0,Fe.jsxs)("div",{className:"profile-grid",children:[(0,Fe.jsxs)("div",{className:"profile-card",children:[(0,Fe.jsx)("h3",{children:"Personal Information"}),(0,Fe.jsxs)("div",{className:"info-grid",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Full Name:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.fullName)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Date of Birth:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.dateOfBirth)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Gender:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.gender)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Father's Name:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.fatherName)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Contact Number:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.contactNumber)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Alternative Contact:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.alternativeContactNumber)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Nationality:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.nationality)||"Not provided"})]})]})]}),(0,Fe.jsxs)("div",{className:"profile-card",children:[(0,Fe.jsx)("h3",{children:"Address Information"}),(0,Fe.jsxs)("div",{className:"info-grid",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Country:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.country)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"State:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.state)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"District:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.district)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Block:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.block)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Village:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.village)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Pincode:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.pincode)||"Not provided"})]})]})]}),(0,Fe.jsxs)("div",{className:"profile-card",children:[(0,Fe.jsx)("h3",{children:"Professional Information"}),(0,Fe.jsxs)("div",{className:"info-grid",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Education:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.education)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Experience:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.experience)||"Not provided"})]})]})]}),(0,Fe.jsxs)("div",{className:"profile-card",children:[(0,Fe.jsx)("h3",{children:"Bank Details"}),(0,Fe.jsxs)("div",{className:"info-grid",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Bank Name:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.bankName)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Account Number:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.accountNumber)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Branch Name:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.branchName)||"Not provided"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"IFSC Code:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.ifscCode)||"Not provided"})]})]})]})]}),(0,Fe.jsxs)("div",{className:"profile-card",style:{marginTop:"20px"},children:[(0,Fe.jsx)("h3",{children:"\ud83c\udd94 My ID Card"}),(0,Fe.jsx)(fa,{userId:null===d||void 0===d?void 0:d.id,userType:"FARMER"})]})]}),"kyc"===h&&(0,Fe.jsxs)("div",{className:"farmer-overview-section",children:[(0,Fe.jsxs)("div",{className:"farmer-section-header",children:[(0,Fe.jsx)("h3",{className:"farmer-section-title",children:"KYC Status & Assignment"}),(0,Fe.jsx)("p",{className:"section-description",children:"Track your KYC verification status and assigned employee details."})]}),(0,Fe.jsxs)("div",{className:"kyc-grid",children:[(0,Fe.jsxs)("div",{className:"kyc-card",children:[(0,Fe.jsx)("h3",{children:"KYC Status"}),(0,Fe.jsx)("div",{className:"kyc-status ".concat(null===d||void 0===d||null===(s=d.kycStatus)||void 0===s?void 0:s.toLowerCase()),children:(0,Fe.jsx)("span",{className:"status-badge",children:(null===d||void 0===d?void 0:d.kycStatus)||"PENDING"})}),(0,Fe.jsxs)("div",{className:"kyc-details",children:[(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Submitted Date:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.kycSubmittedDate)||"Not submitted"})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Reviewed Date:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.kycReviewedDate)||"Not reviewed"})]}),(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Reviewed By:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.kycReviewedBy)||"Not assigned"})]}),(null===d||void 0===d?void 0:d.kycRejectionReason)&&(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Rejection Reason:"}),(0,Fe.jsx)("span",{className:"error-text",children:d.kycRejectionReason})]}),(null===d||void 0===d?void 0:d.kycReferBackReason)&&(0,Fe.jsxs)("div",{className:"detail-item",children:[(0,Fe.jsx)("label",{children:"Refer Back Reason:"}),(0,Fe.jsx)("span",{className:"warning-text",children:d.kycReferBackReason})]})]})]}),(0,Fe.jsxs)("div",{className:"kyc-card",children:[(0,Fe.jsx)("h3",{children:"Assigned Employee"}),null!==d&&void 0!==d&&d.assignedEmployee?(0,Fe.jsxs)("div",{className:"employee-info",children:[(0,Fe.jsx)("div",{className:"employee-avatar",children:(0,Fe.jsx)("span",{children:"\ud83d\udc64"})}),(0,Fe.jsxs)("div",{className:"employee-details",children:[(0,Fe.jsx)("h4",{children:d.assignedEmployee.employeeName}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Email:"})," ",d.assignedEmployee.employeeEmail]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Contact:"})," ",d.assignedEmployee.employeeContactNumber]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Designation:"})," ",d.assignedEmployee.employeeDesignation]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Assignment Status:"}),(0,Fe.jsx)("span",{className:"status-badge ".concat(d.assignedEmployee.assignmentStatus.toLowerCase()),children:d.assignedEmployee.assignmentStatus})]})]})]}):(0,Fe.jsxs)("div",{className:"no-assignment",children:[(0,Fe.jsx)("p",{children:"No employee assigned yet"}),(0,Fe.jsx)("p",{className:"small-text",children:"An employee will be assigned for your KYC verification process"})]})]})]})]}),"crops"===h&&(0,Fe.jsxs)("div",{className:"farmer-overview-section",children:[(0,Fe.jsxs)("div",{className:"farmer-section-header",children:[(0,Fe.jsx)("h3",{className:"farmer-section-title",children:"My Crops"}),(0,Fe.jsx)("p",{className:"section-description",children:"View your current and proposed crop information."})]}),(0,Fe.jsxs)("div",{className:"crops-grid",children:[(0,Fe.jsxs)("div",{className:"crop-card",children:[(0,Fe.jsx)("h3",{children:"Current Crop"}),(0,Fe.jsxs)("div",{className:"crop-info",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Crop:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.currentCrop)||"Not specified"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Survey Number:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.currentSurveyNumber)||"Not specified"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Land Holding:"}),(0,Fe.jsx)("span",{children:null!==d&&void 0!==d&&d.currentLandHolding?"".concat(d.currentLandHolding," acres"):"Not specified"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Net Income:"}),(0,Fe.jsx)("span",{children:null!==d&&void 0!==d&&d.currentNetIncome?"\u20b9".concat(d.currentNetIncome):"Not specified"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Soil Test:"}),(0,Fe.jsx)("span",{children:null!==d&&void 0!==d&&d.currentSoilTest?"Yes":"No"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Water Source:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.currentWaterSource)||"Not specified"})]})]})]}),(0,Fe.jsxs)("div",{className:"crop-card",children:[(0,Fe.jsx)("h3",{children:"Proposed Crop"}),(0,Fe.jsxs)("div",{className:"crop-info",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Crop:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.proposedCrop)||"Not specified"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Survey Number:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.proposedSurveyNumber)||"Not specified"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Land Holding:"}),(0,Fe.jsx)("span",{children:null!==d&&void 0!==d&&d.proposedLandHolding?"".concat(d.proposedLandHolding," acres"):"Not specified"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Expected Income:"}),(0,Fe.jsx)("span",{children:null!==d&&void 0!==d&&d.proposedNetIncome?"\u20b9".concat(d.proposedNetIncome):"Not specified"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Soil Test:"}),(0,Fe.jsx)("span",{children:null!==d&&void 0!==d&&d.proposedSoilTest?"Yes":"No"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Water Source:"}),(0,Fe.jsx)("span",{children:(null===d||void 0===d?void 0:d.proposedWaterSource)||"Not specified"})]})]})]})]})]}),"documents"===h&&(0,Fe.jsxs)("div",{className:"farmer-overview-section",children:[(0,Fe.jsxs)("div",{className:"farmer-section-header",children:[(0,Fe.jsx)("h3",{className:"farmer-section-title",children:"My Documents"}),(0,Fe.jsx)("p",{className:"section-description",children:"View and manage your uploaded documents and certificates."})]}),(0,Fe.jsx)("div",{className:"documents-grid",children:(0,Fe.jsxs)("div",{className:"document-card",children:[(0,Fe.jsx)("h3",{children:"Uploaded Documents"}),(0,Fe.jsxs)("div",{className:"document-list",children:[(0,Fe.jsxs)("div",{className:"document-item",children:[(0,Fe.jsx)("span",{className:"doc-icon",children:"\ud83d\udcf7"}),(0,Fe.jsxs)("div",{className:"doc-info",children:[(0,Fe.jsx)("h4",{children:"Profile Photo"}),(0,Fe.jsx)("p",{children:(null===d||void 0===d?void 0:d.photoFileName)||"Not uploaded"})]})]}),(0,Fe.jsxs)("div",{className:"document-item",children:[(0,Fe.jsx)("span",{className:"doc-icon",children:"\ud83c\udfe6"}),(0,Fe.jsxs)("div",{className:"doc-info",children:[(0,Fe.jsx)("h4",{children:"Bank Passbook"}),(0,Fe.jsx)("p",{children:(null===d||void 0===d?void 0:d.passbookFileName)||"Not uploaded"})]})]}),(0,Fe.jsxs)("div",{className:"document-item",children:[(0,Fe.jsx)("span",{className:"doc-icon",children:"\ud83c\udd94"}),(0,Fe.jsxs)("div",{className:"doc-info",children:[(0,Fe.jsx)("h4",{children:"Identity Document"}),(0,Fe.jsx)("p",{children:(null===d||void 0===d?void 0:d.documentFileName)||"Not uploaded"})]})]}),(0,Fe.jsxs)("div",{className:"document-item",children:[(0,Fe.jsx)("span",{className:"doc-icon",children:"\ud83e\uddea"}),(0,Fe.jsxs)("div",{className:"doc-info",children:[(0,Fe.jsx)("h4",{children:"Soil Test Certificate"}),(0,Fe.jsx)("p",{children:(null===d||void 0===d?void 0:d.soilTestCertificateFileName)||"Not uploaded"})]})]})]})]})})]}),"benefits"===h&&(0,Fe.jsxs)("div",{className:"farmer-overview-section",children:[(0,Fe.jsxs)("div",{className:"farmer-section-header",children:[(0,Fe.jsx)("h3",{className:"farmer-section-title",children:"Benefits & Support"}),(0,Fe.jsx)("p",{className:"section-description",children:"View your received benefits and available support options."})]}),(0,Fe.jsx)("div",{className:"benefits-grid",children:(0,Fe.jsxs)("div",{className:"benefit-card",children:[(0,Fe.jsx)("h3",{children:"Benefits Received"}),(0,Fe.jsx)("div",{className:"benefit-summary",children:(0,Fe.jsxs)("div",{className:"benefit-item",children:[(0,Fe.jsxs)("span",{className:"benefit-amount",children:["\u20b9",(null===d||void 0===d?void 0:d.totalBenefitsReceived)||0]}),(0,Fe.jsx)("span",{className:"benefit-label",children:"Total Benefits"})]})}),(0,Fe.jsx)("p",{className:"benefit-note",children:"Benefits are calculated based on your crop registrations and government schemes"})]})})]}),"id-card"===h&&(0,Fe.jsxs)("div",{className:"farmer-overview-section",children:[(0,Fe.jsxs)("div",{className:"farmer-section-header",children:[(0,Fe.jsx)("h3",{className:"farmer-section-title",children:"My ID Card"}),(0,Fe.jsx)("p",{className:"section-description",children:"View and download your farmer ID card."})]}),(0,Fe.jsx)("div",{className:"profile-card",children:(0,Fe.jsx)(fa,{userId:null===d||void 0===d?void 0:d.id,userType:"FARMER"})})]}),"support"===h&&(0,Fe.jsxs)("div",{className:"farmer-overview-section",children:[(0,Fe.jsxs)("div",{className:"farmer-section-header",children:[(0,Fe.jsx)("h3",{className:"farmer-section-title",children:"Support & Contact"}),(0,Fe.jsx)("p",{className:"section-description",children:"Get help and contact information for support."})]}),(0,Fe.jsx)("div",{className:"support-grid",children:(0,Fe.jsxs)("div",{className:"support-card",children:[(0,Fe.jsx)("h3",{children:"Contact Information"}),(0,Fe.jsxs)("div",{className:"contact-info",children:[(0,Fe.jsxs)("div",{className:"contact-item",children:[(0,Fe.jsx)("span",{className:"contact-icon",children:"\ud83d\udcde"}),(0,Fe.jsxs)("div",{className:"contact-details",children:[(0,Fe.jsx)("h4",{children:"Helpline"}),(0,Fe.jsx)("p",{children:"1800-XXX-XXXX"})]})]}),(0,Fe.jsxs)("div",{className:"contact-item",children:[(0,Fe.jsx)("span",{className:"contact-icon",children:"\ud83d\udce7"}),(0,Fe.jsxs)("div",{className:"contact-details",children:[(0,Fe.jsx)("h4",{children:"Email Support"}),(0,Fe.jsx)("p",{children:"support@farmerportal.com"})]})]}),(0,Fe.jsxs)("div",{className:"contact-item",children:[(0,Fe.jsx)("span",{className:"contact-icon",children:"\ud83d\udcac"}),(0,Fe.jsxs)("div",{className:"contact-details",children:[(0,Fe.jsx)("h4",{children:"Live Chat"}),(0,Fe.jsx)("p",{children:"Available 24/7"})]})]})]})]})})]})]})})]})},ba=()=>{var e,a;const{fpoId:n}=te(),i=ee(),{user:r,logout:l}=_e(),[o,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!0),[h,m]=(0,t.useState)(""),[p,f]=(0,t.useState)("overview"),[g,v]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[y,j]=(0,t.useState)(""),[N,w]=(0,t.useState)(""),[S,k]=(0,t.useState)(!1),[C,A]=(0,t.useState)([]),[E,P]=(0,t.useState)(!1),[I,F]=(0,t.useState)(!1),[D,_]=(0,t.useState)(!1),[T,O]=(0,t.useState)(null),[R,M]=(0,t.useState)({state:"",district:"",status:""}),[L,U]=(0,t.useState)(""),[B,z]=(0,t.useState)(!1),[V,Y]=(0,t.useState)(!1),[q,W]=(0,t.useState)(!1),[H,K]=(0,t.useState)(!1),[$,G]=(0,t.useState)(!1),[J,Q]=(0,t.useState)(!1),[X,Z]=(0,t.useState)(!1),[se,ae]=(0,t.useState)(!1),[ne,ie]=(0,t.useState)(!1),[re,le]=(0,t.useState)(!1),oe=async()=>{try{const e=await Oe.fpoAPI.getAllFPOs();A(e||[])}catch(h){console.error("Error loading FPOs:",h),A([])}};if((0,t.useEffect)(()=>{n&&(async()=>{try{u(!0);const e=await Oe.fpoAPI.getFPOById(n);c(e)}catch(Qh){m("Failed to load FPO details")}finally{u(!1)}})()},[n]),(0,t.useEffect)(()=>{"farmers"===p&&(async()=>{try{const e=(await Oe.fpoAPI.getFPOMembers(n)||[]).map((e,t)=>({id:e.id||t+1,name:e.name||"".concat(e.firstName||""," ").concat(e.lastName||"").trim(),phoneNumber:e.phoneNumber||e.contactNumber,email:e.email||"-",status:e.status||"ACTIVE"}));v(e)}catch(Qh){console.error(Qh),v([])}})(),"employees"===p&&(async()=>{try{const e=(await(await Promise.resolve().then(s.bind(s,476))).fpoUsersAPI.list(n)||[]).filter(e=>"EMPLOYEE"===(e.role||"").toUpperCase());b(e)}catch(Qh){console.error(Qh),b([])}})(),"fpo"===p&&oe()},[p,n]),d)return(0,Fe.jsxs)("div",{className:"admin-loading",children:[(0,Fe.jsx)("div",{className:"spinner"}),(0,Fe.jsx)("span",{children:"Loading FPO Admin Dashboard\u2026"})]});if(h)return(0,Fe.jsx)("div",{className:"admin-error",children:h});const ce=(null===o||void 0===o?void 0:o.fpoName)||(null===o||void 0===o?void 0:o.name)||"\u2014",de=(null===o||void 0===o?void 0:o.fpoId)||(null===o||void 0===o?void 0:o.id)||"\u2014";return(0,Fe.jsxs)("div",{className:"dashboard",children:[(0,Fe.jsxs)("div",{className:"dashboard-header",children:[(0,Fe.jsx)("div",{className:"header-left",children:(0,Fe.jsxs)("div",{className:"logo-section",children:[(0,Fe.jsx)("h1",{className:"logo-title",children:"DATE"}),(0,Fe.jsx)("p",{className:"logo-subtitle",children:"Digital Agristack"})]})}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsxs)("div",{className:"user-profile-dropdown",children:[(0,Fe.jsxs)("div",{className:"user-profile-trigger",onClick:()=>{k(!S)},children:[(0,Fe.jsx)("div",{className:"user-avatar",children:(null===r||void 0===r||null===(e=r.name)||void 0===e?void 0:e.charAt(0))||"A"}),(0,Fe.jsx)("span",{className:"user-email",children:(null===r||void 0===r?void 0:r.email)||"admin@fpo.com"}),(0,Fe.jsx)("i",{className:"fas fa-chevron-down dropdown-arrow ".concat(S?"rotated":"")})]}),(0,Fe.jsxs)("div",{className:"user-dropdown-menu ".concat(S?"show":""),children:[(0,Fe.jsxs)("div",{className:"dropdown-header",children:[(0,Fe.jsx)("div",{className:"user-avatar-large",children:(null===r||void 0===r||null===(a=r.name)||void 0===a?void 0:a.charAt(0))||"A"}),(0,Fe.jsxs)("div",{className:"user-details",children:[(0,Fe.jsx)("div",{className:"user-name-large",children:(null===r||void 0===r?void 0:r.name)||"FPO Admin"}),(0,Fe.jsx)("div",{className:"user-email",children:(null===r||void 0===r?void 0:r.email)||"admin@fpo.com"})]})]}),(0,Fe.jsxs)("div",{className:"dropdown-actions",children:[(0,Fe.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>{i("/change-password-dashboard")},children:[(0,Fe.jsx)("i",{className:"fas fa-key"}),"Change Password"]}),(0,Fe.jsxs)("button",{className:"dropdown-action-btn logout",onClick:()=>{l(),i("/login")},children:[(0,Fe.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]})]})})]}),(0,Fe.jsxs)("div",{className:"dashboard-sidebar",children:[(0,Fe.jsxs)("div",{className:"sidebar-header",children:[(0,Fe.jsx)("h2",{className:"sidebar-welcome",children:"Welcome!!!"}),(0,Fe.jsx)("div",{className:"sidebar-role",children:"FPO Admin"})]}),(0,Fe.jsxs)("div",{className:"sidebar-nav",children:[(0,Fe.jsxs)("div",{className:"nav-item ".concat("overview"===p?"active":""),onClick:()=>f("overview"),children:[(0,Fe.jsx)("i",{className:"fas fa-th-large"}),(0,Fe.jsx)("span",{children:"Dashboard"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("farmers"===p?"active":""),onClick:()=>f("farmers"),children:[(0,Fe.jsx)("i",{className:"fas fa-users"}),(0,Fe.jsx)("span",{children:"Farmers"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("employees"===p?"active":""),onClick:()=>f("employees"),children:[(0,Fe.jsx)("i",{className:"fas fa-user-tie"}),(0,Fe.jsx)("span",{children:"Employees"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("fpo"===p?"active":""),onClick:()=>f("fpo"),children:[(0,Fe.jsx)("i",{className:"fas fa-building"}),(0,Fe.jsx)("span",{children:"FPO"})]})]})]}),(0,Fe.jsxs)("div",{className:"dashboard-main",children:[(0,Fe.jsxs)("div",{className:"welcome-section",children:[(0,Fe.jsxs)("h1",{className:"welcome-title",children:[(()=>{const e=(new Date).getHours();return e>=5&&e<12?"Good Morning":e>=12&&e<17?"Good Afternoon":e>=17&&e<21?"Good Evening":"Good Night"})(),", ",(null===r||void 0===r?void 0:r.name)||"FPO Admin","! \ud83d\udc4b"]}),(0,Fe.jsxs)("p",{className:"welcome-subtitle",children:["Welcome to your FPO Admin Dashboard. Manage farmers and employees for ",(0,Fe.jsx)("strong",{children:ce})," (ID: ",de,")."]})]}),"overview"===p&&(0,Fe.jsxs)("div",{className:"stats-grid",children:[(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon",children:(0,Fe.jsx)("i",{className:"fas fa-users"})}),(0,Fe.jsxs)("div",{className:"stats-content",children:[(0,Fe.jsx)("div",{className:"stats-value",children:g.length}),(0,Fe.jsx)("div",{className:"stats-label",children:"Farmers"}),(0,Fe.jsx)("div",{className:"stats-change positive",children:"+0% from last month"})]})]}),(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon",children:(0,Fe.jsx)("i",{className:"fas fa-user-tie"})}),(0,Fe.jsxs)("div",{className:"stats-content",children:[(0,Fe.jsx)("div",{className:"stats-value",children:x.length}),(0,Fe.jsx)("div",{className:"stats-label",children:"Employees"}),(0,Fe.jsx)("div",{className:"stats-change positive",children:"+0% from last month"})]})]}),(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon",children:(0,Fe.jsx)("i",{className:"fas fa-building"})}),(0,Fe.jsxs)("div",{className:"stats-content",children:[(0,Fe.jsx)("div",{className:"stats-value",children:"1"}),(0,Fe.jsx)("div",{className:"stats-label",children:"FPO"}),(0,Fe.jsx)("div",{className:"stats-change positive",children:"Active"})]})]})]}),"overview"===p&&(0,Fe.jsxs)("div",{className:"content-grid",children:[(0,Fe.jsxs)("div",{className:"content-card",children:[(0,Fe.jsxs)("div",{className:"card-header",children:[(0,Fe.jsx)("div",{className:"card-icon",children:(0,Fe.jsx)("i",{className:"fas fa-users"})}),(0,Fe.jsxs)("div",{className:"card-title",children:[(0,Fe.jsx)("h3",{children:"Manage Farmers"}),(0,Fe.jsx)("p",{children:"Add and manage farmers belonging to this FPO only."})]})]}),(0,Fe.jsxs)("div",{className:"card-actions",children:[(0,Fe.jsxs)("button",{className:"btn btn-primary",onClick:()=>F(!0),children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add Farmer"]}),(0,Fe.jsxs)("button",{className:"btn btn-secondary",onClick:()=>f("farmers"),children:[(0,Fe.jsx)("i",{className:"fas fa-eye"}),"View Farmers"]})]})]}),(0,Fe.jsxs)("div",{className:"content-card",children:[(0,Fe.jsxs)("div",{className:"card-header",children:[(0,Fe.jsx)("div",{className:"card-icon",children:(0,Fe.jsx)("i",{className:"fas fa-user-tie"})}),(0,Fe.jsxs)("div",{className:"card-title",children:[(0,Fe.jsx)("h3",{children:"Manage Employees"}),(0,Fe.jsx)("p",{children:"Create and manage employees scoped to this FPO."})]})]}),(0,Fe.jsxs)("div",{className:"card-actions",children:[(0,Fe.jsxs)("button",{className:"btn btn-primary",onClick:()=>i("/register-employee",{state:{role:"EMPLOYEE",fpoId:n}}),children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add Employee"]}),(0,Fe.jsxs)("button",{className:"btn btn-secondary",onClick:()=>f("employees"),children:[(0,Fe.jsx)("i",{className:"fas fa-eye"}),"View Employees"]})]})]})]}),"farmers"===p&&(0,Fe.jsxs)("section",{className:"panel",style:{marginTop:12},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsx)("h2",{style:{marginTop:0},children:"Farmers"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,Fe.jsx)("input",{value:y,onChange:e=>j(e.target.value),placeholder:"Search name, phone or email",className:"input",style:{padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:8}}),(0,Fe.jsx)("button",{className:"btn",onClick:()=>f("overview")||setTimeout(()=>f("farmers"),0),children:"Refresh"}),(0,Fe.jsx)("button",{className:"btn primary",onClick:()=>i("/register-farmer",{state:{role:"FARMER",fpoId:n}}),children:"Add Farmer"})]})]}),(0,Fe.jsxs)("table",{className:"fpo-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Id"}),(0,Fe.jsx)("th",{children:"Name"}),(0,Fe.jsx)("th",{children:"Phone"}),(0,Fe.jsx)("th",{children:"Email"}),(0,Fe.jsx)("th",{children:"Status"})]})}),(0,Fe.jsxs)("tbody",{children:[g.filter(e=>{const t=y.trim().toLowerCase();return!t||((e.name||"").toLowerCase().includes(t)||(e.phoneNumber||"").toLowerCase().includes(t)||(e.email||"").toLowerCase().includes(t))}).map(e=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:e.id}),(0,Fe.jsx)("td",{children:e.name}),(0,Fe.jsx)("td",{children:e.phoneNumber}),(0,Fe.jsx)("td",{children:e.email}),(0,Fe.jsx)("td",{children:e.status})]},e.id)),0===g.length&&(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:5,style:{textAlign:"center",color:"#64748b"},children:"No farmers yet"})})]})]})]}),"employees"===p&&(0,Fe.jsxs)("section",{className:"panel",style:{marginTop:12},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsx)("h2",{style:{marginTop:0},children:"Employees"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,Fe.jsx)("input",{value:N,onChange:e=>w(e.target.value),placeholder:"Search name, phone or email",className:"input",style:{padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:8}}),(0,Fe.jsx)("button",{className:"btn",onClick:()=>f("overview")||setTimeout(()=>f("employees"),0),children:"Refresh"}),(0,Fe.jsx)("button",{className:"btn primary",onClick:()=>i("/register-employee",{state:{role:"EMPLOYEE",fpoId:n}}),children:"Add Employee"})]})]}),(0,Fe.jsxs)("table",{className:"fpo-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Id"}),(0,Fe.jsx)("th",{children:"Name"}),(0,Fe.jsx)("th",{children:"Email"}),(0,Fe.jsx)("th",{children:"Phone"}),(0,Fe.jsx)("th",{children:"Status"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsxs)("tbody",{children:[x.filter(e=>{const t=N.trim().toLowerCase();if(!t)return!0;return"".concat(e.firstName||""," ").concat(e.lastName||"").trim().toLowerCase().includes(t)||(e.email||"").toLowerCase().includes(t)||(e.phoneNumber||"").toLowerCase().includes(t)}).map(e=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:e.id}),(0,Fe.jsxs)("td",{children:[e.firstName," ",e.lastName]}),(0,Fe.jsx)("td",{children:e.email}),(0,Fe.jsx)("td",{children:e.phoneNumber}),(0,Fe.jsx)("td",{children:e.status}),(0,Fe.jsxs)("td",{style:{display:"flex",gap:8},children:[(0,Fe.jsx)("button",{className:"btn",onClick:async()=>{try{const{fpoUsersAPI:t}=await Promise.resolve().then(s.bind(s,476));await t.toggleActive(n,e.id,!("APPROVED"===e.status)),f("overview"),setTimeout(()=>f("employees"),0)}catch(Qh){alert("Failed to update status")}},children:"APPROVED"===e.status?"Deactivate":"Activate"}),(0,Fe.jsx)("button",{className:"btn",onClick:async()=>{const t=prompt("Enter new password for employee");if(t)try{const{fpoUsersAPI:a}=await Promise.resolve().then(s.bind(s,476));await a.updatePassword(n,e.id,t),alert("Password updated")}catch(Qh){alert("Failed to update password")}},children:"Edit Password"})]})]},e.id)),0===x.length&&(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:6,style:{textAlign:"center",color:"#64748b"},children:"No employees yet"})})]})]})]}),"fpo"===p&&(0,Fe.jsx)("div",{className:"superadmin-overview-section",children:E?(0,Fe.jsx)(Os,{onSuccess:()=>{P(!1),oe()},onCancel:()=>P(!1)}):(0,Fe.jsx)(Fe.Fragment,{children:D?(0,Fe.jsxs)("div",{className:"fpo-detail-view",children:[(0,Fe.jsx)("div",{className:"fpo-detail-header",children:(0,Fe.jsxs)("button",{className:"btn btn-secondary",onClick:()=>_(!1),style:{marginBottom:"20px"},children:[(0,Fe.jsx)("i",{className:"fas fa-arrow-left"}),"Back to FPO List"]})}),(0,Fe.jsxs)("div",{className:"fpo-detail-content",children:[(0,Fe.jsxs)("h2",{children:["FPO Details: ",(null===T||void 0===T?void 0:T.fpoName)||(null===T||void 0===T?void 0:T.name)]}),(0,Fe.jsxs)("p",{children:["FPO ID: ",(null===T||void 0===T?void 0:T.fpoId)||(null===T||void 0===T?void 0:T.id)]}),(0,Fe.jsxs)("p",{children:["Status: ",null===T||void 0===T?void 0:T.status]}),(0,Fe.jsxs)("p",{children:["State: ",null===T||void 0===T?void 0:T.state]}),(0,Fe.jsxs)("p",{children:["District: ",null===T||void 0===T?void 0:T.district]})]})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"superadmin-overview-header",children:[(0,Fe.jsxs)("div",{className:"header-left",children:[(0,Fe.jsx)("h2",{className:"superadmin-overview-title",children:"FPO Management"}),(0,Fe.jsx)("p",{className:"overview-description",children:"Manage Farmer Producer Organizations and their operations."})]}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("div",{className:"overview-actions",children:(0,Fe.jsxs)("button",{onClick:()=>{P(!0)},className:"btn btn-primary",style:{background:"linear-gradient(135deg, #15803d 0%, #22c55e 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(21, 128, 61, 0.25)",display:"flex",alignItems:"center",gap:"8px"},children:[(0,Fe.jsx)("i",{className:"fas fa-plus"}),"Add FPO"]})})})]}),(0,Fe.jsxs)("div",{className:"filters-section",children:[(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"State"}),(0,Fe.jsxs)("select",{value:R.state,onChange:e=>M(t=>(0,Ue.A)((0,Ue.A)({},t),{},{state:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All States"}),(0,Fe.jsx)("option",{value:"Telangana",children:"Telangana"}),(0,Fe.jsx)("option",{value:"Andhrapradesh",children:"Andhrapradesh"}),(0,Fe.jsx)("option",{value:"Maharashtra",children:"Maharashtra"}),(0,Fe.jsx)("option",{value:"Gujarat",children:"Gujarat"}),(0,Fe.jsx)("option",{value:"Punjab",children:"Punjab"}),(0,Fe.jsx)("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),(0,Fe.jsx)("option",{value:"Tamil Nadu",children:"Tamil Nadu"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"District"}),(0,Fe.jsxs)("select",{value:R.district,onChange:e=>M(t=>(0,Ue.A)((0,Ue.A)({},t),{},{district:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Districts"}),(0,Fe.jsx)("option",{value:"Karimnagar",children:"Karimnagar"}),(0,Fe.jsx)("option",{value:"rangareddy",children:"Rangareddy"}),(0,Fe.jsx)("option",{value:"kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"Kadapa",children:"Kadapa"}),(0,Fe.jsx)("option",{value:"kadpaa",children:"Kadpaa"}),(0,Fe.jsx)("option",{value:"Kuppam",children:"Kuppam"}),(0,Fe.jsx)("option",{value:"Pune",children:"Pune"}),(0,Fe.jsx)("option",{value:"Ahmedabad",children:"Ahmedabad"}),(0,Fe.jsx)("option",{value:"Amritsar",children:"Amritsar"}),(0,Fe.jsx)("option",{value:"Lucknow",children:"Lucknow"}),(0,Fe.jsx)("option",{value:"Chennai",children:"Chennai"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Status"}),(0,Fe.jsxs)("select",{value:R.status,onChange:e=>M(t=>(0,Ue.A)((0,Ue.A)({},t),{},{status:e.target.value})),className:"filter-select",children:[(0,Fe.jsx)("option",{value:"",children:"All Status"}),(0,Fe.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,Fe.jsx)("option",{value:"INACTIVE",children:"Inactive"}),(0,Fe.jsx)("option",{value:"PENDING",children:"Pending"})]})]}),(0,Fe.jsxs)("div",{className:"filter-group",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"Search"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Search FPOs...",value:L,onChange:e=>U(e.target.value),className:"filter-input"})]})]}),(0,Fe.jsx)(Ts,{fpos:C,onEdit:e=>{O(e),z(!0)},onView:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"overview";O(e),_(!0),"board-members"===t?W(!0):"services"===t?K(!0):"turnover"===t?G(!0):"crops"===t?Q(!0):"input-shop"===t?Z(!0):"product-categories"===t?ae(!0):"products"===t?ie(!0):"users"===t?le(!0):Y(!0)},onDelete:async e=>{if(window.confirm('Are you sure you want to delete FPO "'.concat(e.fpoName||e.name,'"?')))try{await Oe.fpoAPI.deleteFPO(e.id),await oe()}catch(h){console.error("Error deleting FPO:",h),alert("Failed to delete FPO")}},filters:R,searchTerm:L})]})})})]}),I&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",style:{width:"90%",maxWidth:1100},children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:"Create Farmer"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>F(!1),children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"form-modal-body",children:(0,Fe.jsx)(gs,{isInDashboard:!0,onClose:()=>F(!1),onSubmit:()=>F(!1)})})]})}),B&&T&&(0,Fe.jsx)(Rs,{fpo:T,onClose:()=>{z(!1),O(null)},onSuccess:()=>{z(!1),O(null),oe()}}),V&&T&&(0,Fe.jsx)(Ys,{fpo:T,onClose:()=>{Y(!1),O(null)}}),q&&T&&(0,Fe.jsx)(qs,{fpo:T,onClose:()=>{W(!1),O(null)}}),H&&T&&(0,Fe.jsx)(Ws,{fpo:T,onClose:()=>{K(!1),O(null)}}),$&&T&&(0,Fe.jsx)(Hs,{fpo:T,onClose:()=>{G(!1),O(null)}}),J&&T&&(0,Fe.jsx)(Js,{fpo:T,onClose:()=>{Q(!1),O(null)}}),X&&T&&(0,Fe.jsx)(Ks,{fpo:T,onClose:()=>{Z(!1),O(null)}}),se&&T&&(0,Fe.jsx)($s,{fpo:T,onClose:()=>{ae(!1),O(null)}}),ne&&T&&(0,Fe.jsx)(Gs,{fpo:T,onClose:()=>{ie(!1),O(null)}}),re&&T&&(0,Fe.jsx)(Xs,{fpo:T,onClose:()=>{le(!1),O(null)}})]})},ya=()=>{const{fpoId:e}=te(),[s,a]=(0,t.useState)(!0),[n,i]=(0,t.useState)(""),[r,l]=(0,t.useState)([]),o=async()=>{try{a(!0);const t=(await Oe.fpoUsersAPI.list(e)||[]).filter(e=>"EMPLOYEE"===(e.role||"").toUpperCase());l(t)}catch(Qh){i("Failed to load employees")}finally{a(!1)}};(0,t.useEffect)(()=>{e&&o()},[e]);return s?(0,Fe.jsxs)("div",{className:"admin-loading",children:[(0,Fe.jsx)("div",{className:"spinner"}),(0,Fe.jsx)("span",{children:"Loading Employees\u2026"})]}):n?(0,Fe.jsx)("div",{className:"admin-error",children:n}):(0,Fe.jsxs)("div",{className:"fpo-admin-main",style:{padding:24},children:[(0,Fe.jsx)("h2",{children:"Employees"}),(0,Fe.jsx)("div",{className:"panel",style:{marginTop:12},children:(0,Fe.jsxs)("table",{className:"fpo-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Id"}),(0,Fe.jsx)("th",{children:"Name"}),(0,Fe.jsx)("th",{children:"Email"}),(0,Fe.jsx)("th",{children:"Phone"}),(0,Fe.jsx)("th",{children:"Status"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsxs)("tbody",{children:[r.map(t=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:t.id}),(0,Fe.jsxs)("td",{children:[t.firstName," ",t.lastName]}),(0,Fe.jsx)("td",{children:t.email}),(0,Fe.jsx)("td",{children:t.phoneNumber}),(0,Fe.jsx)("td",{children:t.status}),(0,Fe.jsxs)("td",{style:{display:"flex",gap:8},children:[(0,Fe.jsx)("button",{className:"btn",onClick:()=>(async t=>{try{await Oe.fpoUsersAPI.toggleActive(e,t.id,!("APPROVED"===t.status)),o()}catch(Qh){console.error(Qh),alert("Failed to update status")}})(t),children:"APPROVED"===t.status?"Deactivate":"Activate"}),(0,Fe.jsx)("button",{className:"btn",onClick:()=>(async t=>{const s=prompt("Enter new password for employee");if(s)try{await Oe.fpoUsersAPI.updatePassword(e,t.id,s),alert("Password updated")}catch(Qh){alert("Failed to update password")}})(t),children:"Edit Password"})]})]},t.id)),0===r.length&&(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:6,style:{textAlign:"center",color:"#64748b"},children:"No employees yet"})})]})]})})]})},ja=()=>{const{fpoId:e}=te(),[s,a]=(0,t.useState)(!0),[n,i]=(0,t.useState)(""),[r,l]=(0,t.useState)([]);return(0,t.useEffect)(()=>{e&&(async()=>{try{a(!0);const t=(await Oe.fpoAPI.getFPOMembers(e)||[]).map((e,t)=>({id:e.id||t+1,name:e.name||"".concat(e.firstName||""," ").concat(e.lastName||"").trim(),phoneNumber:e.phoneNumber||e.contactNumber,email:e.email||"-",status:e.status||"ACTIVE"}));l(t)}catch(Qh){i("Failed to load farmers")}finally{a(!1)}})()},[e]),s?(0,Fe.jsxs)("div",{className:"admin-loading",children:[(0,Fe.jsx)("div",{className:"spinner"}),(0,Fe.jsx)("span",{children:"Loading Farmers\u2026"})]}):n?(0,Fe.jsx)("div",{className:"admin-error",children:n}):(0,Fe.jsxs)("div",{className:"fpo-admin-main",style:{padding:24},children:[(0,Fe.jsx)("h2",{children:"Farmers"}),(0,Fe.jsx)("div",{className:"panel",style:{marginTop:12},children:(0,Fe.jsxs)("table",{className:"fpo-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Id"}),(0,Fe.jsx)("th",{children:"Name"}),(0,Fe.jsx)("th",{children:"Phone"}),(0,Fe.jsx)("th",{children:"Email"}),(0,Fe.jsx)("th",{children:"Status"})]})}),(0,Fe.jsxs)("tbody",{children:[r.map(e=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:e.id}),(0,Fe.jsx)("td",{children:e.name}),(0,Fe.jsx)("td",{children:e.phoneNumber}),(0,Fe.jsx)("td",{children:e.email}),(0,Fe.jsx)("td",{children:e.status})]},e.id)),0===r.length&&(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:5,style:{textAlign:"center",color:"#64748b"},children:"No farmers yet"})})]})]})})]})},Na=()=>{var e,a;const{user:n,logout:i}=_e(),[r,l]=(ee(),(0,t.useState)(!0)),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(null),[h,m]=(0,t.useState)([]),[p,f]=(0,t.useState)("farmers"),[g,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[y,j]=(0,t.useState)(null),[N,w]=(0,t.useState)(!1),[S,k]=(0,t.useState)(null),[C,A]=(0,t.useState)("pending"),[E,P]=(0,t.useState)(""),I=(null===n||void 0===n?void 0:n.fpoId)||(null===n||void 0===n?void 0:n.assignedFpoId)||(null===n||void 0===n||null===(e=n.fpo)||void 0===e?void 0:e.id)||(null===n||void 0===n||null===(a=n.fpo)||void 0===a?void 0:a.fpoId);(0,t.useEffect)(()=>{(async()=>{try{if(l(!0),I){const e=await Oe.fpoAPI.getFPOById(I);u(e)}const e=(await Oe.fpoAPI.getFPOMembers(I)||[]).map((e,t)=>({id:e.id||t+1,memberId:e.id,farmerId:e.farmerId,name:e.farmerName||e.name||"".concat(e.firstName||""," ").concat(e.lastName||"").trim(),phone:"-",email:"-",kycStatus:(e.status||"PENDING").toUpperCase(),raw:e})),t=await Promise.all(e.map(async e=>{if(!e.farmerId)return e;try{const t=await Oe.farmersAPI.getFarmerById(e.farmerId);return(0,Ue.A)((0,Ue.A)({},e),{},{name:null!==t&&void 0!==t&&t.firstName?"".concat(t.firstName," ").concat(t.lastName||"").trim():e.name||"-",phone:(null===t||void 0===t?void 0:t.contactNumber)||e.phone,email:(null===t||void 0===t?void 0:t.email)||e.email,kycStatus:((null===t||void 0===t?void 0:t.status)||e.kycStatus||"PENDING").toUpperCase()})}catch(t){return e}}));m(t)}catch(Qh){console.error(Qh),c("Failed to load FPO employee dashboard")}finally{l(!1)}})()},[I]);const F=(0,t.useMemo)(()=>{const e=E.trim().toLowerCase();return h.filter(t=>!("all"!==C&&("pending"===C?"APPROVED"===t.kycStatus:"APPROVED"!==t.kycStatus))&&(!e||((t.name||"").toLowerCase().includes(e)||(t.phone||"").toLowerCase().includes(e)||(t.email||"").toLowerCase().includes(e))))},[h,C,E]),D=(0,t.useMemo)(()=>{const e=h.length,t=h.filter(e=>"APPROVED"===e.kycStatus).length;return{total:e,approved:t,pending:e-t}},[h]);return r?(0,Fe.jsxs)("div",{className:"admin-loading",children:[(0,Fe.jsx)("div",{className:"spinner"}),(0,Fe.jsx)("span",{children:"Loading FPO Employee Dashboard\u2026"})]}):o?(0,Fe.jsx)("div",{className:"admin-error",children:o}):(0,Fe.jsxs)("div",{className:"dashboard",children:[(0,Fe.jsxs)("div",{className:"dashboard-header",children:[(0,Fe.jsx)("div",{className:"header-left",children:(0,Fe.jsxs)("div",{className:"logo-section",children:[(0,Fe.jsx)("h1",{className:"logo-title",children:"DATE"}),(0,Fe.jsx)("p",{className:"logo-subtitle",children:"Digital Agristack"})]})}),(0,Fe.jsx)("div",{className:"header-right",children:(0,Fe.jsx)("div",{className:"user-profile-dropdown",children:(0,Fe.jsxs)("div",{className:"user-profile-trigger",children:[(0,Fe.jsx)("div",{className:"user-avatar",children:((null===n||void 0===n?void 0:n.name)||"E").charAt(0)}),(0,Fe.jsx)("span",{className:"user-email",children:null===n||void 0===n?void 0:n.email})]})})})]}),(0,Fe.jsxs)("div",{className:"dashboard-sidebar",children:[(0,Fe.jsxs)("div",{className:"sidebar-header",children:[(0,Fe.jsx)("h2",{className:"sidebar-welcome",children:"Welcome!!!"}),(0,Fe.jsx)("div",{className:"sidebar-role",children:"FPO Employee"})]}),(0,Fe.jsxs)("div",{className:"sidebar-nav",children:[(0,Fe.jsxs)("div",{className:"nav-item ".concat("farmers"===p?"active":""),onClick:()=>f("farmers"),children:[(0,Fe.jsx)("i",{className:"fas fa-users"}),(0,Fe.jsx)("span",{children:"Farmers"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("pending"===C?"active":""),onClick:()=>A("pending"),children:[(0,Fe.jsx)("i",{className:"fas fa-user-clock"}),(0,Fe.jsx)("span",{children:"Pending KYC"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("approved"===C?"active":""),onClick:()=>A("approved"),children:[(0,Fe.jsx)("i",{className:"fas fa-user-check"}),(0,Fe.jsx)("span",{children:"Approved"})]}),(0,Fe.jsxs)("div",{className:"nav-item ".concat("all"===C?"active":""),onClick:()=>A("all"),children:[(0,Fe.jsx)("i",{className:"fas fa-users"}),(0,Fe.jsx)("span",{children:"All Farmers"})]})]})]}),(0,Fe.jsxs)("div",{className:"dashboard-main",children:[(0,Fe.jsxs)("div",{className:"welcome-section",children:[(0,Fe.jsxs)("h1",{className:"welcome-title",children:[(null===d||void 0===d?void 0:d.fpoName)||"FPO"," \u2014 Employee"]}),(0,Fe.jsx)("p",{className:"welcome-subtitle",children:"Manage KYC for farmers under this FPO."})]}),(0,Fe.jsxs)("div",{className:"stats-grid",children:[(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon",children:(0,Fe.jsx)("i",{className:"fas fa-users"})}),(0,Fe.jsxs)("div",{className:"stats-content",children:[(0,Fe.jsx)("div",{className:"stats-value",children:D.total}),(0,Fe.jsx)("div",{className:"stats-label",children:"Total Farmers"})]})]}),(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon",children:(0,Fe.jsx)("i",{className:"fas fa-user-check"})}),(0,Fe.jsxs)("div",{className:"stats-content",children:[(0,Fe.jsx)("div",{className:"stats-value",children:D.approved}),(0,Fe.jsx)("div",{className:"stats-label",children:"KYC Approved"})]})]}),(0,Fe.jsxs)("div",{className:"stats-card",children:[(0,Fe.jsx)("div",{className:"stats-icon",children:(0,Fe.jsx)("i",{className:"fas fa-user-clock"})}),(0,Fe.jsxs)("div",{className:"stats-content",children:[(0,Fe.jsx)("div",{className:"stats-value",children:D.pending}),(0,Fe.jsx)("div",{className:"stats-label",children:"Pending KYC"})]})]})]}),"farmers"===p&&(0,Fe.jsxs)("section",{className:"panel",style:{marginTop:12},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsx)("h2",{style:{marginTop:0},children:"Farmers"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,Fe.jsx)("input",{className:"input",value:E,onChange:e=>P(e.target.value),placeholder:"Search name/phone/email",style:{padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:8}}),(0,Fe.jsx)("button",{className:"btn",onClick:()=>P(""),children:"Clear"}),(0,Fe.jsx)("button",{className:"btn primary",onClick:()=>v(!0),children:"Add Farmer"})]})]}),(0,Fe.jsxs)("table",{className:"fpo-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Id"}),(0,Fe.jsx)("th",{children:"Name"}),(0,Fe.jsx)("th",{children:"Phone"}),(0,Fe.jsx)("th",{children:"Email"}),(0,Fe.jsx)("th",{children:"KYC Status"}),(0,Fe.jsx)("th",{children:"Actions"})]})}),(0,Fe.jsxs)("tbody",{children:[F.map(e=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:e.id}),(0,Fe.jsx)("td",{children:e.name}),(0,Fe.jsx)("td",{children:e.phone}),(0,Fe.jsx)("td",{children:e.email}),(0,Fe.jsx)("td",{children:e.kycStatus}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{className:"action-dropdown",style:{position:"relative"},children:[(0,Fe.jsx)("button",{className:"dropdown-toggle",children:"\u22ef"}),(0,Fe.jsxs)("div",{className:"dropdown-menu dropdown-menu-bottom",style:{display:"block",position:"absolute",right:0},children:[(0,Fe.jsx)("button",{className:"dropdown-item",onClick:async()=>{try{const t=await Oe.farmersAPI.getFarmerById(e.farmerId||e.id);k(t),w(!0)}catch(Qh){alert("Failed to load farmer")}},children:"View"}),"APPROVED"!==e.kycStatus&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{className:"dropdown-item",onClick:()=>{j(e),b(!0)},children:"Review & Approve"}),(0,Fe.jsx)("button",{className:"dropdown-item",onClick:()=>(async e=>{try{await Oe.kycAPI.rejectFarmerKyc(e.id,"Rejected by employee"),m(t=>t.map(t=>t.id===e.id?(0,Ue.A)((0,Ue.A)({},t),{},{kycStatus:"REJECTED"}):t))}catch(Qh){alert("Failed to reject KYC")}})(e),children:"Reject KYC"})]})]})]})})]},e.id)),0===F.length&&(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:6,style:{textAlign:"center",color:"#64748b"},children:"No farmers"})})]})]})]}),g&&(0,Fe.jsx)("div",{className:"form-modal-overlay",children:(0,Fe.jsxs)("div",{className:"form-modal-content",style:{width:"90%",maxWidth:1100},children:[(0,Fe.jsxs)("div",{className:"form-modal-header",children:[(0,Fe.jsx)("h3",{children:"Create Farmer"}),(0,Fe.jsx)("button",{className:"close-btn",onClick:()=>v(!1),children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"form-modal-body",children:(0,Fe.jsx)(gs,{isInDashboard:!0,onClose:()=>v(!1),onSubmit:async e=>{v(!1),setTimeout(async()=>{try{const o=await Oe.farmersAPI.createFarmer((0,Ue.A)((0,Ue.A)({},e),{},{fpoId:I}));try{null===n||void 0===n||n.email;const e=(null===n||void 0===n?void 0:n.id)||(null===n||void 0===n?void 0:n.employeeId);var t,a;if(e&&(null!==o&&void 0!==o&&o.id||null!==o&&void 0!==o&&o.farmerId))await(null===(t=(await Promise.resolve().then(s.bind(s,476))).adminAPI)||void 0===t||null===(a=t.assignFarmerToEmployee)||void 0===a?void 0:a.call(t,o.id||o.farmerId,e))}catch(r){console.warn("Assignment skipped",r)}try{var i;await Oe.fpoAPI.addMemberToFPO(I,{memberType:"FARMER",farmerId:(null===o||void 0===o?void 0:o.id)||(null===o||void 0===o?void 0:o.farmerId)||(null===o||void 0===o||null===(i=o.farmer)||void 0===i?void 0:i.id)})}catch(l){console.warn("Failed to link farmer as FPO member",l)}const c=(await Oe.fpoAPI.getFPOMembers(I)||[]).map((e,t)=>({id:e.id||t+1,memberId:e.id,farmerId:e.farmerId,name:e.farmerName||e.name||"".concat(e.firstName||""," ").concat(e.lastName||"").trim(),phone:"-",email:"-",kycStatus:(e.status||"PENDING").toUpperCase(),raw:e})),d=await Promise.all(c.map(async e=>{if(!e.farmerId)return e;try{const t=await Oe.farmersAPI.getFarmerById(e.farmerId);return(0,Ue.A)((0,Ue.A)({},e),{},{name:null!==t&&void 0!==t&&t.firstName?"".concat(t.firstName," ").concat(t.lastName||"").trim():e.name||"-",phone:(null===t||void 0===t?void 0:t.contactNumber)||e.phone,email:(null===t||void 0===t?void 0:t.email)||e.email,kycStatus:((null===t||void 0===t?void 0:t.status)||e.kycStatus||"PENDING").toUpperCase()})}catch(t){return e}}));m(d)}catch(o){}},500)}})})]})}),x&&y&&(0,Fe.jsx)(ga,{farmer:{id:y.farmerId||y.id,name:y.name,phone:y.phone,location:(null===d||void 0===d?void 0:d.district)||"",kycStatus:y.kycStatus},onClose:()=>{b(!1),j(null)},onApprove:async(e,t)=>{try{var s,a;await(null===(s=Oe.kycAPI.approveKYC)||void 0===s?void 0:s.call(Oe.kycAPI,e))||await(null===(a=Oe.kycAPI.approveFarmerKyc)||void 0===a?void 0:a.call(Oe.kycAPI,e,t)),m(t=>t.map(t=>t.farmerId===e||t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{kycStatus:"APPROVED"}):t))}catch(Qh){alert("Failed to approve")}},onReject:async(e,t)=>{try{var s,a;await(null===(s=Oe.kycAPI.rejectKYC)||void 0===s?void 0:s.call(Oe.kycAPI,e,{reason:t}))||await(null===(a=Oe.kycAPI.rejectFarmerKyc)||void 0===a?void 0:a.call(Oe.kycAPI,e,t)),m(t=>t.map(t=>t.farmerId===e||t.id===e?(0,Ue.A)((0,Ue.A)({},t),{},{kycStatus:"REJECTED"}):t))}catch(Qh){alert("Failed to reject")}},onReferBack:async(e,t)=>{try{var s,a;await(null===(s=Oe.kycAPI.referBackKYC)||void 0===s?void 0:s.call(Oe.kycAPI,e,{reason:t}))||await(null===(a=Oe.kycAPI.referBackFarmerKyc)||void 0===a?void 0:a.call(Oe.kycAPI,e,t))}catch(Qh){console.log("Refer-back not implemented")}}}),N&&S&&(0,Fe.jsx)("div",{className:"modal-overlay",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h2",{children:["Farmer Details - ",S.firstName," ",S.lastName]}),(0,Fe.jsx)("button",{className:"modal-close",onClick:()=>{w(!1),k(null)},children:"\xd7"})]}),(0,Fe.jsx)("div",{className:"modal-body",children:(0,Fe.jsxs)("div",{className:"info-grid",children:[(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Name:"}),(0,Fe.jsxs)("span",{children:[S.firstName," ",S.lastName]})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Phone:"}),(0,Fe.jsx)("span",{children:S.contactNumber||"-"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Email:"}),(0,Fe.jsx)("span",{children:S.email||"-"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Village:"}),(0,Fe.jsx)("span",{children:S.village||"-"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"District:"}),(0,Fe.jsx)("span",{children:S.district||"-"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"State:"}),(0,Fe.jsx)("span",{children:S.state||"-"})]}),(0,Fe.jsxs)("div",{className:"info-item",children:[(0,Fe.jsx)("label",{children:"Status:"}),(0,Fe.jsx)("span",{children:S.status||"-"})]})]})})]})})]})]})},wa=()=>(0,Fe.jsx)(gs,{isInDashboard:!1,onSubmit:async e=>{try{console.log("Farmer registration submitted:",e),alert("Farmer registration completed successfully!")}catch(t){console.error("Error submitting farmer registration:",t),alert("Error submitting form. Please try again.")}}}),Sa=()=>(0,Fe.jsx)(xs,{isInDashboard:!1,onSubmit:async e=>{try{console.log("Employee registration submitted:",e),alert("Employee registration completed successfully!")}catch(t){console.error("Error submitting employee registration:",t),alert("Error submitting form. Please try again.")}}}),ka=(e,t,s)=>{if(e&&"reportValidity"in e){const a=lt(s,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},Ca=(e,t)=>{for(const s in t.fields){const a=t.fields[s];a&&a.ref&&"reportValidity"in a.ref?ka(a.ref,s,e):a&&a.refs&&a.refs.forEach(t=>ka(t,s,e))}},Aa=(e,t)=>{t.shouldUseNativeValidation&&Ca(e,t);const s={};for(const a in e){const n=lt(t.fields,a),i=Object.assign(e[a]||{},{ref:n&&n.ref});if(Ea(t.names||Object.keys(e),a)){const e=Object.assign({},lt(s,a));ct(e,"root",i),ct(s,a,e)}else ct(s,a,i)}return s},Ea=(e,t)=>{const s=Pa(t);return e.some(e=>Pa(e).match("^".concat(s,"\\.\\d+")))};function Pa(e){return e.replace(/\]|\[/g,"")}function Ia(e,t,s){return void 0===s&&(s={}),function(a,n,i){try{return Promise.resolve(function(r,l){try{var o=(null!=t&&t.context,Promise.resolve(e["sync"===s.mode?"validateSync":"validate"](a,Object.assign({abortEarly:!1},t,{context:n}))).then(function(e){return i.shouldUseNativeValidation&&Ca({},i),{values:s.raw?Object.assign({},a):e,errors:{}}}))}catch(Qh){return l(Qh)}return o&&o.then?o.then(void 0,l):o}(0,function(e){if(!e.inner)throw e;return{values:{},errors:Aa((t=e,s=!i.shouldUseNativeValidation&&"all"===i.criteriaMode,(t.inner||[]).reduce(function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),s){var a=e[t.path].types,n=a&&a[t.type];e[t.path]=Dt(t.path,s,e,t.type,n?[].concat(n,t.message):t.message)}return e},{})),i)};var t,s}))}catch(Qh){return Promise.reject(Qh)}}}var Fa=s(575),Da=s(517),_a=s(704),Ta=s.n(_a);const Oa=Object.prototype.toString,Ra=Error.prototype.toString,Ma=RegExp.prototype.toString,La="undefined"!==typeof Symbol?Symbol.prototype.toString:()=>"",Ua=/^Symbol\((.*)\)(.*)$/;function Ba(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;const s=typeof e;if("number"===s)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===s)return t?'"'.concat(e,'"'):e;if("function"===s)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===s)return La.call(e).replace(Ua,"Symbol($1)");const a=Oa.call(e).slice(8,-1);return"Date"===a?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===a||e instanceof Error?"["+Ra.call(e)+"]":"RegExp"===a?Ma.call(e):null}function za(e,t){let s=Ba(e,t);return null!==s?s:JSON.stringify(e,function(e,s){let a=Ba(this[e],t);return null!==a?a:s},2)}function Va(e){return null==e?[]:[].concat(e)}let Ya,qa,Wa,Ha=/\$\{\s*(\w+)\s*\}/g;Ya=Symbol.toStringTag;class Ka{constructor(e,t,s,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Ya]="Error",this.name="ValidationError",this.value=t,this.path=s,this.type=a,this.errors=[],this.inner=[],Va(e).forEach(e=>{if($a.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)}),this.message=this.errors.length>1?"".concat(this.errors.length," errors occurred"):this.errors[0]}}qa=Symbol.hasInstance,Wa=Symbol.toStringTag;class $a extends Error{static formatError(e,t){const s=t.label||t.path||"this";return t=Object.assign({},t,{path:s,originalPath:t.path}),"string"===typeof e?e.replace(Ha,(e,s)=>za(t[s])):"function"===typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,s,a,n){const i=new Ka(e,t,s,a);if(n)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Wa]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,$a)}static[qa](e){return Ka[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ga={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:e=>{let{path:t,type:s,value:a,originalValue:n}=e;const i=null!=n&&n!==a?" (cast from the value `".concat(za(n,!0),"`)."):".";return"mixed"!==s?"".concat(t," must be a `").concat(s,"` type, ")+"but the final value was: `".concat(za(a,!0),"`")+i:"".concat(t," must match the configured type. ")+"The validated value was: `".concat(za(a,!0),"`")+i}},Ja={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Qa={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Xa={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Za={isValue:"${path} field must be ${value}"},en={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},tn={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},sn={notType:e=>{const{path:t,value:s,spec:a}=e,n=a.types.length;if(Array.isArray(s)){if(s.length<n)return"".concat(t," tuple value has too few items, expected a length of ").concat(n," but got ").concat(s.length," for value: `").concat(za(s,!0),"`");if(s.length>n)return"".concat(t," tuple value has too many items, expected a length of ").concat(n," but got ").concat(s.length," for value: `").concat(za(s,!0),"`")}return $a.formatError(Ga.notType,e)}};Object.assign(Object.create(null),{mixed:Ga,string:Ja,number:Qa,date:Xa,object:en,array:tn,boolean:Za,tuple:sn});const an=e=>e&&e.__isYupSchema__;class nn{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:s,then:a,otherwise:n}=t,i="function"===typeof s?s:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.every(e=>e===s)};return new nn(e,(e,t)=>{var s;let r=i(...e)?a:n;return null!=(s=null==r?void 0:r(t))?s:t})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let s=this.refs.map(e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)),a=this.fn(s,e,t);if(void 0===a||a===e)return e;if(!an(a))throw new TypeError("conditions must return a schema object");return a.resolve(t)}}const rn="$",ln=".";class on{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===rn,this.isValue=this.key[0]===ln,this.isSibling=!this.isContext&&!this.isValue;let s=this.isContext?rn:this.isValue?ln:"";this.path=this.key.slice(s.length),this.getter=this.path&&(0,Fa.getter)(this.path,!0),this.map=t.map}getValue(e,t,s){let a=this.isContext?s:this.isValue?e:t;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return"Ref(".concat(this.key,")")}static isRef(e){return e&&e.__isYupRef}}on.prototype.__isYupRef=!0;const cn=e=>null==e;function dn(e){function t(t,s,a){let{value:n,path:i="",options:r,originalValue:l,schema:o}=t;const{name:c,test:d,params:u,message:h,skipAbsent:m}=e;let{parent:p,context:f,abortEarly:g=o.spec.abortEarly,disableStackTrace:v=o.spec.disableStackTrace}=r;const x={value:n,parent:p,context:f};function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=un(Object.assign({value:n,originalValue:l,label:o.spec.label,path:e.path||i,spec:o.spec,disableStackTrace:e.disableStackTrace||v},u,e.params),x),s=new $a($a.formatError(e.message||h,t),n,t.path,e.type||c,t.disableStackTrace);return s.params=t,s}const y=g?s:a;let j={path:i,parent:p,type:c,from:r.from,createError:b,resolve:e=>hn(e,x),options:r,originalValue:l,schema:o};const N=e=>{$a.isError(e)?y(e):e?a(null):y(b())},w=e=>{$a.isError(e)?y(e):s(e)};if(m&&cn(n))return N(!0);let S;try{var k;if(S=d.call(j,n,j),"function"===typeof(null==(k=S)?void 0:k.then)){if(r.sync)throw new Error('Validation test of type: "'.concat(j.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned");return Promise.resolve(S).then(N,w)}}catch(C){return void w(C)}N(S)}return t.OPTIONS=e,t}function un(e,t){if(!e)return e;for(const s of Object.keys(e))e[s]=hn(e[s],t);return e}function hn(e,t){return on.isRef(e)?e.getValue(t.value,t.parent,t.context):e}function mn(e,t,s){let a,n,i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;return t?((0,Fa.forEach)(t,(l,o,c)=>{let d=o?l.slice(1,l.length-1):l,u="tuple"===(e=e.resolve({context:r,parent:a,value:s})).type,h=c?parseInt(d,10):0;if(e.innerType||u){if(u&&!c)throw new Error('Yup.reach cannot implicitly index into a tuple type. the path part "'.concat(i,'" must contain an index to the tuple element, e.g. "').concat(i,'[0]"'));if(s&&h>=s.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(l,", in the path: ").concat(t,". ")+"because there is no value at that index. ");a=s,s=s&&s[h],e=u?e.spec.types[h]:e.innerType}if(!c){if(!e.fields||!e.fields[d])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(i,' which is a type: "').concat(e.type,'")'));a=s,s=s&&s[d],e=e.fields[d]}n=d,i=o?"["+l+"]":"."+l}),{schema:e,parent:a,parentPath:n}):{parent:a,parentPath:t,schema:e}}class pn extends Set{describe(){const e=[];for(const t of this.values())e.push(on.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const s of this.values())t.push(e(s));return t}clone(){return new pn(this.values())}merge(e,t){const s=this.clone();return e.forEach(e=>s.add(e)),t.forEach(e=>s.delete(e)),s}}function fn(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(an(e)||!e||"object"!==typeof e)return e;if(s.has(e))return s.get(e);if(e instanceof Date)t=new Date(e.getTime()),s.set(e,t);else if(e instanceof RegExp)t=new RegExp(e),s.set(e,t);else if(Array.isArray(e)){t=new Array(e.length),s.set(e,t);for(let a=0;a<e.length;a++)t[a]=fn(e[a],s)}else if(e instanceof Map){t=new Map,s.set(e,t);for(const[a,n]of e.entries())t.set(a,fn(n,s))}else if(e instanceof Set){t=new Set,s.set(e,t);for(const a of e)t.add(fn(a,s))}else{if(!(e instanceof Object))throw Error("Unable to clone ".concat(e));t={},s.set(e,t);for(const[a,n]of Object.entries(e))t[a]=fn(n,s)}return t}function gn(e){if(null==e||!e.length)return;const t=[];let s="",a=!1,n=!1;for(let i=0;i<e.length;i++){const r=e[i];"["!==r||n?"]"!==r||n?'"'!==r?"."!==r||a||n?s+=r:s&&(t.push(s),s=""):n=!n:(s&&(/^\d+$/.test(s)?t.push(s):t.push(s.replace(/^"|"$/g,"")),s=""),a=!1):(s&&(t.push(...s.split(".").filter(Boolean)),s=""),a=!0)}return s&&t.push(...s.split(".").filter(Boolean)),t}function vn(e,t){var s;if((null==(s=e.inner)||!s.length)&&e.errors.length)return function(e,t){const s=t?"".concat(t,".").concat(e.path):e.path;return e.errors.map(e=>({message:e,path:gn(s)}))}(e,t);const a=t?"".concat(t,".").concat(e.path):e.path;return e.inner.flatMap(e=>vn(e,a))}class xn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new pn,this._blacklist=new pn,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ga.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=fn(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(){if(0===arguments.length)return this.spec.meta;let e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}withMutation(e){let t=this._mutate;this._mutate=!0;let s=e(this);return this._mutate=t,s}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));let t=this,s=e.clone();const a=Object.assign({},t.spec,s.spec);return s.spec=a,s.internalTests=Object.assign({},t.internalTests,s.internalTests),s._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),s._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),s.tests=t.tests,s.exclusiveTests=t.exclusiveTests,s.withMutation(t=>{e.tests.forEach(e=>{t.test(e.OPTIONS)})}),s.transforms=[...t.transforms,...s.transforms],s}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let s=t.conditions;t=t.clone(),t.conditions=[],t=s.reduce((t,s)=>s.resolve(t,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,s,a,n;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(s=e.abortEarly)?s:this.spec.abortEarly,recursive:null!=(a=e.recursive)?a:this.spec.recursive,disableStackTrace:null!=(n=e.disableStackTrace)?n:this.spec.disableStackTrace})}cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.resolve(Object.assign({value:e},t)),a="ignore-optionality"===t.assert,n=s._cast(e,t);if(!1!==t.assert&&!s.isType(n)){if(a&&cn(n))return n;let i=za(e),r=za(n);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(s.type,'". \n\n')+"attempted value: ".concat(i," \n")+(r!==i?"result of cast: ".concat(r):""))}return n}_cast(e,t){let s=void 0===e?e:this.transforms.reduce((t,s)=>s.call(this,t,e,this),e);return void 0===s&&(s=this.getDefault(t)),s}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,{path:n,originalValue:i=e,strict:r=this.spec.strict}=t,l=e;r||(l=this._cast(l,Object.assign({assert:!1},t)));let o=[];for(let c of Object.values(this.internalTests))c&&o.push(c);this.runTests({path:n,value:l,originalValue:i,options:t,tests:o},s,e=>{if(e.length)return a(e,l);this.runTests({path:n,value:l,originalValue:i,options:t,tests:this.tests},s,a)})}runTests(e,t,s){let a=!1,{tests:n,value:i,originalValue:r,path:l,options:o}=e,c=e=>{a||(a=!0,t(e,i))},d=e=>{a||(a=!0,s(e,i))},u=n.length,h=[];if(!u)return d([]);let m={value:i,originalValue:r,path:l,options:o,schema:this};for(let p=0;p<n.length;p++){(0,n[p])(m,c,function(e){e&&(Array.isArray(e)?h.push(...e):h.push(e)),--u<=0&&d(h)})}}asNestedTest(e){let{key:t,index:s,parent:a,parentPath:n,originalParent:i,options:r}=e;const l=null!=t?t:s;if(null==l)throw TypeError("Must include `key` or `index` for nested validations");const o="number"===typeof l;let c=a[l];const d=Object.assign({},r,{strict:!0,parent:a,value:c,originalValue:i[l],key:void 0,[o?"index":"key"]:l,path:o||l.includes(".")?"".concat(n||"","[").concat(o?l:'"'.concat(l,'"'),"]"):(n?"".concat(n,"."):"")+t});return(e,t,s)=>this.resolve(d)._validate(c,d,t,s)}validate(e,t){var s;let a=this.resolve(Object.assign({},t,{value:e})),n=null!=(s=null==t?void 0:t.disableStackTrace)?s:a.spec.disableStackTrace;return new Promise((s,i)=>a._validate(e,t,(e,t)=>{$a.isError(e)&&(e.value=t),i(e)},(e,t)=>{e.length?i(new $a(e,t,void 0,void 0,n)):s(t)}))}validateSync(e,t){var s;let a,n=this.resolve(Object.assign({},t,{value:e})),i=null!=(s=null==t?void 0:t.disableStackTrace)?s:n.spec.disableStackTrace;return n._validate(e,Object.assign({},t,{sync:!0}),(e,t)=>{throw $a.isError(e)&&(e.value=t),e},(t,s)=>{if(t.length)throw new $a(t,e,void 0,void 0,i);a=s}),a}isValid(e,t){return this.validate(e,t).then(()=>!0,e=>{if($a.isError(e))return!1;throw e})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(s){if($a.isError(s))return!1;throw s}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"===typeof t?t.call(this,e):fn(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clone({strict:e})}nullability(e,t){const s=this.clone({nullable:e});return s.internalTests.nullable=dn({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),s}optionality(e,t){const s=this.clone({optional:e});return s.internalTests.optionality=dn({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),s}optional(){return this.optionality(!0)}defined(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga.defined;return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga.notNull;return this.nullability(!1,e)}required(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga.required;return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(){let e;if(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]},void 0===e.message&&(e.message=Ga.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");let t=this.clone(),s=dn(e),a=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter(t=>{if(t.OPTIONS.name===e.name){if(a)return!1;if(t.OPTIONS.test===s.OPTIONS.test)return!1}return!0}),t.tests.push(s),t}when(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");let s=this.clone(),a=Va(e).map(e=>new on(e));return a.forEach(e=>{e.isSibling&&s.deps.push(e.key)}),s.conditions.push("function"===typeof t?new nn(a,t):nn.fromOptions(a,t)),s}typeError(e){let t=this.clone();return t.internalTests.typeError=dn({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ga.oneOf,s=this.clone();return e.forEach(e=>{s._whitelist.add(e),s._blacklist.delete(e)}),s.internalTests.whiteList=dn({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,s=t.resolveAll(this.resolve);return!!s.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:s}})}}),s}notOneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ga.notOneOf,s=this.clone();return e.forEach(e=>{s._blacklist.add(e),s._whitelist.delete(e)}),s.internalTests.blacklist=dn({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,s=t.resolveAll(this.resolve);return!s.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:s}})}}),s}strip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:s,meta:a,optional:n,nullable:i}=t.spec,r={meta:a,label:s,optional:n,nullable:i,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((e,t,s)=>s.findIndex(t=>t.OPTIONS.name===e.OPTIONS.name)===t).map(t=>{const s=t.OPTIONS.params&&e?un(Object.assign({},t.OPTIONS.params),e):t.OPTIONS.params;return{name:t.OPTIONS.name,params:s}})};return r}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(t){try{return{value:await e.validate(t,{abortEarly:!1})}}catch(s){if(s instanceof $a)return{issues:vn(s)};throw s}}}}}xn.prototype.__isYupSchema__=!0;for(const s of["validate","validateSync"])xn.prototype["".concat(s,"At")]=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{parent:n,parentPath:i,schema:r}=mn(this,e,t,a.context);return r[s](n&&n[i],Object.assign({},a,{parent:n,path:e}))};for(const s of["equals","is"])xn.prototype[s]=xn.prototype.oneOf;for(const s of["not","nope"])xn.prototype[s]=xn.prototype.notOneOf;const bn=()=>!0;class yn extends xn{constructor(e){super("function"===typeof e?{type:"mixed",check:e}:Object.assign({type:"mixed",check:bn},e))}}yn.prototype;class jn extends xn{constructor(){super({type:"boolean",check:e=>(e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e)}),this.withMutation(()=>{this.transform((e,t,s)=>{if(s.spec.coerce&&!s.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>cn(e)||!0===e})}isFalse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>cn(e)||!1===e})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}jn.prototype;const Nn=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function wn(e){var t,s;const a=Nn.exec(e);return a?{year:Sn(a[1]),month:Sn(a[2],1)-1,day:Sn(a[3],1),hour:Sn(a[4]),minute:Sn(a[5]),second:Sn(a[6]),millisecond:a[7]?Sn(a[7].substring(0,3)):0,precision:null!=(t=null==(s=a[7])?void 0:s.length)?t:void 0,z:a[8]||void 0,plusMinus:a[9]||void 0,hourOffset:Sn(a[10]),minuteOffset:Sn(a[11])}:null}function Sn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number(e)||t}let kn=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Cn=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,An=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,En=new RegExp("".concat("^\\d{4}-\\d{2}-\\d{2}","T").concat("\\d{2}:\\d{2}:\\d{2}","(\\.\\d+)?").concat("(([+-]\\d{2}(:?\\d{2})?)|Z)","$")),Pn=e=>cn(e)||e===e.trim(),In={}.toString();function Fn(){return new Dn}class Dn extends xn{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"===typeof e)}),this.withMutation(()=>{this.transform((e,t,s)=>{if(!s.spec.coerce||s.isType(e))return e;if(Array.isArray(e))return e;const a=null!=e&&e.toString?e.toString():e;return a===In?e:a})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Ga.required,name:"required",skipAbsent:!0,test:e=>!!e.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(e=>"required"!==e.OPTIONS.name),e))}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ja.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ja.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ja.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let s,a,n=!1;return t&&("object"===typeof t?({excludeEmptyString:n=!1,message:s,name:a}=t):s=t),this.test({name:a||"matches",message:s||Ja.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&n||-1!==t.search(e)})}email(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja.email;return this.matches(kn,{name:"email",message:e,excludeEmptyString:!0})}url(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja.url;return this.matches(Cn,{name:"url",message:e,excludeEmptyString:!0})}uuid(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja.uuid;return this.matches(An,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,s,a="";return e&&("object"===typeof e?({message:a="",allowOffset:t=!1,precision:s}=e):a=e),this.matches(En,{name:"datetime",message:a||Ja.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:a||Ja.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const s=wn(e);return!!s&&!!s.z}}).test({name:"datetime_precision",message:a||Ja.datetime_precision,params:{precision:s},skipAbsent:!0,test:e=>{if(!e||void 0==s)return!0;const t=wn(e);return!!t&&t.precision===s}})}ensure(){return this.default("").transform(e=>null===e?"":e)}trim(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja.trim;return this.transform(e=>null!=e?e.trim():e).test({message:e,name:"trim",test:Pn})}lowercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja.lowercase;return this.transform(e=>cn(e)?e:e.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>cn(e)||e===e.toLowerCase()})}uppercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja.uppercase;return this.transform(e=>cn(e)?e:e.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>cn(e)||e===e.toUpperCase()})}}Fn.prototype=Dn.prototype;class _n extends xn{constructor(){super({type:"number",check:e=>(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!(e=>e!=+e)(e))}),this.withMutation(()=>{this.transform((e,t,s)=>{if(!s.spec.coerce)return e;let a=e;if("string"===typeof a){if(a=a.replace(/\s/g,""),""===a)return NaN;a=+a}return s.isType(a)||null===a?a:parseFloat(a)})})}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qa.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qa.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t<=this.resolve(e)}})}lessThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qa.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(t){return t<this.resolve(e)}})}moreThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qa.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(t){return t>this.resolve(e)}})}positive(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa.positive;return this.moreThan(0,e)}negative(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa.negative;return this.lessThan(0,e)}integer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa.integer;return this.test({name:"integer",message:e,skipAbsent:!0,test:e=>Number.isInteger(e)})}truncate(){return this.transform(e=>cn(e)?e:0|e)}round(e){var t;let s=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===s.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+s.join(", "));return this.transform(t=>cn(t)?t:Math[e](t))}}_n.prototype;let Tn=new Date("");function On(){return new Rn}class Rn extends xn{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation(()=>{this.transform((e,t,s)=>!s.spec.coerce||s.isType(e)||null===e?e:(e=function(e){const t=wn(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let s=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(s=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(s=0-s)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+s,t.second,t.millisecond)}(e),isNaN(e)?Rn.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let s;if(on.isRef(e))s=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));s=a}return s}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xa.min,s=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(s)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xa.max,s=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(s)}})}}function Mn(e,t){let s=1/0;return e.some((e,a)=>{var n;if(null!=(n=t.path)&&n.includes(e))return s=a,!0}),s}function Ln(e){return(t,s)=>Mn(e,t)-Mn(e,s)}Rn.INVALID_DATE=Tn,On.prototype=Rn.prototype,On.INVALID_DATE=Tn;const Un=(e,t,s)=>{if("string"!==typeof e)return e;let a=e;try{a=JSON.parse(e)}catch(n){}return s.isType(a)?a:e};function Bn(e){if("fields"in e){const t={};for(const[s,a]of Object.entries(e.fields))t[s]=Bn(a);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=Bn(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(Bn)}):"optional"in e?e.optional():e}let zn=e=>"[object Object]"===Object.prototype.toString.call(e);function Vn(e,t){let s=Object.keys(e.fields);return Object.keys(t).filter(e=>-1===s.indexOf(e))}const Yn=Ln([]);function qn(e){return new Wn(e)}class Wn extends xn{constructor(e){super({type:"object",check:e=>zn(e)||"function"===typeof e}),this.fields=Object.create(null),this._sortErrors=Yn,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s;let a=super._cast(e,t);if(void 0===a)return this.getDefault(t);if(!this._typeCheck(a))return a;let n=this.fields,i=null!=(s=t.stripUnknown)?s:this.spec.noUnknown,r=[].concat(this._nodes,Object.keys(a).filter(e=>!this._nodes.includes(e))),l={},o=Object.assign({},t,{parent:l,__validating:t.__validating||!1}),c=!1;for(const d of r){let e=n[d],s=d in a;if(e){let s,n=a[d];o.path=(t.path?"".concat(t.path,"."):"")+d,e=e.resolve({value:n,context:t.context,parent:l});let i=e instanceof xn?e.spec:void 0,r=null==i?void 0:i.strict;if(null!=i&&i.strip){c=c||d in a;continue}s=t.__validating&&r?a[d]:e.cast(a[d],o),void 0!==s&&(l[d]=s)}else s&&!i&&(l[d]=a[d]);s===d in l&&l[d]===a[d]||(c=!0)}return c?l:a}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,{from:n=[],originalValue:i=e,recursive:r=this.spec.recursive}=t;t.from=[{schema:this,value:i},...n],t.__validating=!0,t.originalValue=i,super._validate(e,t,s,(e,n)=>{if(!r||!zn(n))return void a(e,n);i=i||n;let l=[];for(let s of this._nodes){let e=this.fields[s];e&&!on.isRef(e)&&l.push(e.asNestedTest({options:t,key:s,parent:n,parentPath:t.path,originalParent:i}))}this.runTests({tests:l,value:n,originalValue:i,options:t},s,t=>{a(t.sort(this._sortErrors).concat(e),n)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),s=t.fields;for(let[a,n]of Object.entries(this.fields)){const e=s[a];s[a]=void 0===e?n:e}return t.withMutation(t=>t.setFields(s,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(s=>{var a;const n=this.fields[s];let i=e;null!=(a=i)&&a.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[s]})),t[s]=n&&"getDefault"in n?n.getDefault(i):void 0}),t}setFields(e,t){let s=this.clone();return s.fields=e,s._nodes=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[],a=new Set,n=new Set(t.map(e=>{let[t,s]=e;return"".concat(t,"-").concat(s)}));function i(e,t){let i=(0,Fa.split)(e)[0];a.add(i),n.has("".concat(t,"-").concat(i))||s.push([t,i])}for(const r of Object.keys(e)){let t=e[r];a.add(r),on.isRef(t)&&t.isSibling?i(t.path,r):an(t)&&"deps"in t&&t.deps.forEach(e=>i(e,r))}return Ta().array(Array.from(a),s).reverse()}(e,t),s._sortErrors=Ln(Object.keys(e)),t&&(s._excludedEdges=t),s}shape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.clone().withMutation(s=>{let a=s._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),a=[...s._excludedEdges,...t]),s.setFields(Object.assign(s.fields,e),a)})}partial(){const e={};for(const[t,s]of Object.entries(this.fields))e[t]="optional"in s&&s.optional instanceof Function?s.optional():s;return this.setFields(e)}deepPartial(){return Bn(this)}pick(e){const t={};for(const s of e)this.fields[s]&&(t[s]=this.fields[s]);return this.setFields(t,this._excludedEdges.filter(t=>{let[s,a]=t;return e.includes(s)&&e.includes(a)}))}omit(e){const t=[];for(const s of Object.keys(this.fields))e.includes(s)||t.push(s);return this.pick(t)}from(e,t,s){let a=(0,Fa.getter)(e,!0);return this.transform(n=>{if(!n)return n;let i=n;return((e,t)=>{const s=[...(0,Fa.normalizePath)(t)];if(1===s.length)return s[0]in e;let a=s.pop(),n=(0,Fa.getter)((0,Fa.join)(s),!0)(e);return!(!n||!(a in n))})(n,e)&&(i=Object.assign({},n),s||delete i[e],i[t]=a(n)),i})}json(){return this.transform(Un)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||en.exact,test(e){if(null==e)return!0;const t=Vn(this.schema,e);return 0===t.length||this.createError({params:{properties:t.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:en.noUnknown;"boolean"!==typeof e&&(t=e,e=!0);let s=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const s=Vn(this.schema,t);return!e||0===s.length||this.createError({params:{unknown:s.join(", ")}})}});return s.spec.noUnknown=e,s}unknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:en.noUnknown;return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const s={};for(const a of Object.keys(t))s[e(a)]=t[a];return s})}camelCase(){return this.transformKeys(Da.camelCase)}snakeCase(){return this.transformKeys(Da.snakeCase)}constantCase(){return this.transformKeys(e=>(0,Da.snakeCase)(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),s=super.describe(e);s.fields={};for(const[n,i]of Object.entries(t.fields)){var a;let t=e;null!=(a=t)&&a.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[n]})),s.fields[n]=i.describe(t)}return s}}qn.prototype=Wn.prototype;class Hn extends xn{constructor(e){super({type:"array",spec:{types:e},check:e=>Array.isArray(e)}),this.innerType=void 0,this.innerType=e}_cast(e,t){const s=super._cast(e,t);if(!this._typeCheck(s)||!this.innerType)return s;let a=!1;const n=s.map((e,s)=>{const n=this.innerType.cast(e,Object.assign({},t,{path:"".concat(t.path||"","[").concat(s,"]")}));return n!==e&&(a=!0),n});return a?n:s}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;var n;let i=this.innerType,r=null!=(n=t.recursive)?n:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,s,(n,l)=>{var o;if(!r||!i||!this._typeCheck(l))return void a(n,l);let c=new Array(l.length);for(let s=0;s<l.length;s++){var d;c[s]=i.asNestedTest({options:t,index:s,parent:l,parentPath:t.path,originalParent:null!=(d=t.originalValue)?d:e})}this.runTests({value:l,tests:c,originalValue:null!=(o=t.originalValue)?o:e,options:t},s,e=>a(e.concat(n),l))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(Un)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!an(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+za(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tn.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||tn.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||tn.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t))}compact(e){let t=e?(t,s,a)=>!e(t,s,a):e=>!!e;return this.transform(e=>null!=e?e.filter(t):e)}describe(e){const t=(e?this.resolve(e):this).clone(),s=super.describe(e);if(t.innerType){var a;let n=e;null!=(a=n)&&a.value&&(n=Object.assign({},n,{parent:n.value,value:n.value[0]})),s.innerType=t.innerType.describe(n)}return s}}Hn.prototype;class Kn extends xn{constructor(e){super({type:"tuple",spec:{types:e},check(e){const t=this.spec.types;return Array.isArray(e)&&e.length===t.length}}),this.withMutation(()=>{this.typeError(sn.notType)})}_cast(e,t){const{types:s}=this.spec,a=super._cast(e,t);if(!this._typeCheck(a))return a;let n=!1;const i=s.map((e,s)=>{const i=e.cast(a[s],Object.assign({},t,{path:"".concat(t.path||"","[").concat(s,"]")}));return i!==a[s]&&(n=!0),i});return n?i:a}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,n=this.spec.types;super._validate(e,t,s,(i,r)=>{var l;if(!this._typeCheck(r))return void a(i,r);let o=[];for(let[s,a]of n.entries()){var c;o[s]=a.asNestedTest({options:t,index:s,parent:r,parentPath:t.path,originalParent:null!=(c=t.originalValue)?c:e})}this.runTests({value:r,tests:o,originalValue:null!=(l=t.originalValue)?l:e,options:t},s,e=>a(e.concat(i),r))})}describe(e){const t=(e?this.resolve(e):this).clone(),s=super.describe(e);return s.innerType=t.spec.types.map((t,s)=>{var a;let n=e;return null!=(a=n)&&a.value&&(n=Object.assign({},n,{parent:n.value,value:n.value[s]})),t.describe(n)}),s}}Kn.prototype;const $n=qn().shape({name:Fn().required("Name is required"),dateOfBirth:Fn().required("Date of Birth is required").test("age-range","Age must be between 18 and 90 years",function(e){if(!e)return!1;const t=new Date(e),s=new Date,a=new Date(s-t),n=Math.abs(a.getUTCFullYear()-1970);return n>=18&&n<=90}),gender:Fn().required("Gender is required"),email:Fn().required("Email is required").matches(/^[^\s@]+@[^\s@]+\.[^\s@]+$/,"Email must include @ and be valid"),phoneNumber:Fn().matches(/^\d{10}$/,"Enter a valid 10-digit phone number").required("Phone number is required"),role:Fn().required("Role is required"),password:Fn().required("Password is required").min(8,"Password must be at least 8 characters").matches(/[A-Z]/,"Password must contain at least one uppercase letter").matches(/[a-z]/,"Password must contain at least one lowercase letter").matches(/[0-9]/,"Password must contain at least one number").matches(/[@$!%*?&#^()_+\-=[\]{};':"\\|,.<>/?]/,"Password must contain at least one special character")}),Gn=()=>{var e;const s=(null===(e=X().state)||void 0===e?void 0:e.role)||"",{register:a,handleSubmit:n,reset:i,formState:{errors:r}}=fs({resolver:Ia($n),defaultValues:{role:s}}),[l,o]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1),[f,g]=(0,t.useState)(0);(0,t.useEffect)(()=>{if(!f)return;const e=setTimeout(()=>g(e=>e-1),1e3);return()=>clearTimeout(e)},[f]);const v=async()=>{if(l.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){try{console.log("Checking backend connectivity..."),await fetch("http://localhost:8080/api/auth/test",{method:"GET",timeout:5e3}),console.log("Backend is accessible")}catch(o){return console.error("Backend connectivity error:",o),void alert("Cannot connect to the server. Please check if the backend is running and try again.")}try{console.log("Sending OTP to:",l);const e=await Oe.authAPI.sendOTP(l);console.log("OTP send response:",e),d(!0),g(30),alert("OTP sent successfully! Please check your email.")}catch(Qh){var e,t,s,a,n;if(console.error("OTP send error:",Qh),console.error("OTP send error response:",Qh.response),console.error("OTP send error data:",null===(e=Qh.response)||void 0===e?void 0:e.data),200===(null===(t=Qh.response)||void 0===t?void 0:t.status)||null!==(s=Qh.response)&&void 0!==s&&null!==(a=s.data)&&void 0!==a&&null!==(n=a.message)&&void 0!==n&&n.includes("sent"))d(!0),g(30),alert("OTP sent successfully! Please check your email.");else{var i,r;const e=(null===(i=Qh.response)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.message)||Qh.message||"Failed to send OTP";alert("OTP Error: ".concat(e))}}}else alert("Enter a valid email first")};return(0,Fe.jsx)("div",{className:"login-page-container minimalist",children:(0,Fe.jsxs)("div",{className:"auth-wrapper",children:[(0,Fe.jsxs)("aside",{className:"agri-highlights","aria-label":"Agriculture highlights",children:[(0,Fe.jsx)("h2",{className:"agri-title",children:"Register to get started"}),(0,Fe.jsxs)("ul",{className:"agri-list",children:[(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("span",{className:"agri-emoji",children:"\u2705"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"agri-point",children:"Simple onboarding"}),(0,Fe.jsx)("div",{className:"agri-sub",children:"Verify email with OTP in seconds"})]})]}),(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("span",{className:"agri-emoji",children:"\ud83d\udee1\ufe0f"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"agri-point",children:"Secure data"}),(0,Fe.jsx)("div",{className:"agri-sub",children:"Encrypted storage & verification"})]})]})]})]}),(0,Fe.jsxs)("div",{className:"auth-card",children:[(0,Fe.jsxs)("div",{className:"auth-brand",children:[(0,Fe.jsx)("img",{src:Re,alt:"DATE Logo",className:"auth-logo"}),(0,Fe.jsx)("div",{className:"auth-title",children:"Digital Agristack Transaction Enterprises"}),(0,Fe.jsx)("div",{className:"auth-subtitle",children:"Empowering Agricultural Excellence"})]}),(0,Fe.jsxs)("div",{className:"auth-field",style:{marginTop:6},children:[(0,Fe.jsx)("h2",{style:{margin:0},children:"Registration Form"}),(0,Fe.jsx)("p",{style:{color:"#6b7280",margin:"6px 0 0"},children:"Enter your details to get started"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"hidden"},a("role")),{},{value:s})),s&&(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsx)("label",{children:"Role"}),(0,Fe.jsx)("input",{type:"text",value:s,readOnly:!0})]}),(0,Fe.jsxs)("form",{onSubmit:n(async e=>{if(m)try{console.log("Submitting registration data:",e);const t=await Oe.authAPI.register(e);console.log("Registration successful:",t),alert("Registration successful! Please wait for admin approval. You will receive an email with login credentials once approved."),i(),p(!1),d(!1),o(""),h("")}catch(t){console.error("Registration error:",t),alert("Registration failed. Please try again.")}else alert("Please verify your email before submitting.")}),className:"auth-form",children:[(0,Fe.jsxs)("div",{className:"form-grid-2",children:[(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsxs)("label",{children:["Name ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},a("name")),{},{className:r.name?"error":"",placeholder:"Enter your first name"})),r.name&&(0,Fe.jsx)("div",{className:"error",children:r.name.message})]}),(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsxs)("label",{children:["Gender ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsxs)("select",(0,Ue.A)((0,Ue.A)({},a("gender")),{},{className:r.gender?"error":"",children:[(0,Fe.jsx)("option",{value:"",children:"Select gender"}),(0,Fe.jsx)("option",{value:"Male",children:"Male"}),(0,Fe.jsx)("option",{value:"Female",children:"Female"}),(0,Fe.jsx)("option",{value:"Other",children:"Other"})]})),r.gender&&(0,Fe.jsx)("div",{className:"error",children:r.gender.message})]}),(0,Fe.jsxs)("div",{className:"auth-field grid-span-2",children:[(0,Fe.jsxs)("label",{children:["Date of Birth ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"date"},a("dateOfBirth")),{},{className:r.dateOfBirth?"error":""})),r.dateOfBirth&&(0,Fe.jsx)("div",{className:"error",children:r.dateOfBirth.message})]}),(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsxs)("label",{children:["Phone Number ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"text"},a("phoneNumber")),{},{className:r.phoneNumber?"error":"",placeholder:"Enter 10-digit number"})),r.phoneNumber&&(0,Fe.jsx)("div",{className:"error",children:r.phoneNumber.message})]}),(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsxs)("label",{children:["Email Address ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"email"},a("email")),{},{value:l,onChange:e=>{o(e.target.value),d(!1),p(!1)},className:r.email?"error":"",placeholder:"Enter your email"})),r.email&&(0,Fe.jsx)("div",{className:"error",children:r.email.message})]}),(0,Fe.jsxs)("div",{className:"auth-field grid-span-2",children:[(0,Fe.jsxs)("label",{children:["Password ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({type:"password"},a("password")),{},{className:r.password?"error":"",placeholder:"Enter a strong password",autoComplete:"new-password"})),r.password&&(0,Fe.jsx)("div",{className:"error",children:r.password.message})]})]}),!c&&!m&&(0,Fe.jsx)("div",{className:"auth-actions",children:(0,Fe.jsx)("button",{type:"button",onClick:v,className:"auth-submit",children:"Send OTP"})}),c&&!m&&(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsx)("label",{children:"Enter OTP"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Enter OTP",value:u,onChange:e=>h(e.target.value)}),(0,Fe.jsxs)("div",{className:"auth-actions",style:{display:"flex",gap:10},children:[(0,Fe.jsx)("button",{type:"button",onClick:v,className:"auth-secondary",disabled:f>0,children:f>0?"Resend (".concat(f,"s)"):"Resend"}),(0,Fe.jsx)("button",{type:"button",onClick:async()=>{if(u&&6===u.length)try{console.log("Verifying OTP for:",l),console.log("OTP entered:",u);const e=await Oe.authAPI.verifyOTP({email:l,otp:u});console.log("OTP verification response:",e),alert("Email verified successfully!"),p(!0)}catch(a){var e,t,s;console.error("OTP verification error:",a),console.error("OTP verification error response:",a.response),console.error("OTP verification error data:",null===(e=a.response)||void 0===e?void 0:e.data);const n=(null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||a.message||"OTP verification failed";alert("OTP Verification Error: ".concat(n))}else alert("Please enter a valid 6-digit OTP")},className:"auth-submit",children:"Verify"})]})]}),m&&(0,Fe.jsx)("div",{className:"auth-field",style:{color:"#166f3e",fontWeight:700},children:"\u2713 Email Verified"}),(0,Fe.jsx)("div",{className:"auth-actions",children:(0,Fe.jsx)("button",{type:"submit",className:"auth-submit",children:"Register Now ..."})}),(0,Fe.jsx)("div",{className:"auth-field",style:{textAlign:"center"},children:(0,Fe.jsxs)("h4",{children:["Already have an account? ",(0,Fe.jsx)(Ee,{to:"/login",children:"Sign In"})]})})]})]})]})})},Jn=qn().shape({userInput:Fn().required("Email / Phone / ID is required").test("valid-userInput","Enter a valid Email (with '@' and '.'), 10-digit Phone number, or ID (min 6 characters)",function(e){if(!e)return!1;const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),s=/^[0-9]{10}$/.test(e),a=!t&&!s&&e.length>=6;return t||s||a})}),Qn=()=>{const{register:e,handleSubmit:s,formState:{errors:a}}=fs({resolver:Ia(Jn)}),[n,i]=(0,t.useState)(!1),[r,l]=(0,t.useState)(""),o=ee();return(0,Fe.jsx)("div",{className:"login-page-container minimalist",children:(0,Fe.jsxs)("div",{className:"auth-wrapper",children:[(0,Fe.jsxs)("aside",{className:"agri-highlights","aria-label":"Agriculture highlights",children:[(0,Fe.jsx)("h2",{className:"agri-title",children:"Reset access securely"}),(0,Fe.jsxs)("ul",{className:"agri-list",children:[(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("span",{className:"agri-emoji",children:"\ud83d\udd10"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"agri-point",children:"Encrypted reset links"}),(0,Fe.jsx)("div",{className:"agri-sub",children:"Your account security is our priority"})]})]}),(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("span",{className:"agri-emoji",children:"\ud83d\udce8"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"agri-point",children:"Email delivery tracking"}),(0,Fe.jsx)("div",{className:"agri-sub",children:"We confirm when your link is sent"})]})]})]})]}),(0,Fe.jsxs)("div",{className:"auth-card",children:[(0,Fe.jsxs)("div",{className:"auth-brand",children:[(0,Fe.jsx)("img",{src:Re,alt:"DATE Logo",className:"auth-logo"}),(0,Fe.jsx)("div",{className:"auth-title",children:"Digital Agristack Transaction Enterprises"}),(0,Fe.jsx)("div",{className:"auth-subtitle",children:"Empowering Agricultural Excellence"})]}),(0,Fe.jsxs)("form",{onSubmit:s(async e=>{try{await Oe.authAPI.forgotPassword(e.userInput),l(e.userInput),i(!0)}catch(t){console.error("Error sending reset request:",t),alert("Failed to send reset link. Please try again.")}}),className:"auth-form",children:[(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsxs)("label",{children:["Email",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({},e("userInput")),{},{placeholder:"Enter your Email",className:a.userInput?"error":""})),a.userInput&&(0,Fe.jsx)("div",{className:"error",children:a.userInput.message})]}),(0,Fe.jsx)("div",{className:"auth-actions",children:(0,Fe.jsx)("button",{type:"submit",className:"auth-submit",children:"Reset password"})})]}),(0,Fe.jsx)("div",{className:"auth-field",style:{textAlign:"center",marginTop:10},children:(0,Fe.jsxs)("h4",{children:["Remembered your credentials? ",(0,Fe.jsx)(Ee,{to:"/login",children:"Back to Login"})]})}),n&&(0,Fe.jsx)("div",{className:"popup",children:(0,Fe.jsxs)("div",{className:"popup-content",children:[(0,Fe.jsx)("h3",{children:"Success!"}),(0,Fe.jsxs)("h4",{children:["A reset link has been sent to ",(0,Fe.jsx)("strong",{children:r})]}),(0,Fe.jsx)("button",{onClick:()=>{i(!1);try{sessionStorage.setItem("otpFlow",JSON.stringify({target:r,type:"password",otpVerified:!1}))}catch(e){}o("/otp-verification",{state:{target:r,type:"password"}})},children:"OK"})]})})]})]})})};var Xn=s(722);const Zn=qn().shape({userInput:Fn().required("Email / Phone / ID is required").test("is-valid","Enter a valid Email (with '@' and '.'), 10-digit Phone number, or ID (min 6 characters)",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,s=/^[0-9]{10}$/;return t.test(e)||s.test(e)||e.length>=6&&!t.test(e)&&!s.test(e)})}),ei=()=>{const{register:e,handleSubmit:s,reset:a,formState:{errors:n}}=fs({resolver:Ia(Zn)}),[i,r]=(0,t.useState)(!1),[l,o]=(0,t.useState)(""),c=ee();return(0,Fe.jsx)("div",{className:"login-page-container minimalist",children:(0,Fe.jsxs)("div",{className:"auth-wrapper",children:[(0,Fe.jsxs)("aside",{className:"agri-highlights","aria-label":"Agriculture highlights",children:[(0,Fe.jsx)("h2",{className:"agri-title",children:"Recover your User ID"}),(0,Fe.jsxs)("ul",{className:"agri-list",children:[(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("span",{className:"agri-emoji",children:"\ud83d\udce7"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"agri-point",children:"Email or phone supported"}),(0,Fe.jsx)("div",{className:"agri-sub",children:"We\u2019ll send your User ID securely"})]})]}),(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("span",{className:"agri-emoji",children:"\ud83d\udee1\ufe0f"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"agri-point",children:"Privacy-first process"}),(0,Fe.jsx)("div",{className:"agri-sub",children:"No credentials are exposed"})]})]})]})]}),(0,Fe.jsxs)("div",{className:"auth-card",children:[(0,Fe.jsxs)("div",{className:"auth-brand",children:[(0,Fe.jsx)("img",{src:Re,alt:"DATE Logo",className:"auth-logo"}),(0,Fe.jsx)("div",{className:"auth-title",children:"Digital Agristack Transaction Enterprises"}),(0,Fe.jsx)("div",{className:"auth-subtitle",children:"Empowering Agricultural Excellence"})]}),(0,Fe.jsxs)("form",{onSubmit:s(async e=>{try{await Xn.A.post("http://localhost:8080/api/auth/forgot-user-id",{emailOrPhone:e.userInput},{headers:{"Content-Type":"application/json"}}),o(e.userInput),r(!0)}catch(t){console.error("Error:",t),alert("Failed to send User ID. Please try again later.")}}),className:"auth-form",children:[(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsxs)("label",{children:["Email / Phone / ID ",(0,Fe.jsx)("span",{className:"required",children:"*"})]}),(0,Fe.jsx)("input",(0,Ue.A)((0,Ue.A)({},e("userInput")),{},{placeholder:"Enter your Email or Phone or ID",className:n.userInput?"error":""})),n.userInput&&(0,Fe.jsx)("div",{className:"error",children:n.userInput.message})]}),(0,Fe.jsx)("div",{className:"auth-actions",children:(0,Fe.jsx)("button",{type:"submit",className:"auth-submit",children:"Reset User ID"})})]}),i&&(0,Fe.jsx)("div",{className:"popup",children:(0,Fe.jsxs)("div",{className:"popup-content",children:[(0,Fe.jsx)("h3",{children:"Success!"}),(0,Fe.jsxs)("h4",{children:["Your User ID has been sent to ",(0,Fe.jsx)("strong",{children:l})]}),(0,Fe.jsx)("button",{onClick:()=>{r(!1);try{sessionStorage.setItem("otpFlow",JSON.stringify({target:l,type:"userId",otpVerified:!1}))}catch(e){}c("/otp-verification",{state:{target:l,type:"userId"}})},children:"OK"})]})}),(0,Fe.jsx)("div",{className:"auth-field",style:{textAlign:"center",marginTop:10},children:(0,Fe.jsxs)("h4",{children:["Back to ",(0,Fe.jsx)(Ee,{to:"/login",children:"Login"})]})})]})]})})},ti=()=>{const{user:e,login:s}=(0,t.useContext)(De),a=ee(),n=X().state||{},[i,r]=(0,t.useState)(n.target||""),[l,o]=(0,t.useState)({newPassword:"",confirmPassword:""}),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),m=e=>{o((0,Ue.A)((0,Ue.A)({},l),{},{[e.target.name]:e.target.value}))};(0,t.useEffect)(()=>{if(!i)try{const e=JSON.parse(sessionStorage.getItem("otpFlow")||"null");null!==e&&void 0!==e&&e.target&&"password"===(null===e||void 0===e?void 0:e.type)&&null!==e&&void 0!==e&&e.otpVerified&&r(e.target)}catch(e){}},[i]);return(0,Fe.jsx)("div",{className:"login-page-container minimalist",children:(0,Fe.jsxs)("div",{className:"auth-wrapper",children:[(0,Fe.jsxs)("aside",{className:"agri-highlights","aria-label":"Agriculture highlights",children:[(0,Fe.jsx)("h2",{className:"agri-title",children:"Secure your account"}),(0,Fe.jsx)("ul",{className:"agri-list",children:(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("span",{className:"agri-emoji",children:"\ud83d\udd12"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"agri-point",children:"Strong password rules"}),(0,Fe.jsx)("div",{className:"agri-sub",children:"Uppercase, number and @ required"})]})]})})]}),(0,Fe.jsxs)("div",{className:"auth-card",children:[(0,Fe.jsxs)("div",{className:"auth-brand",children:[(0,Fe.jsx)("img",{src:Re,alt:"DATE Logo",className:"auth-logo"}),(0,Fe.jsx)("div",{className:"auth-title",children:"Digital Agristack Transaction Enterprises"}),(0,Fe.jsx)("div",{className:"auth-subtitle",children:"Empowering Agricultural Excellence"})]}),(0,Fe.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),d(""),h(""),l.newPassword!==l.confirmPassword)return void d("New password and confirm password do not match.");if(l.newPassword.length<6)return void d("New password must be at least 6 characters long.");const s=/[A-Z]/.test(l.newPassword),n=/\d/.test(l.newPassword),r=/@/.test(l.newPassword);if(s&&n&&r)try{const t=(null===e||void 0===e?void 0:e.email)||(null===e||void 0===e?void 0:e.userName)||i;console.log("Attempting to change password for:",t);const s=await Oe.default.post("/auth/reset-password/confirm",{emailOrPhone:t,newPassword:l.newPassword,confirmPassword:l.confirmPassword});console.log("Password change response:",s.data),h("Password changed successfully! Redirecting to login...");try{sessionStorage.removeItem("otpFlow")}catch(y){}setTimeout(()=>{a("/login")},1e3)}catch(j){var o,c,u,m,p,f,g,v,x,b;if(console.error("Password change error:",j),console.error("Error response:",null===(o=j.response)||void 0===o?void 0:o.data),console.error("Error status:",null===(c=j.response)||void 0===c?void 0:c.status),400===(null===(u=j.response)||void 0===u?void 0:u.status))d((null===(x=j.response)||void 0===x||null===(b=x.data)||void 0===b?void 0:b.message)||"Invalid password format. Please check the requirements.");else 401===(null===(m=j.response)||void 0===m?void 0:m.status)?d("Session expired. Please log in again."):404===(null===(p=j.response)||void 0===p?void 0:p.status)?d("User not found. Please contact administrator."):500===(null===(f=j.response)||void 0===f?void 0:f.status)?d("Server error. Please try again later."):null!==(g=j.response)&&void 0!==g&&null!==(v=g.data)&&void 0!==v&&v.message?d(j.response.data.message):d("Failed to change password. Please try again.")}else d("Password must include an uppercase letter, a number, and an @ symbol.")},className:"auth-form",children:[(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsx)("label",{children:"New Password"}),(0,Fe.jsx)("input",{type:"password",name:"newPassword",value:l.newPassword,onChange:m,required:!0,placeholder:"Enter your new password",disabled:!!u})]}),(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsx)("label",{children:"Confirm New Password"}),(0,Fe.jsx)("input",{type:"password",name:"confirmPassword",value:l.confirmPassword,onChange:m,required:!0,placeholder:"Confirm your new password",disabled:!!u})]}),c&&(0,Fe.jsx)("div",{className:"error-text",children:c}),u&&(0,Fe.jsx)("div",{className:"success-text",children:u}),(0,Fe.jsx)("div",{className:"auth-actions",children:(0,Fe.jsx)("button",{type:"submit",className:"auth-submit",disabled:!!u,children:"Change Password"})})]}),(0,Fe.jsx)("div",{className:"auth-field",style:{textAlign:"center",marginTop:10},children:(0,Fe.jsxs)("h4",{children:["Back to ",(0,Fe.jsx)(Ee,{to:"/login",children:"Login"})]})})]})]})})},si=()=>{const[e,s]=(0,t.useState)(""),[a,n]=(0,t.useState)(""),[i,r]=(0,t.useState)(""),l=ee();return(0,Fe.jsx)("div",{className:"login-page-container minimalist",children:(0,Fe.jsxs)("div",{className:"auth-wrapper",children:[(0,Fe.jsxs)("aside",{className:"agri-highlights","aria-label":"Agriculture highlights",children:[(0,Fe.jsx)("h2",{className:"agri-title",children:"Update your User ID"}),(0,Fe.jsx)("ul",{className:"agri-list",children:(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("span",{className:"agri-emoji",children:"\ud83c\udd94"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"agri-point",children:"Unique and secure"}),(0,Fe.jsx)("div",{className:"agri-sub",children:"Choose a memorable identifier"})]})]})})]}),(0,Fe.jsxs)("div",{className:"auth-card",children:[(0,Fe.jsxs)("div",{className:"auth-brand",children:[(0,Fe.jsx)("img",{src:Re,alt:"DATE Logo",className:"auth-logo"}),(0,Fe.jsx)("div",{className:"auth-title",children:"Digital Agristack Transaction Enterprises"}),(0,Fe.jsx)("div",{className:"auth-subtitle",children:"Empowering Agricultural Excellence"})]}),(0,Fe.jsxs)("form",{className:"auth-form",onSubmit:t=>{t.preventDefault(),(async()=>{if(e&&a)if(e===a){r("");try{await Oe.authAPI.changeUserId({newUserName:e,password:""}),alert("User ID changed successfully to: ".concat(e)),l("/login")}catch(i){i.response&&i.response.data&&i.response.data.message?r(i.response.data.message):r("Failed to change User ID. Please try again.")}}else r("User IDs do not match.");else r("Both fields are required.")})()},children:[(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsx)("label",{htmlFor:"newUserId",children:"New User ID"}),(0,Fe.jsx)("input",{id:"newUserId",type:"text",value:e,onChange:e=>s(e.target.value)})]}),(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsx)("label",{htmlFor:"confirmUserId",children:"Confirm User ID"}),(0,Fe.jsx)("input",{id:"confirmUserId",type:"text",value:a,onChange:e=>n(e.target.value)})]}),i&&(0,Fe.jsx)("p",{className:"error-text",children:i}),(0,Fe.jsx)("div",{className:"auth-actions",children:(0,Fe.jsx)("button",{type:"submit",className:"auth-submit",children:"Change User ID"})})]}),(0,Fe.jsx)("div",{className:"auth-field",style:{textAlign:"center",marginTop:10},children:(0,Fe.jsxs)("h4",{children:["Done here? ",(0,Fe.jsx)(Ee,{to:"/login",children:"Back to Login"})]})})]})]})})},ai=()=>{const[e,s]=(0,t.useState)(""),[a,n]=(0,t.useState)(30),[i,r]=(0,t.useState)(!1),l=ee(),o=X();let{target:c,type:d}=o.state||{};if(!c||!d)try{const e=JSON.parse(sessionStorage.getItem("otpFlow")||"null");null!==e&&void 0!==e&&e.target&&null!==e&&void 0!==e&&e.type&&(c=e.target,d=e.type)}catch(u){}(0,t.useEffect)(()=>{c&&d||(alert("Invalid navigation \u2013 redirecting."),l("/forgot-password"))},[c,d,l]),(0,t.useEffect)(()=>{if(0===a)return void r(!0);const e=setInterval(()=>n(e=>e-1),1e3);return()=>clearInterval(e)},[a]);return(0,Fe.jsx)("div",{className:"login-page-container minimalist",children:(0,Fe.jsxs)("div",{className:"auth-wrapper",children:[(0,Fe.jsxs)("aside",{className:"agri-highlights","aria-label":"Agriculture highlights",children:[(0,Fe.jsx)("h2",{className:"agri-title",children:"Verify your identity"}),(0,Fe.jsx)("ul",{className:"agri-list",children:(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("span",{className:"agri-emoji",children:"\u2709\ufe0f"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"agri-point",children:"6\u2011digit code sent"}),(0,Fe.jsxs)("div",{className:"agri-sub",children:["To: ",c]})]})]})})]}),(0,Fe.jsxs)("div",{className:"auth-card",children:[(0,Fe.jsxs)("div",{className:"auth-brand",children:[(0,Fe.jsx)("img",{src:Re,alt:"DATE Logo",className:"auth-logo"}),(0,Fe.jsx)("div",{className:"auth-title",children:"Digital Agristack Transaction Enterprises"}),(0,Fe.jsx)("div",{className:"auth-subtitle",children:"Empowering Agricultural Excellence"})]}),(0,Fe.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(async()=>{if(6===e.length)try{await Oe.authAPI.verifyOTP({email:c,otp:e}),alert("OTP verified \u2714\ufe0f");try{sessionStorage.setItem("otpFlow",JSON.stringify({target:c,type:d,otpVerified:!0}))}catch(u){}l("userId"===d?"/change-userid":"/change-password",{state:{target:c}})}catch(t){console.error(t),alert("Invalid or expired OTP.")}else alert("Enter a 6\u2011digit OTP")})()},className:"auth-form",children:[(0,Fe.jsxs)("div",{className:"auth-field",children:[(0,Fe.jsx)("label",{htmlFor:"otpInput",children:"Enter OTP"}),(0,Fe.jsx)("input",{id:"otpInput",className:"otp-input",maxLength:6,value:e,onChange:e=>s(e.target.value.replace(/\D/g,""))})]}),(0,Fe.jsx)("div",{className:"resend-otp",children:i?(0,Fe.jsx)("button",{type:"button",onClick:async()=>{if(i)try{await Oe.authAPI.resendOTP(c),alert("OTP resent!"),n(30),r(!1),s("")}catch(e){console.error(e),alert("Could not resend OTP.")}},className:"resend-btn",children:"Resend OTP"}):(0,Fe.jsxs)("span",{className:"resend-timer",children:["Resend in ",a,"s"]})}),(0,Fe.jsxs)("div",{className:"auth-actions",children:[(0,Fe.jsx)("button",{type:"submit",className:"auth-submit",children:"Verify"}),(0,Fe.jsx)("button",{type:"button",className:"auth-secondary",onClick:()=>l(-1),children:"Back"})]})]})]})]})})},ni=e=>{let{children:t,allowedRoles:s}=e;const{user:a,loading:n}=_e();return n?(0,Fe.jsxs)("div",{className:"loading-container",children:[(0,Fe.jsx)("div",{className:"loading-spinner"}),(0,Fe.jsx)("p",{children:"Loading..."})]}):a?s&&!s.includes(a.role)?(0,Fe.jsx)(ge,{to:"/login",replace:!0}):t:(0,Fe.jsx)(ge,{to:"/login",replace:!0})};var ii=s(705);function ri(e){return e+.5|0}const li=(e,t,s)=>Math.max(Math.min(e,s),t);function oi(e){return li(ri(2.55*e),0,255)}function ci(e){return li(ri(255*e),0,255)}function di(e){return li(ri(e/2.55)/100,0,1)}function ui(e){return li(ri(100*e),0,100)}const hi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},mi=[..."0123456789ABCDEF"],pi=e=>mi[15&e],fi=e=>mi[(240&e)>>4]+mi[15&e],gi=e=>(240&e)>>4===(15&e);function vi(e){var t=(e=>gi(e.r)&&gi(e.g)&&gi(e.b)&&gi(e.a))(e)?pi:fi;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const xi=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function bi(e,t,s){const a=t*Math.min(s,1-s),n=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return s-a*Math.max(Math.min(n-3,9-n,1),-1)};return[n(0),n(8),n(4)]}function yi(e,t,s){const a=function(a){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(a+e/60)%6;return s-s*t*Math.max(Math.min(n,4-n,1),0)};return[a(5),a(3),a(1)]}function ji(e,t,s){const a=bi(e,1,.5);let n;for(t+s>1&&(n=1/(t+s),t*=n,s*=n),n=0;n<3;n++)a[n]*=1-t-s,a[n]+=t;return a}function Ni(e){const t=e.r/255,s=e.g/255,a=e.b/255,n=Math.max(t,s,a),i=Math.min(t,s,a),r=(n+i)/2;let l,o,c;return n!==i&&(c=n-i,o=r>.5?c/(2-n-i):c/(n+i),l=function(e,t,s,a,n){return e===n?(t-s)/a+(t<s?6:0):t===n?(s-e)/a+2:(e-t)/a+4}(t,s,a,c,n),l=60*l+.5),[0|l,o||0,r]}function wi(e,t,s,a){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,a)).map(ci)}function Si(e,t,s){return wi(bi,e,t,s)}function ki(e){return(e%360+360)%360}function Ci(e){const t=xi.exec(e);let s,a=255;if(!t)return;t[5]!==s&&(a=t[6]?oi(+t[5]):ci(+t[5]));const n=ki(+t[2]),i=+t[3]/100,r=+t[4]/100;return s="hwb"===t[1]?function(e,t,s){return wi(ji,e,t,s)}(n,i,r):"hsv"===t[1]?function(e,t,s){return wi(yi,e,t,s)}(n,i,r):Si(n,i,r),{r:s[0],g:s[1],b:s[2],a:a}}const Ai={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ei={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Pi;function Ii(e){Pi||(Pi=function(){const e={},t=Object.keys(Ei),s=Object.keys(Ai);let a,n,i,r,l;for(a=0;a<t.length;a++){for(r=l=t[a],n=0;n<s.length;n++)i=s[n],l=l.replace(i,Ai[i]);i=parseInt(Ei[r],16),e[l]=[i>>16&255,i>>8&255,255&i]}return e}(),Pi.transparent=[0,0,0,0]);const t=Pi[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Fi=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Di=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,_i=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Ti(e,t,s){if(e){let a=Ni(e);a[t]=Math.max(0,Math.min(a[t]+a[t]*s,0===t?360:1)),a=Si(a),e.r=a[0],e.g=a[1],e.b=a[2]}}function Oi(e,t){return e?Object.assign(t||{},e):e}function Ri(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ci(e[3]))):(t=Oi(e,{r:0,g:0,b:0,a:1})).a=ci(t.a),t}function Mi(e){return"r"===e.charAt(0)?function(e){const t=Fi.exec(e);let s,a,n,i=255;if(t){if(t[7]!==s){const e=+t[7];i=t[8]?oi(e):li(255*e,0,255)}return s=+t[1],a=+t[3],n=+t[5],s=255&(t[2]?oi(s):li(s,0,255)),a=255&(t[4]?oi(a):li(a,0,255)),n=255&(t[6]?oi(n):li(n,0,255)),{r:s,g:a,b:n,a:i}}}(e):Ci(e)}class Li{constructor(e){if(e instanceof Li)return e;const t=typeof e;let s;"object"===t?s=Ri(e):"string"===t&&(s=function(e){var t,s=e.length;return"#"===e[0]&&(4===s||5===s?t={r:255&17*hi[e[1]],g:255&17*hi[e[2]],b:255&17*hi[e[3]],a:5===s?17*hi[e[4]]:255}:7!==s&&9!==s||(t={r:hi[e[1]]<<4|hi[e[2]],g:hi[e[3]]<<4|hi[e[4]],b:hi[e[5]]<<4|hi[e[6]],a:9===s?hi[e[7]]<<4|hi[e[8]]:255})),t}(e)||Ii(e)||Mi(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Oi(this._rgb);return e&&(e.a=di(e.a)),e}set rgb(e){this._rgb=Ri(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(di(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?vi(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Ni(e),s=t[0],a=ui(t[1]),n=ui(t[2]);return e.a<255?"hsla(".concat(s,", ").concat(a,"%, ").concat(n,"%, ").concat(di(e.a),")"):"hsl(".concat(s,", ").concat(a,"%, ").concat(n,"%)")}(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,a=e.rgb;let n;const i=t===n?.5:t,r=2*i-1,l=s.a-a.a,o=((r*l===-1?r:(r+l)/(1+r*l))+1)/2;n=1-o,s.r=255&o*s.r+n*a.r+.5,s.g=255&o*s.g+n*a.g+.5,s.b=255&o*s.b+n*a.b+.5,s.a=i*s.a+(1-i)*a.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,s){const a=_i(di(e.r)),n=_i(di(e.g)),i=_i(di(e.b));return{r:ci(Di(a+s*(_i(di(t.r))-a))),g:ci(Di(n+s*(_i(di(t.g))-n))),b:ci(Di(i+s*(_i(di(t.b))-i))),a:e.a+s*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Li(this.rgb)}alpha(e){return this._rgb.a=ci(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ri(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ti(this._rgb,2,e),this}darken(e){return Ti(this._rgb,2,-e),this}saturate(e){return Ti(this._rgb,1,e),this}desaturate(e){return Ti(this._rgb,1,-e),this}rotate(e){return function(e,t){var s=Ni(e);s[0]=ki(s[0]+t),s=Si(s),e.r=s[0],e.g=s[1],e.b=s[2]}(this._rgb,e),this}}function Ui(){}const Bi=(()=>{let e=0;return()=>e++})();function zi(e){return null===e||void 0===e}function Vi(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Yi(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function qi(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Wi(e,t){return qi(e)?e:t}function Hi(e,t){return"undefined"===typeof e?t:e}const Ki=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function $i(e,t,s){if(e&&"function"===typeof e.call)return e.apply(s,t)}function Gi(e,t,s,a){let n,i,r;if(Vi(e))if(i=e.length,a)for(n=i-1;n>=0;n--)t.call(s,e[n],n);else for(n=0;n<i;n++)t.call(s,e[n],n);else if(Yi(e))for(r=Object.keys(e),i=r.length,n=0;n<i;n++)t.call(s,e[r[n]],r[n])}function Ji(e,t){let s,a,n,i;if(!e||!t||e.length!==t.length)return!1;for(s=0,a=e.length;s<a;++s)if(n=e[s],i=t[s],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function Qi(e){if(Vi(e))return e.map(Qi);if(Yi(e)){const t=Object.create(null),s=Object.keys(e),a=s.length;let n=0;for(;n<a;++n)t[s[n]]=Qi(e[s[n]]);return t}return e}function Xi(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Zi(e,t,s,a){if(!Xi(e))return;const n=t[e],i=s[e];Yi(n)&&Yi(i)?er(n,i,a):t[e]=Qi(i)}function er(e,t,s){const a=Vi(t)?t:[t],n=a.length;if(!Yi(e))return e;const i=(s=s||{}).merger||Zi;let r;for(let l=0;l<n;++l){if(r=a[l],!Yi(r))continue;const t=Object.keys(r);for(let a=0,n=t.length;a<n;++a)i(t[a],e,r,s)}return e}function tr(e,t){return er(e,t,{merger:sr})}function sr(e,t,s){if(!Xi(e))return;const a=t[e],n=s[e];Yi(a)&&Yi(n)?tr(a,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Qi(n))}const ar={"":e=>e,x:e=>e.x,y:e=>e.y};function nr(e,t){const s=ar[t]||(ar[t]=function(e){const t=function(e){const t=e.split("."),s=[];let a="";for(const n of t)a+=n,a.endsWith("\\")?a=a.slice(0,-1)+".":(s.push(a),a="");return s}(e);return e=>{for(const s of t){if(""===s)break;e=e&&e[s]}return e}}(t));return s(e)}function ir(e){return e.charAt(0).toUpperCase()+e.slice(1)}const rr=e=>"undefined"!==typeof e,lr=e=>"function"===typeof e,or=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};const cr=Math.PI,dr=2*cr,ur=dr+cr,hr=Number.POSITIVE_INFINITY,mr=cr/180,pr=cr/2,fr=cr/4,gr=2*cr/3,vr=Math.log10,xr=Math.sign;function br(e,t,s){return Math.abs(e-t)<s}function yr(e){const t=Math.round(e);e=br(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(vr(e))),a=e/s;return(a<=1?1:a<=2?2:a<=5?5:10)*s}function jr(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Nr(e,t,s){let a,n,i;for(a=0,n=e.length;a<n;a++)i=e[a][s],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function wr(e){return e*(cr/180)}function Sr(e){return e*(180/cr)}function kr(e){if(!qi(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function Cr(e,t){const s=t.x-e.x,a=t.y-e.y,n=Math.sqrt(s*s+a*a);let i=Math.atan2(a,s);return i<-.5*cr&&(i+=dr),{angle:i,distance:n}}function Ar(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Er(e,t){return(e-t+ur)%dr-cr}function Pr(e){return(e%dr+dr)%dr}function Ir(e,t,s,a){const n=Pr(e),i=Pr(t),r=Pr(s),l=Pr(i-n),o=Pr(r-n),c=Pr(n-i),d=Pr(n-r);return n===i||n===r||a&&i===r||l>o&&c<d}function Fr(e,t,s){return Math.max(t,Math.min(s,e))}function Dr(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,s)-a&&e<=Math.max(t,s)+a}function _r(e,t,s){s=s||(s=>e[s]<t);let a,n=e.length-1,i=0;for(;n-i>1;)a=i+n>>1,s(a)?i=a:n=a;return{lo:i,hi:n}}const Tr=(e,t,s,a)=>_r(e,s,a?a=>{const n=e[a][t];return n<s||n===s&&e[a+1][t]===s}:a=>e[a][t]<s),Or=(e,t,s)=>_r(e,s,a=>e[a][t]>=s);const Rr=["push","pop","shift","splice","unshift"];function Mr(e,t){const s=e._chartjs;if(!s)return;const a=s.listeners,n=a.indexOf(t);-1!==n&&a.splice(n,1),a.length>0||(Rr.forEach(t=>{delete e[t]}),delete e._chartjs)}function Lr(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Ur="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Br(e,t){let s=[],a=!1;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];s=i,a||(a=!0,Ur.call(window,()=>{a=!1,e.apply(t,s)}))}}const zr=e=>"start"===e?"left":"end"===e?"right":"center",Vr=(e,t,s)=>"start"===e?t:"end"===e?s:(t+s)/2;function Yr(e,t,s){const a=t.length;let n=0,i=a;if(e._sorted){const{iScale:r,vScale:l,_parsed:o}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=r.axis,{min:u,max:h,minDefined:m,maxDefined:p}=r.getUserBounds();if(m){if(n=Math.min(Tr(o,d,u).lo,s?a:Tr(t,d,r.getPixelForValue(u)).lo),c){const e=o.slice(0,n+1).reverse().findIndex(e=>!zi(e[l.axis]));n-=Math.max(0,e)}n=Fr(n,0,a-1)}if(p){let e=Math.max(Tr(o,r.axis,h,!0).hi+1,s?0:Tr(t,d,r.getPixelForValue(h),!0).hi+1);if(c){const t=o.slice(e-1).findIndex(e=>!zi(e[l.axis]));e+=Math.max(0,t)}i=Fr(e,n,a)-n}else i=a-n}return{start:n,count:i}}function qr(e){const{xScale:t,yScale:s,_scaleRanges:a}=e,n={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!a)return e._scaleRanges=n,!0;const i=a.xmin!==t.min||a.xmax!==t.max||a.ymin!==s.min||a.ymax!==s.max;return Object.assign(a,n),i}const Wr=e=>0===e||1===e,Hr=(e,t,s)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*dr/s),Kr=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*dr/s)+1,$r={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*pr),easeOutSine:e=>Math.sin(e*pr),easeInOutSine:e=>-.5*(Math.cos(cr*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Wr(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Wr(e)?e:Hr(e,.075,.3),easeOutElastic:e=>Wr(e)?e:Kr(e,.075,.3),easeInOutElastic(e){const t=.1125;return Wr(e)?e:e<.5?.5*Hr(2*e,t,.45):.5+.5*Kr(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-$r.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,s=2.75;return e<1/s?t*e*e:e<2/s?t*(e-=1.5/s)*e+.75:e<2.5/s?t*(e-=2.25/s)*e+.9375:t*(e-=2.625/s)*e+.984375},easeInOutBounce:e=>e<.5?.5*$r.easeInBounce(2*e):.5*$r.easeOutBounce(2*e-1)+.5};function Gr(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Jr(e){return Gr(e)?e:new Li(e)}function Qr(e){return Gr(e)?e:new Li(e).saturate(.5).darken(.1).hexString()}const Xr=["x","y","borderWidth","radius","tension"],Zr=["color","borderColor","backgroundColor"];const el=new Map;function tl(e,t,s){return function(e,t){t=t||{};const s=e+JSON.stringify(t);let a=el.get(s);return a||(a=new Intl.NumberFormat(e,t),el.set(s,a)),a}(t,s).format(e)}const sl={values:e=>Vi(e)?e:""+e,numeric(e,t,s){if(0===e)return"0";const a=this.chart.options.locale;let n,i=e;if(s.length>1){const t=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(t<1e-4||t>1e15)&&(n="scientific"),i=function(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e));return s}(e,s)}const r=vr(Math.abs(i)),l=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),o={notation:n,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(o,this.options.ticks.format),tl(e,a,o)},logarithmic(e,t,s){if(0===e)return"0";const a=s[t].significand||e/Math.pow(10,Math.floor(vr(e)));return[1,2,3,5,10,15].includes(a)||t>.8*s.length?sl.numeric.call(this,e,t,s):""}};var al={formatters:sl};const nl=Object.create(null),il=Object.create(null);function rl(e,t){if(!t)return e;const s=t.split(".");for(let a=0,n=s.length;a<n;++a){const t=s[a];e=e[t]||(e[t]=Object.create(null))}return e}function ll(e,t,s){return"string"===typeof t?er(rl(e,t),s):er(rl(e,""),t)}class ol{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Qr(t.backgroundColor),this.hoverBorderColor=(e,t)=>Qr(t.borderColor),this.hoverColor=(e,t)=>Qr(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return ll(this,e,t)}get(e){return rl(this,e)}describe(e,t){return ll(il,e,t)}override(e,t){return ll(nl,e,t)}route(e,t,s,a){const n=rl(this,e),i=rl(this,s),r="_"+t;Object.defineProperties(n,{[r]:{value:n[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[r],t=i[a];return Yi(e)?Object.assign({},t,e):Hi(e,t)},set(e){this[r]=e}}})}apply(e){e.forEach(e=>e(this))}}var cl=new ol({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Zr},numbers:{type:"number",properties:Xr}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:al.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function dl(e,t,s,a,n){let i=t[n];return i||(i=t[n]=e.measureText(n).width,s.push(n)),i>a&&(a=i),a}function ul(e,t,s,a){let n=(a=a||{}).data=a.data||{},i=a.garbageCollect=a.garbageCollect||[];a.font!==t&&(n=a.data={},i=a.garbageCollect=[],a.font=t),e.save(),e.font=t;let r=0;const l=s.length;let o,c,d,u,h;for(o=0;o<l;o++)if(u=s[o],void 0===u||null===u||Vi(u)){if(Vi(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||Vi(h)||(r=dl(e,n,i,r,h))}else r=dl(e,n,i,r,u);e.restore();const m=i.length/2;if(m>s.length){for(o=0;o<m;o++)delete n[i[o]];i.splice(0,m)}return r}function hl(e,t,s){const a=e.currentDevicePixelRatio,n=0!==s?Math.max(s/2,.5):0;return Math.round((t-n)*a)/a+n}function ml(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function pl(e,t,s,a){fl(e,t,s,a,null)}function fl(e,t,s,a,n){let i,r,l,o,c,d,u,h;const m=t.pointStyle,p=t.rotation,f=t.radius;let g=(p||0)*mr;if(m&&"object"===typeof m&&(i=m.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(s,a),e.rotate(g),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),m){default:n?e.ellipse(s,a,n/2,f,0,0,dr):e.arc(s,a,f,0,dr),e.closePath();break;case"triangle":d=n?n/2:f,e.moveTo(s+Math.sin(g)*d,a-Math.cos(g)*f),g+=gr,e.lineTo(s+Math.sin(g)*d,a-Math.cos(g)*f),g+=gr,e.lineTo(s+Math.sin(g)*d,a-Math.cos(g)*f),e.closePath();break;case"rectRounded":c=.516*f,o=f-c,r=Math.cos(g+fr)*o,u=Math.cos(g+fr)*(n?n/2-c:o),l=Math.sin(g+fr)*o,h=Math.sin(g+fr)*(n?n/2-c:o),e.arc(s-u,a-l,c,g-cr,g-pr),e.arc(s+h,a-r,c,g-pr,g),e.arc(s+u,a+l,c,g,g+pr),e.arc(s-h,a+r,c,g+pr,g+cr),e.closePath();break;case"rect":if(!p){o=Math.SQRT1_2*f,d=n?n/2:o,e.rect(s-d,a-o,2*d,2*o);break}g+=fr;case"rectRot":u=Math.cos(g)*(n?n/2:f),r=Math.cos(g)*f,l=Math.sin(g)*f,h=Math.sin(g)*(n?n/2:f),e.moveTo(s-u,a-l),e.lineTo(s+h,a-r),e.lineTo(s+u,a+l),e.lineTo(s-h,a+r),e.closePath();break;case"crossRot":g+=fr;case"cross":u=Math.cos(g)*(n?n/2:f),r=Math.cos(g)*f,l=Math.sin(g)*f,h=Math.sin(g)*(n?n/2:f),e.moveTo(s-u,a-l),e.lineTo(s+u,a+l),e.moveTo(s+h,a-r),e.lineTo(s-h,a+r);break;case"star":u=Math.cos(g)*(n?n/2:f),r=Math.cos(g)*f,l=Math.sin(g)*f,h=Math.sin(g)*(n?n/2:f),e.moveTo(s-u,a-l),e.lineTo(s+u,a+l),e.moveTo(s+h,a-r),e.lineTo(s-h,a+r),g+=fr,u=Math.cos(g)*(n?n/2:f),r=Math.cos(g)*f,l=Math.sin(g)*f,h=Math.sin(g)*(n?n/2:f),e.moveTo(s-u,a-l),e.lineTo(s+u,a+l),e.moveTo(s+h,a-r),e.lineTo(s-h,a+r);break;case"line":r=n?n/2:Math.cos(g)*f,l=Math.sin(g)*f,e.moveTo(s-r,a-l),e.lineTo(s+r,a+l);break;case"dash":e.moveTo(s,a),e.lineTo(s+Math.cos(g)*(n?n/2:f),a+Math.sin(g)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function gl(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function vl(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function xl(e){e.restore()}function bl(e,t,s,a,n){if(!t)return e.lineTo(s.x,s.y);if("middle"===n){const a=(t.x+s.x)/2;e.lineTo(a,t.y),e.lineTo(a,s.y)}else"after"===n!==!!a?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function yl(e,t,s,a){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(a?t.cp1x:t.cp2x,a?t.cp1y:t.cp2y,a?s.cp2x:s.cp1x,a?s.cp2y:s.cp1y,s.x,s.y)}function jl(e,t,s,a,n){if(n.strikethrough||n.underline){const i=e.measureText(a),r=t-i.actualBoundingBoxLeft,l=t+i.actualBoundingBoxRight,o=s-i.actualBoundingBoxAscent,c=s+i.actualBoundingBoxDescent,d=n.strikethrough?(o+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(r,d),e.lineTo(l,d),e.stroke()}}function Nl(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function wl(e,t,s,a,n){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const r=Vi(t)?t:[t],l=i.strokeWidth>0&&""!==i.strokeColor;let o,c;for(e.save(),e.font=n.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),zi(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,i),o=0;o<r.length;++o)c=r[o],i.backdrop&&Nl(e,i.backdrop),l&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),zi(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,s,a,i.maxWidth)),e.fillText(c,s,a,i.maxWidth),jl(e,s,a,c,i),a+=Number(n.lineHeight);e.restore()}function Sl(e,t){const{x:s,y:a,w:n,h:i,radius:r}=t;e.arc(s+r.topLeft,a+r.topLeft,r.topLeft,1.5*cr,cr,!0),e.lineTo(s,a+i-r.bottomLeft),e.arc(s+r.bottomLeft,a+i-r.bottomLeft,r.bottomLeft,cr,pr,!0),e.lineTo(s+n-r.bottomRight,a+i),e.arc(s+n-r.bottomRight,a+i-r.bottomRight,r.bottomRight,pr,0,!0),e.lineTo(s+n,a+r.topRight),e.arc(s+n-r.topRight,a+r.topRight,r.topRight,0,-pr,!0),e.lineTo(s+r.topLeft,a)}const kl=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Cl=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Al(e,t){const s=(""+e).match(kl);if(!s||"normal"===s[1])return 1.2*t;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100}return t*e}const El=e=>+e||0;function Pl(e,t){const s={},a=Yi(t),n=a?Object.keys(t):t,i=Yi(e)?a?s=>Hi(e[s],e[t[s]]):t=>e[t]:()=>e;for(const r of n)s[r]=El(i(r));return s}function Il(e){return Pl(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Fl(e){return Pl(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Dl(e){const t=Il(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _l(e,t){e=e||{},t=t||cl.font;let s=Hi(e.size,t.size);"string"===typeof s&&(s=parseInt(s,10));let a=Hi(e.style,t.style);a&&!(""+a).match(Cl)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const n={family:Hi(e.family,t.family),lineHeight:Al(Hi(e.lineHeight,t.lineHeight),s),size:s,style:a,weight:Hi(e.weight,t.weight),string:""};return n.string=function(e){return!e||zi(e.size)||zi(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(n),n}function Tl(e,t,s,a){let n,i,r,l=!0;for(n=0,i=e.length;n<i;++n)if(r=e[n],void 0!==r&&(void 0!==t&&"function"===typeof r&&(r=r(t),l=!1),void 0!==s&&Vi(r)&&(r=r[s%r.length],l=!1),void 0!==r))return a&&!l&&(a.cacheable=!1),r}function Ol(e,t){return Object.assign(Object.create(e),t)}function Rl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const n=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof s&&(s=Kl("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:s,_getTarget:a,override:a=>Rl([a,...e],t,n,s)};return new Proxy(i,{deleteProperty:(t,s)=>(delete t[s],delete t._keys,delete e[0][s],!0),get:(s,a)=>zl(s,a,()=>function(e,t,s,a){let n;for(const i of t)if(n=Kl(Ul(i,e),s),"undefined"!==typeof n)return Bl(e,n)?Wl(s,a,e,n):n}(a,t,e,s)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>$l(e).includes(t),ownKeys:e=>$l(e),set(e,t,s){const n=e._storage||(e._storage=a());return e[t]=n[t]=s,delete e._keys,!0}})}function Ml(e,t,s,a){const n={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:Ll(e,a),setContext:t=>Ml(e,t,s,a),override:n=>Ml(e.override(n),t,s,a)};return new Proxy(n,{deleteProperty:(t,s)=>(delete t[s],delete e[s],!0),get:(e,t,s)=>zl(e,t,()=>function(e,t,s){const{_proxy:a,_context:n,_subProxy:i,_descriptors:r}=e;let l=a[t];lr(l)&&r.isScriptable(t)&&(l=function(e,t,s,a){const{_proxy:n,_context:i,_subProxy:r,_stack:l}=s;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let o=t(i,r||a);l.delete(e),Bl(e,o)&&(o=Wl(n._scopes,n,e,o));return o}(t,l,e,s));Vi(l)&&l.length&&(l=function(e,t,s,a){const{_proxy:n,_context:i,_subProxy:r,_descriptors:l}=s;if("undefined"!==typeof i.index&&a(e))return t[i.index%t.length];if(Yi(t[0])){const s=t,a=n._scopes.filter(e=>e!==s);t=[];for(const o of s){const s=Wl(a,n,e,o);t.push(Ml(s,i,r&&r[e],l))}}return t}(t,l,e,r.isIndexable));Bl(t,l)&&(l=Ml(l,n,i&&i[t],r));return l}(e,t,s)),getOwnPropertyDescriptor:(t,s)=>t._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,s)=>Reflect.has(e,s),ownKeys:()=>Reflect.ownKeys(e),set:(t,s,a)=>(e[s]=a,delete t[s],!0)})}function Ll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:s=t.scriptable,_indexable:a=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:s,indexable:a,isScriptable:lr(s)?s:()=>s,isIndexable:lr(a)?a:()=>a}}const Ul=(e,t)=>e?e+ir(t):t,Bl=(e,t)=>Yi(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function zl(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const a=s();return e[t]=a,a}function Vl(e,t,s){return lr(e)?e(t,s):e}const Yl=(e,t)=>!0===e?t:"string"===typeof e?nr(t,e):void 0;function ql(e,t,s,a,n){for(const i of t){const t=Yl(s,i);if(t){e.add(t);const i=Vl(t._fallback,s,n);if("undefined"!==typeof i&&i!==s&&i!==a)return i}else if(!1===t&&"undefined"!==typeof a&&s!==a)return null}return!1}function Wl(e,t,s,a){const n=t._rootScopes,i=Vl(t._fallback,s,a),r=[...e,...n],l=new Set;l.add(a);let o=Hl(l,r,s,i||s,a);return null!==o&&(("undefined"===typeof i||i===s||(o=Hl(l,r,i,o,a),null!==o))&&Rl(Array.from(l),[""],n,i,()=>function(e,t,s){const a=e._getTarget();t in a||(a[t]={});const n=a[t];if(Vi(n)&&Yi(s))return s;return n||{}}(t,s,a)))}function Hl(e,t,s,a,n){for(;s;)s=ql(e,t,s,a,n);return s}function Kl(e,t){for(const s of t){if(!s)continue;const t=s[e];if("undefined"!==typeof t)return t}}function $l(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const s of e)for(const e of Object.keys(s).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function Gl(e,t,s,a){const{iScale:n}=e,{key:i="r"}=this._parsing,r=new Array(a);let l,o,c,d;for(l=0,o=a;l<o;++l)c=l+s,d=t[c],r[l]={r:n.parse(nr(d,i),c)};return r}const Jl=Number.EPSILON||1e-14,Ql=(e,t)=>t<e.length&&!e[t].skip&&e[t],Xl=e=>"x"===e?"y":"x";function Zl(e,t,s,a){const n=e.skip?t:e,i=t,r=s.skip?t:s,l=Ar(i,n),o=Ar(r,i);let c=l/(l+o),d=o/(l+o);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=a*c,h=a*d;return{previous:{x:i.x-u*(r.x-n.x),y:i.y-u*(r.y-n.y)},next:{x:i.x+h*(r.x-n.x),y:i.y+h*(r.y-n.y)}}}function eo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const s=Xl(t),a=e.length,n=Array(a).fill(0),i=Array(a);let r,l,o,c=Ql(e,0);for(r=0;r<a;++r)if(l=o,o=c,c=Ql(e,r+1),o){if(c){const e=c[t]-o[t];n[r]=0!==e?(c[s]-o[s])/e:0}i[r]=l?c?xr(n[r-1])!==xr(n[r])?0:(n[r-1]+n[r])/2:n[r-1]:n[r]}!function(e,t,s){const a=e.length;let n,i,r,l,o,c=Ql(e,0);for(let d=0;d<a-1;++d)o=c,c=Ql(e,d+1),o&&c&&(br(t[d],0,Jl)?s[d]=s[d+1]=0:(n=s[d]/t[d],i=s[d+1]/t[d],l=Math.pow(n,2)+Math.pow(i,2),l<=9||(r=3/Math.sqrt(l),s[d]=n*r*t[d],s[d+1]=i*r*t[d])))}(e,n,i),function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const a=Xl(s),n=e.length;let i,r,l,o=Ql(e,0);for(let c=0;c<n;++c){if(r=l,l=o,o=Ql(e,c+1),!l)continue;const n=l[s],d=l[a];r&&(i=(n-r[s])/3,l["cp1".concat(s)]=n-i,l["cp1".concat(a)]=d-i*t[c]),o&&(i=(o[s]-n)/3,l["cp2".concat(s)]=n+i,l["cp2".concat(a)]=d+i*t[c])}}(e,i,t)}function to(e,t,s){return Math.max(Math.min(e,s),t)}function so(e,t,s,a,n){let i,r,l,o;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)eo(e,n);else{let s=a?e[e.length-1]:e[0];for(i=0,r=e.length;i<r;++i)l=e[i],o=Zl(s,l,e[Math.min(i+1,r-(a?0:1))%r],t.tension),l.cp1x=o.previous.x,l.cp1y=o.previous.y,l.cp2x=o.next.x,l.cp2y=o.next.y,s=l}t.capBezierPoints&&function(e,t){let s,a,n,i,r,l=gl(e[0],t);for(s=0,a=e.length;s<a;++s)r=i,i=l,l=s<a-1&&gl(e[s+1],t),i&&(n=e[s],r&&(n.cp1x=to(n.cp1x,t.left,t.right),n.cp1y=to(n.cp1y,t.top,t.bottom)),l&&(n.cp2x=to(n.cp2x,t.left,t.right),n.cp2y=to(n.cp2y,t.top,t.bottom)))}(e,s)}function ao(){return"undefined"!==typeof window&&"undefined"!==typeof document}function no(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function io(e,t,s){let a;return"string"===typeof e?(a=parseInt(e,10),-1!==e.indexOf("%")&&(a=a/100*t.parentNode[s])):a=e,a}const ro=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const lo=["top","right","bottom","left"];function oo(e,t,s){const a={};s=s?"-"+s:"";for(let n=0;n<4;n++){const i=lo[n];a[i]=parseFloat(e[t+"-"+i+s])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function co(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:a}=t,n=ro(s),i="border-box"===n.boxSizing,r=oo(n,"padding"),l=oo(n,"border","width"),{x:o,y:c,box:d}=function(e,t){const s=e.touches,a=s&&s.length?s[0]:e,{offsetX:n,offsetY:i}=a;let r,l,o=!1;if(((e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot))(n,i,e.target))r=n,l=i;else{const e=t.getBoundingClientRect();r=a.clientX-e.left,l=a.clientY-e.top,o=!0}return{x:r,y:l,box:o}}(e,s),u=r.left+(d&&l.left),h=r.top+(d&&l.top);let{width:m,height:p}=t;return i&&(m-=r.width+l.width,p-=r.height+l.height),{x:Math.round((o-u)/m*s.width/a),y:Math.round((c-h)/p*s.height/a)}}const uo=e=>Math.round(10*e)/10;function ho(e,t,s,a){const n=ro(e),i=oo(n,"margin"),r=io(n.maxWidth,e,"clientWidth")||hr,l=io(n.maxHeight,e,"clientHeight")||hr,o=function(e,t,s){let a,n;if(void 0===t||void 0===s){const i=e&&no(e);if(i){const e=i.getBoundingClientRect(),r=ro(i),l=oo(r,"border","width"),o=oo(r,"padding");t=e.width-o.width-l.width,s=e.height-o.height-l.height,a=io(r.maxWidth,i,"clientWidth"),n=io(r.maxHeight,i,"clientHeight")}else t=e.clientWidth,s=e.clientHeight}return{width:t,height:s,maxWidth:a||hr,maxHeight:n||hr}}(e,t,s);let{width:c,height:d}=o;if("content-box"===n.boxSizing){const e=oo(n,"border","width"),t=oo(n,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-i.width),d=Math.max(0,a?c/a:d-i.height),c=uo(Math.min(c,r,o.maxWidth)),d=uo(Math.min(d,l,o.maxHeight)),c&&!d&&(d=uo(c/2));return(void 0!==t||void 0!==s)&&a&&o.height&&d>o.height&&(d=o.height,c=uo(Math.floor(d*a))),{width:c,height:d}}function mo(e,t,s){const a=t||1,n=Math.floor(e.height*a),i=Math.floor(e.width*a);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(s||!r.style.height&&!r.style.width)&&(r.style.height="".concat(e.height,"px"),r.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==a||r.height!==n||r.width!==i)&&(e.currentDevicePixelRatio=a,r.height=n,r.width=i,e.ctx.setTransform(a,0,0,a,0,0),!0)}const po=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ao()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(Qh){}return e}();function fo(e,t){const s=function(e,t){return ro(e).getPropertyValue(t)}(e,t),a=s&&s.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function go(e,t,s,a){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function vo(e,t,s,a){return{x:e.x+s*(t.x-e.x),y:"middle"===a?s<.5?e.y:t.y:"after"===a?s<1?e.y:t.y:s>0?t.y:e.y}}function xo(e,t,s,a){const n={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},r=go(e,n,s),l=go(n,i,s),o=go(i,t,s),c=go(r,l,s),d=go(l,o,s);return go(c,d,s)}function bo(e,t,s){return e?function(e,t){return{x:s=>e+e+t-s,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,s):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function yo(e,t){let s,a;"ltr"!==t&&"rtl"!==t||(s=e.canvas.style,a=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=a)}function jo(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function No(e){return"angle"===e?{between:Ir,compare:Er,normalize:Pr}:{between:Dr,compare:(e,t)=>e-t,normalize:e=>e}}function wo(e){let{start:t,end:s,count:a,loop:n,style:i}=e;return{start:t%a,end:s%a,loop:n&&(s-t+1)%a===0,style:i}}function So(e,t,s){if(!s)return[e];const{property:a,start:n,end:i}=s,r=t.length,{compare:l,between:o,normalize:c}=No(a),{start:d,end:u,loop:h,style:m}=function(e,t,s){const{property:a,start:n,end:i}=s,{between:r,normalize:l}=No(a),o=t.length;let c,d,{start:u,end:h,loop:m}=e;if(m){for(u+=o,h+=o,c=0,d=o;c<d&&r(l(t[u%o][a]),n,i);++c)u--,h--;u%=o,h%=o}return h<u&&(h+=o),{start:u,end:h,loop:m,style:e.style}}(e,t,s),p=[];let f,g,v,x=!1,b=null;const y=()=>x||o(n,v,f)&&0!==l(n,v),j=()=>!x||0===l(i,f)||o(i,v,f);for(let N=d,w=d;N<=u;++N)g=t[N%r],g.skip||(f=c(g[a]),f!==v&&(x=o(f,n,i),null===b&&y()&&(b=0===l(f,n)?N:w),null!==b&&j()&&(p.push(wo({start:b,end:N,loop:h,count:r,style:m})),b=null),w=N,v=f));return null!==b&&p.push(wo({start:b,end:u,loop:h,count:r,style:m})),p}function ko(e,t){const s=[],a=e.segments;for(let n=0;n<a.length;n++){const i=So(a[n],e.points,t);i.length&&s.push(...i)}return s}function Co(e,t,s,a){return a&&a.setContext&&s?function(e,t,s,a){const n=e._chart.getContext(),i=Ao(e.options),{_datasetIndex:r,options:{spanGaps:l}}=e,o=s.length,c=[];let d=i,u=t[0].start,h=u;function m(e,t,a,n){const i=l?-1:1;if(e!==t){for(e+=o;s[e%o].skip;)e-=i;for(;s[t%o].skip;)t+=i;e%o!==t%o&&(c.push({start:e%o,end:t%o,loop:a,style:n}),d=n,u=t%o)}}for(const p of t){u=l?u:p.start;let e,t=s[u%o];for(h=u+1;h<=p.end;h++){const i=s[h%o];e=Ao(a.setContext(Ol(n,{type:"segment",p0:t,p1:i,p0DataIndex:(h-1)%o,p1DataIndex:h%o,datasetIndex:r}))),Eo(e,d)&&m(u,h-1,p.loop,d),t=i,d=e}u<h-1&&m(u,h-1,p.loop,d)}return c}(e,t,s,a):t}function Ao(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Eo(e,t){if(!t)return!1;const s=[],a=function(e,t){return Gr(t)?(s.includes(t)||s.push(t),s.indexOf(t)):t};return JSON.stringify(e,a)!==JSON.stringify(t,a)}function Po(e,t,s){return e.options.clip?e[s]:t[s]}function Io(e,t){const s=t._clip;if(s.disabled)return!1;const a=function(e,t){const{xScale:s,yScale:a}=e;return s&&a?{left:Po(s,t,"left"),right:Po(s,t,"right"),top:Po(a,t,"top"),bottom:Po(a,t,"bottom")}:t}(t,e.chartArea);return{left:!1===s.left?0:a.left-(!0===s.left?0:s.left),right:!1===s.right?e.width:a.right+(!0===s.right?0:s.right),top:!1===s.top?0:a.top-(!0===s.top?0:s.top),bottom:!1===s.bottom?e.height:a.bottom+(!0===s.bottom?0:s.bottom)}}class Fo{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,a){const n=t.listeners[a],i=t.duration;n.forEach(a=>a({chart:e,initial:t.initial,numSteps:i,currentStep:Math.min(s-t.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=Ur.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const n=s.items;let i,r=n.length-1,l=!1;for(;r>=0;--r)i=n[r],i._active?(i._total>s.duration&&(s.duration=i._total),i.tick(e),l=!0):(n[r]=n[n.length-1],n.pop());l&&(a.draw(),this._notify(a,s,e,"progress")),n.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),t+=n.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Do=new Fo;const _o="transparent",To={boolean:(e,t,s)=>s>.5?t:e,color(e,t,s){const a=Jr(e||_o),n=a.valid&&Jr(t||_o);return n&&n.valid?n.mix(a,s).hexString():t},number:(e,t,s)=>e+(t-e)*s};class Oo{constructor(e,t,s,a){const n=t[s];a=Tl([e.to,a,n,e.from]);const i=Tl([e.from,n,a]);this._active=!0,this._fn=e.fn||To[e.type||typeof i],this._easing=$r[e.easing]||$r.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=i,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const a=this._target[this._prop],n=s-this._start,i=this._duration-n;this._start=s,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=n,this._loop=!!e.loop,this._to=Tl([e.to,t,a,e.from]),this._from=Tl([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,a=this._prop,n=this._from,i=this._loop,r=this._to;let l;if(this._active=n!==r&&(i||t<s),!this._active)return this._target[a]=r,void this._notify(!0);t<0?this._target[a]=n:(l=t/s%2,l=i&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[a]=this._fn(n,r,l))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][t]()}}class Ro{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Yi(e))return;const t=Object.keys(cl.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const n=e[a];if(!Yi(n))return;const i={};for(const e of t)i[e]=n[e];(Vi(n.properties)&&n.properties||[a]).forEach(e=>{e!==a&&s.has(e)||s.set(e,i)})})}_animateOptions(e,t){const s=t.options,a=function(e,t){if(!t)return;let s=e.options;if(!s)return void(e.options=t);s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}}));return s}(e,s);if(!a)return[];const n=this._createAnimations(a,s);return s.$shared&&function(e,t){const s=[],a=Object.keys(t);for(let n=0;n<a.length;n++){const t=e[a[n]];t&&t.active()&&s.push(t.wait())}return Promise.all(s)}(e.options.$animations,s).then(()=>{e.options=s},()=>{}),n}_createAnimations(e,t){const s=this._properties,a=[],n=e.$animations||(e.$animations={}),i=Object.keys(t),r=Date.now();let l;for(l=i.length-1;l>=0;--l){const o=i[l];if("$"===o.charAt(0))continue;if("options"===o){a.push(...this._animateOptions(e,t));continue}const c=t[o];let d=n[o];const u=s.get(o);if(d){if(u&&d.active()){d.update(u,c,r);continue}d.cancel()}u&&u.duration?(n[o]=d=new Oo(u,e,o,c),a.push(d)):e[o]=c}return a}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const s=this._createAnimations(e,t);return s.length?(Do.add(this._chart,s),!0):void 0}}function Mo(e,t){const s=e&&e.options||{},a=s.reverse,n=void 0===s.min?t:0,i=void 0===s.max?t:0;return{start:a?i:n,end:a?n:i}}function Lo(e,t){const s=[],a=e._getSortedDatasetMetas(t);let n,i;for(n=0,i=a.length;n<i;++n)s.push(a[n].index);return s}function Uo(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const n=e.keys,i="single"===a.mode;let r,l,o,c;if(null===t)return;let d=!1;for(r=0,l=n.length;r<l;++r){if(o=+n[r],o===s){if(d=!0,a.all)continue;break}c=e.values[o],qi(c)&&(i||0===t||xr(t)===xr(c))&&(t+=c)}return d||a.all?t:0}function Bo(e,t){const s=e&&e.options.stacked;return s||void 0===s&&void 0!==t.stack}function zo(e,t,s){const a=e[t]||(e[t]={});return a[s]||(a[s]={})}function Vo(e,t,s,a){for(const n of t.getMatchingVisibleMetas(a).reverse()){const t=e[n.index];if(s&&t>0||!s&&t<0)return n.index}return null}function Yo(e,t){const{chart:s,_cachedMeta:a}=e,n=s._stacks||(s._stacks={}),{iScale:i,vScale:r,index:l}=a,o=i.axis,c=r.axis,d=function(e,t,s){return"".concat(e.id,".").concat(t.id,".").concat(s.stack||s.type)}(i,r,a),u=t.length;let h;for(let m=0;m<u;++m){const e=t[m],{[o]:s,[c]:i}=e;h=(e._stacks||(e._stacks={}))[c]=zo(n,d,s),h[l]=i,h._top=Vo(h,r,!0,a.type),h._bottom=Vo(h,r,!1,a.type);(h._visualValues||(h._visualValues={}))[l]=i}}function qo(e,t){const s=e.scales;return Object.keys(s).filter(e=>s[e].axis===t).shift()}function Wo(e,t){const s=e.controller.index,a=e.vScale&&e.vScale.axis;if(a){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[a]||void 0===t[a][s])return;delete t[a][s],void 0!==t[a]._visualValues&&void 0!==t[a]._visualValues[s]&&delete t[a]._visualValues[s]}}}const Ho=e=>"reset"===e||"none"===e,Ko=(e,t)=>t?e:Object.assign({},e);class $o{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Bo(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),a=(e,t,s,a)=>"x"===e?t:"r"===e?a:s,n=t.xAxisID=Hi(s.xAxisID,qo(e,"x")),i=t.yAxisID=Hi(s.yAxisID,qo(e,"y")),r=t.rAxisID=Hi(s.rAxisID,qo(e,"r")),l=t.indexAxis,o=t.iAxisID=a(l,n,i,r),c=t.vAxisID=a(l,i,n,r);t.xScale=this.getScaleForId(n),t.yScale=this.getScaleForId(i),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(o),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Mr(this._data,this),e._stacked&&Wo(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(Yi(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:s,vScale:a}=t,n="x"===s.axis?"x":"y",i="x"===a.axis?"x":"y",r=Object.keys(e),l=new Array(r.length);let o,c,d;for(o=0,c=r.length;o<c;++o)d=r[o],l[o]={[n]:d,[i]:e[d]};return l}(t,e)}else if(s!==t){if(s){Mr(s,this);const e=this._cachedMeta;Wo(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Rr.forEach(t=>{const s="_onData"+ir(t),a=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const r=a.apply(this,n);return e._chartjs.listeners.forEach(e=>{"function"===typeof e[s]&&e[s](...n)}),r}})}))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const n=t._stacked;t._stacked=Bo(t.vScale,t),t.stack!==s.stack&&(a=!0,Wo(t),t.stack=s.stack),this._resyncElements(e),(a||n!==t._stacked)&&(Yo(this,t._parsed),t._stacked=Bo(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:a}=this,{iScale:n,_stacked:i}=s,r=n.axis;let l,o,c,d=0===e&&t===a.length||s._sorted,u=e>0&&s._parsed[e-1];if(!1===this._parsing)s._parsed=a,s._sorted=!0,c=a;else{c=Vi(a[e])?this.parseArrayData(s,a,e,t):Yi(a[e])?this.parseObjectData(s,a,e,t):this.parsePrimitiveData(s,a,e,t);const n=()=>null===o[r]||u&&o[r]<u[r];for(l=0;l<t;++l)s._parsed[l+e]=o=c[l],d&&(n()&&(d=!1),u=o);s._sorted=d}i&&Yo(this,c)}parsePrimitiveData(e,t,s,a){const{iScale:n,vScale:i}=e,r=n.axis,l=i.axis,o=n.getLabels(),c=n===i,d=new Array(a);let u,h,m;for(u=0,h=a;u<h;++u)m=u+s,d[u]={[r]:c||n.parse(o[m],m),[l]:i.parse(t[m],m)};return d}parseArrayData(e,t,s,a){const{xScale:n,yScale:i}=e,r=new Array(a);let l,o,c,d;for(l=0,o=a;l<o;++l)c=l+s,d=t[c],r[l]={x:n.parse(d[0],c),y:i.parse(d[1],c)};return r}parseObjectData(e,t,s,a){const{xScale:n,yScale:i}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,o=new Array(a);let c,d,u,h;for(c=0,d=a;c<d;++c)u=c+s,h=t[u],o[c]={x:n.parse(nr(h,r),u),y:i.parse(nr(h,l),u)};return o}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const a=this.chart,n=this._cachedMeta,i=t[e.axis];return Uo({keys:Lo(a,!0),values:t._stacks[e.axis]._visualValues},i,n.index,{mode:s})}updateRangeFromParsed(e,t,s,a){const n=s[t.axis];let i=null===n?NaN:n;const r=a&&s._stacks[t.axis];a&&r&&(a.values=r,i=Uo(a,n,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,t){const s=this._cachedMeta,a=s._parsed,n=s._sorted&&e===s.iScale,i=a.length,r=this._getOtherScale(e),l=((e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:Lo(s,!0),values:null})(t,s,this.chart),o={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:s,minDefined:a,maxDefined:n}=e.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:n?s:Number.POSITIVE_INFINITY}}(r);let u,h;function m(){h=a[u];const t=h[r.axis];return!qi(h[e.axis])||c>t||d<t}for(u=0;u<i&&(m()||(this.updateRangeFromParsed(o,e,h,l),!n));++u);if(n)for(u=i-1;u>=0;--u)if(!m()){this.updateRangeFromParsed(o,e,h,l);break}return o}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let a,n,i;for(a=0,n=t.length;a<n;++a)i=t[a][e.axis],qi(i)&&s.push(i);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,a=t.vScale,n=this.getParsed(e);return{label:s?""+s.getLabelForValue(n[s.axis]):"",value:a?""+a.getLabelForValue(n[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,s,a,n;return Yi(e)?(t=e.top,s=e.right,a=e.bottom,n=e.left):t=s=a=n=e,{top:t,right:s,bottom:a,left:n,disabled:!1===e}}(Hi(this.options.clip,function(e,t,s){if(!1===s)return!1;const a=Mo(e,s),n=Mo(t,s);return{top:n.end,right:a.end,bottom:n.start,left:a.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,a=s.data||[],n=t.chartArea,i=[],r=this._drawStart||0,l=this._drawCount||a.length-r,o=this.options.drawActiveElementsOnTop;let c;for(s.dataset&&s.dataset.draw(e,n,r,l),c=r;c<r+l;++c){const t=a[c];t.hidden||(t.active&&o?i.push(t):t.draw(e,n))}for(c=0;c<i.length;++c)i[c].draw(e,n)}getStyle(e,t){const s=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const a=this.getDataset();let n;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];n=t.$context||(t.$context=function(e,t,s){return Ol(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),n.parsed=this.getParsed(e),n.raw=a.data[e],n.index=n.dataIndex=e}else n=this.$context||(this.$context=function(e,t){return Ol(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),n.dataset=a,n.index=n.datasetIndex=this.index;return n.active=!!t,n.mode=s,n}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2?arguments[2]:void 0;const a="active"===t,n=this._cachedDataOpts,i=e+"-"+t,r=n[i],l=this.enableOptionSharing&&rr(s);if(r)return Ko(r,l);const o=this.chart.config,c=o.datasetElementScopeKeys(this._type,e),d=a?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=o.getOptionScopes(this.getDataset(),c),h=Object.keys(cl.elements[e]),m=o.resolveNamedOptions(u,h,()=>this.getContext(s,a,t),d);return m.$shared&&(m.$shared=l,n[i]=Object.freeze(Ko(m,l))),m}_resolveAnimations(e,t,s){const a=this.chart,n=this._cachedDataOpts,i="animation-".concat(t),r=n[i];if(r)return r;let l;if(!1!==a.options.animation){const a=this.chart.config,n=a.datasetAnimationScopeKeys(this._type,t),i=a.getOptionScopes(this.getDataset(),n);l=a.createResolver(i,this.getContext(e,s,t))}const o=new Ro(a,l&&l.animations);return l&&l._cacheable&&(n[i]=Object.freeze(o)),o}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Ho(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),a=this._sharedOptions,n=this.getSharedOptions(s),i=this.includeOptions(t,n)||n!==a;return this.updateSharedOptions(n,t,s),{sharedOptions:n,includeOptions:i}}updateElement(e,t,s,a){Ho(a)?Object.assign(e,s):this._resolveAnimations(t,a).update(e,s)}updateSharedOptions(e,t,s){e&&!Ho(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,a){e.active=a;const n=this.getStyle(t,a);this._resolveAnimations(t,s,a).update(e,{options:!a&&this.getSharedOptions(n)||n})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[r,l,o]of this._syncList)this[r](l,o);this._syncList=[];const a=s.length,n=t.length,i=Math.min(n,a);i&&this.parse(0,i),n>a?this._insertElements(a,n-a,e):n<a&&this._removeElements(n,a-n)}_insertElements(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=this._cachedMeta,n=a.data,i=e+t;let r;const l=e=>{for(e.length+=t,r=e.length-1;r>=i;r--)e[r]=e[r-t]};for(l(n),r=e;r<i;++r)n[r]=new this.dataElementType;this._parsing&&l(a._parsed),this.parse(e,t),s&&this.updateElements(n,e,t,"reset")}updateElements(e,t,s,a){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,t);s._stacked&&Wo(s,a)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,a]=e;this[t](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Go(e){const t=e.iScale,s=function(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let a=[];for(let t=0,n=s.length;t<n;t++)a=a.concat(s[t].controller.getAllParsedValues(e));e._cache.$bar=Lr(a.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let a,n,i,r,l=t._length;const o=()=>{32767!==i&&-32768!==i&&(rr(r)&&(l=Math.min(l,Math.abs(i-r)||l)),r=i)};for(a=0,n=s.length;a<n;++a)i=t.getPixelForValue(s[a]),o();for(r=void 0,a=0,n=t.ticks.length;a<n;++a)i=t.getPixelForTick(a),o();return l}function Jo(e,t,s,a){return Vi(e)?function(e,t,s,a){const n=s.parse(e[0],a),i=s.parse(e[1],a),r=Math.min(n,i),l=Math.max(n,i);let o=r,c=l;Math.abs(r)>Math.abs(l)&&(o=l,c=r),t[s.axis]=c,t._custom={barStart:o,barEnd:c,start:n,end:i,min:r,max:l}}(e,t,s,a):t[s.axis]=s.parse(e,a),t}function Qo(e,t,s,a){const n=e.iScale,i=e.vScale,r=n.getLabels(),l=n===i,o=[];let c,d,u,h;for(c=s,d=s+a;c<d;++c)h=t[c],u={},u[n.axis]=l||n.parse(r[c],c),o.push(Jo(h,u,i,c));return o}function Xo(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Zo(e,t,s,a){let n=t.borderSkipped;const i={};if(!n)return void(e.borderSkipped=i);if(!0===n)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:r,end:l,reverse:o,top:c,bottom:d}=function(e){let t,s,a,n,i;return e.horizontal?(t=e.base>e.x,s="left",a="right"):(t=e.base<e.y,s="bottom",a="top"),t?(n="end",i="start"):(n="start",i="end"),{start:s,end:a,reverse:t,top:n,bottom:i}}(e);"middle"===n&&s&&(e.enableBorderRadius=!0,(s._top||0)===a?n=c:(s._bottom||0)===a?n=d:(i[ec(d,r,l,o)]=!0,n=c)),i[ec(n,r,l,o)]=!0,e.borderSkipped=i}function ec(e,t,s,a){var n,i,r;return a?(r=s,e=tc(e=(n=e)===(i=t)?r:n===r?i:n,s,t)):e=tc(e,t,s),e}function tc(e,t,s){return"start"===e?t:"end"===e?s:e}function sc(e,t,s){let{inflateAmount:a}=t;e.inflateAmount="auto"===a?1===s?.33:0:a}(0,ii.A)($o,"defaults",{}),(0,ii.A)($o,"datasetElementType",null),(0,ii.A)($o,"dataElementType",null);class ac extends $o{parsePrimitiveData(e,t,s,a){return Qo(e,t,s,a)}parseArrayData(e,t,s,a){return Qo(e,t,s,a)}parseObjectData(e,t,s,a){const{iScale:n,vScale:i}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,o="x"===n.axis?r:l,c="x"===i.axis?r:l,d=[];let u,h,m,p;for(u=s,h=s+a;u<h;++u)p=t[u],m={},m[n.axis]=n.parse(nr(p,o),u),d.push(Jo(nr(p,c),m,i,u));return d}updateRangeFromParsed(e,t,s,a){super.updateRangeFromParsed(e,t,s,a);const n=s._custom;n&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,n.min),e.max=Math.max(e.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:a}=t,n=this.getParsed(e),i=n._custom,r=Xo(i)?"["+i.start+", "+i.end+"]":""+a.getLabelForValue(n[a.axis]);return{label:""+s.getLabelForValue(n[s.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,a){const n="reset"===a,{index:i,_cachedMeta:{vScale:r}}=this,l=r.getBasePixel(),o=r.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,a);for(let h=t;h<t+s;h++){const t=this.getParsed(h),s=n||zi(t[r.axis])?{base:l,head:l}:this._calculateBarValuePixels(h),m=this._calculateBarIndexPixels(h,c),p=(t._stacks||{})[r.axis],f={horizontal:o,base:s.base,enableBorderRadius:!p||Xo(t._custom)||i===p._top||i===p._bottom,x:o?s.head:m.center,y:o?m.center:s.head,height:o?m.size:Math.abs(s.size),width:o?Math.abs(s.size):m.size};u&&(f.options=d||this.resolveDataElementOptions(h,e[h].active?"active":a));const g=f.options||e[h].options;Zo(f,g,p,i),sc(f,g,c.ratio),this.updateElement(e[h],h,f,a)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),n=s.options.stacked,i=[],r=this._cachedMeta.controller.getParsed(t),l=r&&r[s.axis],o=e=>{const t=e._parsed.find(e=>e[s.axis]===l),a=t&&t[e.vScale.axis];if(zi(a)||isNaN(a))return!0};for(const c of a)if((void 0===t||!o(c))&&((!1===n||-1===i.indexOf(c.stack)||void 0===n&&void 0===c.stack)&&i.push(c.stack),c.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Hi("x"===this.chart.options.indexAxis?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const a=this._getStacks(e,s),n=void 0!==t?a.indexOf(t):-1;return-1===n?a.length-1:n}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,a=[];let n,i;for(n=0,i=t.data.length;n<i;++n)a.push(s.getPixelForValue(this.getParsed(n)[s.axis],n));const r=e.barThickness;return{min:r||Go(t),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:r?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:a},options:{base:n,minBarLength:i}}=this,r=n||0,l=this.getParsed(e),o=l._custom,c=Xo(o);let d,u,h=l[t.axis],m=0,p=s?this.applyStack(t,l,s):h;p!==h&&(m=p-h,p=h),c&&(h=o.barStart,p=o.barEnd-o.barStart,0!==h&&xr(h)!==xr(o.barEnd)&&(m=0),m+=h);const f=zi(n)||c?m:n;let g=t.getPixelForValue(f);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(m+p):g,u=d-g,Math.abs(u)<i){u=function(e,t,s){return 0!==e?xr(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}(u,t,r)*i,h===r&&(g-=u/2);const e=t.getPixelForDecimal(0),n=t.getPixelForDecimal(1),o=Math.min(e,n),m=Math.max(e,n);g=Math.max(Math.min(g,m),o),d=g+u,s&&!c&&(l._stacks[t.axis]._visualValues[a]=t.getValueForPixel(d)-t.getValueForPixel(g))}if(g===t.getPixelForValue(r)){const e=xr(u)*t.getLineWidthForValue(r)/2;g+=e,u-=e}return{size:u,base:g,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const s=t.scale,a=this.options,n=a.skipNull,i=Hi(a.maxBarThickness,1/0);let r,l;const o=this._getAxisCount();if(t.grouped){const s=n?this._getStackCount(e):t.stackCount,c="flex"===a.barThickness?function(e,t,s,a){const n=t.pixels,i=n[e];let r=e>0?n[e-1]:null,l=e<n.length-1?n[e+1]:null;const o=s.categoryPercentage;null===r&&(r=i-(null===l?t.end-t.start:l-i)),null===l&&(l=i+i-r);const c=i-(i-Math.min(r,l))/2*o;return{chunk:Math.abs(l-r)/2*o/a,ratio:s.barPercentage,start:c}}(e,t,a,s*o):function(e,t,s,a){const n=s.barThickness;let i,r;return zi(n)?(i=t.min*s.categoryPercentage,r=s.barPercentage):(i=n*a,r=1),{chunk:i/a,ratio:r,start:t.pixels[e]-i/2}}(e,t,a,s*o),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(Hi(d,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,n?e:void 0)+u;r=c.start+c.chunk*h+c.chunk/2,l=Math.min(i,c.chunk*c.ratio)}else r=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(i,t.min*t.ratio);return{base:r-l/2,head:r+l/2,center:r,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,a=s.length;let n=0;for(;n<a;++n)null===this.getParsed(n)[t.axis]||s[n].hidden||s[n].draw(this._ctx)}}(0,ii.A)(ac,"id","bar"),(0,ii.A)(ac,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,ii.A)(ac,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class nc extends $o{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,s,a){const n=super.parsePrimitiveData(e,t,s,a);for(let i=0;i<n.length;i++)n[i]._custom=this.resolveDataElementOptions(i+s).radius;return n}parseArrayData(e,t,s,a){const n=super.parseArrayData(e,t,s,a);for(let i=0;i<n.length;i++){const e=t[s+i];n[i]._custom=Hi(e[2],this.resolveDataElementOptions(i+s).radius)}return n}parseObjectData(e,t,s,a){const n=super.parseObjectData(e,t,s,a);for(let i=0;i<n.length;i++){const e=t[s+i];n[i]._custom=Hi(e&&e.r&&+e.r,this.resolveDataElementOptions(i+s).radius)}return n}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let s=e.length-1;s>=0;--s)t=Math.max(t,e[s].size(this.resolveDataElementOptions(s))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:n}=t,i=this.getParsed(e),r=a.getLabelForValue(i.x),l=n.getLabelForValue(i.y),o=i._custom;return{label:s[e]||"",value:"("+r+", "+l+(o?", "+o:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,s,a){const n="reset"===a,{iScale:i,vScale:r}=this._cachedMeta,{sharedOptions:l,includeOptions:o}=this._getSharedOptions(t,a),c=i.axis,d=r.axis;for(let u=t;u<t+s;u++){const t=e[u],s=!n&&this.getParsed(u),h={},m=h[c]=n?i.getPixelForDecimal(.5):i.getPixelForValue(s[c]),p=h[d]=n?r.getBasePixel():r.getPixelForValue(s[d]);h.skip=isNaN(m)||isNaN(p),o&&(h.options=l||this.resolveDataElementOptions(u,t.active?"active":a),n&&(h.options.radius=0)),this.updateElement(t,u,h,a)}}resolveDataElementOptions(e,t){const s=this.getParsed(e);let a=super.resolveDataElementOptions(e,t);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const n=a.radius;return"active"!==t&&(a.radius=0),a.radius+=Hi(s&&s._custom,n),a}}(0,ii.A)(nc,"id","bubble"),(0,ii.A)(nc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,ii.A)(nc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class ic extends $o{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,a=this._cachedMeta;if(!1===this._parsing)a._parsed=s;else{let n,i,r=e=>+s[e];if(Yi(s[e])){const{key:e="value"}=this._parsing;r=t=>+nr(s[t],e)}for(n=e,i=e+t;n<i;++n)a._parsed[n]=r(n)}}_getRotation(){return wr(this.options.rotation-90)}_getCircumference(){return wr(this.options.circumference)}_getRotationExtents(){let e=dr,t=-dr;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,n=a._getRotation(),i=a._getCircumference();e=Math.min(e,n),t=Math.max(t,n+i)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,a=this._cachedMeta,n=a.data,i=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,r=Math.max((Math.min(s.width,s.height)-i)/2,0),l=Math.min((o=this.options.cutout,c=r,"string"===typeof o&&o.endsWith("%")?parseFloat(o)/100:+o/c),1);var o,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:f,offsetY:g}=function(e,t,s){let a=1,n=1,i=0,r=0;if(t<dr){const l=e,o=l+t,c=Math.cos(l),d=Math.sin(l),u=Math.cos(o),h=Math.sin(o),m=(e,t,a)=>Ir(e,l,o,!0)?1:Math.max(t,t*s,a,a*s),p=(e,t,a)=>Ir(e,l,o,!0)?-1:Math.min(t,t*s,a,a*s),f=m(0,c,u),g=m(pr,d,h),v=p(cr,c,u),x=p(cr+pr,d,h);a=(f-v)/2,n=(g-x)/2,i=-(f+v)/2,r=-(g+x)/2}return{ratioX:a,ratioY:n,offsetX:i,offsetY:r}}(h,u,l),v=(s.width-i)/m,x=(s.height-i)/p,b=Math.max(Math.min(v,x)/2,0),y=Ki(this.options.radius,b),j=(y-Math.max(y*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=g*y,a.total=this.calculateTotal(),this.outerRadius=y-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*d,0),this.updateElements(n,0,n.length,e)}_circumference(e,t){const s=this.options,a=this._cachedMeta,n=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||null===a._parsed[e]||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*n/dr)}updateElements(e,t,s,a){const n="reset"===a,i=this.chart,r=i.chartArea,l=i.options.animation,o=(r.left+r.right)/2,c=(r.top+r.bottom)/2,d=n&&l.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,a);let f,g=this._getRotation();for(f=0;f<t;++f)g+=this._circumference(f,n);for(f=t;f<t+s;++f){const t=this._circumference(f,n),s=e[f],i={x:o+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:u};p&&(i.options=m||this.resolveDataElementOptions(f,s.active?"active":a)),g+=t,this.updateElement(s,f,i,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s,a=0;for(s=0;s<t.length;s++){const n=e._parsed[s];null===n||isNaN(n)||!this.chart.getDataVisibility(s)||t[s].hidden||(a+=Math.abs(n))}return a}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?dr*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,a=s.data.labels||[],n=tl(t._parsed[e],s.options.locale);return{label:a[e]||"",value:n}}getMaxBorderWidth(e){let t=0;const s=this.chart;let a,n,i,r,l;if(!e)for(a=0,n=s.data.datasets.length;a<n;++a)if(s.isDatasetVisible(a)){i=s.getDatasetMeta(a),e=i.data,r=i.controller;break}if(!e)return 0;for(a=0,n=e.length;a<n;++a)l=r.resolveDataElementOptions(a),"inner"!==l.borderAlign&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,a=e.length;s<a;++s){const e=this.resolveDataElementOptions(s);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(Hi(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,ii.A)(ic,"id","doughnut"),(0,ii.A)(ic,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,ii.A)(ic,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),(0,ii.A)(ic,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return t.labels.map((t,n)=>{const i=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:a,lineWidth:i.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(n),index:n}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}});class rc extends $o{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:a=[],_dataset:n}=t,i=this.chart._animationsDisabled;let{start:r,count:l}=Yr(t,a,i);this._drawStart=r,this._drawCount=l,qr(t)&&(r=0,l=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!n._decimated,s.points=a;const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0),o.segment=this.options.segment,this.updateElement(s,void 0,{animated:!i,options:o},e),this.updateElements(a,r,l,e)}updateElements(e,t,s,a){const n="reset"===a,{iScale:i,vScale:r,_stacked:l,_dataset:o}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,a),u=i.axis,h=r.axis,{spanGaps:m,segment:p}=this.options,f=jr(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||n||"none"===a,v=t+s,x=e.length;let b=t>0&&this.getParsed(t-1);for(let y=0;y<x;++y){const s=e[y],m=g?s:{};if(y<t||y>=v){m.skip=!0;continue}const x=this.getParsed(y),j=zi(x[h]),N=m[u]=i.getPixelForValue(x[u],y),w=m[h]=n||j?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,x,l):x[h],y);m.skip=isNaN(N)||isNaN(w)||j,m.stop=y>0&&Math.abs(x[u]-b[u])>f,p&&(m.parsed=x,m.raw=o.data[y]),d&&(m.options=c||this.resolveDataElementOptions(y,s.active?"active":a)),g||this.updateElement(s,y,m,a),b=x}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return s;const n=a[0].size(this.resolveDataElementOptions(0)),i=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,n,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}(0,ii.A)(rc,"id","line"),(0,ii.A)(rc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,ii.A)(rc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class lc extends $o{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,a=s.data.labels||[],n=tl(t._parsed[e].r,s.options.locale);return{label:a[e]||"",value:n}}parseObjectData(e,t,s,a){return Gl.bind(this)(e,t,s,a)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<t.min&&(t.min=a),a>t.max&&(t.max=a))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,s=e.options,a=Math.min(t.right-t.left,t.bottom-t.top),n=Math.max(a/2,0),i=(n-Math.max(s.cutoutPercentage?n/100*s.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=n-i*this.index,this.innerRadius=this.outerRadius-i}updateElements(e,t,s,a){const n="reset"===a,i=this.chart,r=i.options.animation,l=this._cachedMeta.rScale,o=l.xCenter,c=l.yCenter,d=l.getIndexAngle(0)-.5*cr;let u,h=d;const m=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,a,m);for(u=t;u<t+s;u++){const t=e[u];let s=h,p=h+this._computeAngle(u,a,m),f=i.getDataVisibility(u)?l.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=p,n&&(r.animateScale&&(f=0),r.animateRotate&&(s=p=d));const g={x:o,y:c,innerRadius:0,outerRadius:f,startAngle:s,endAngle:p,options:this.resolveDataElementOptions(u,t.active?"active":a)};this.updateElement(t,u,g,a)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++}),t}_computeAngle(e,t,s){return this.chart.getDataVisibility(e)?wr(this.resolveDataElementOptions(e,t).angle||s):0}}(0,ii.A)(lc,"id","polarArea"),(0,ii.A)(lc,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,ii.A)(lc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return t.labels.map((t,n)=>{const i=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:a,lineWidth:i.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(n),index:n}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class oc extends ic{}(0,ii.A)(oc,"id","pie"),(0,ii.A)(oc,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class cc extends $o{getLabelAndValue(e){const t=this._cachedMeta.vScale,s=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(s[t.axis])}}parseObjectData(e,t,s,a){return Gl.bind(this)(e,t,s,a)}update(e){const t=this._cachedMeta,s=t.dataset,a=t.data||[],n=t.iScale.getLabels();if(s.points=a,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const i={_loop:!0,_fullLoop:n.length===a.length,options:t};this.updateElement(s,void 0,i,e)}this.updateElements(a,0,a.length,e)}updateElements(e,t,s,a){const n=this._cachedMeta.rScale,i="reset"===a;for(let r=t;r<t+s;r++){const t=e[r],s=this.resolveDataElementOptions(r,t.active?"active":a),l=n.getPointPositionForValue(r,this.getParsed(r).r),o=i?n.xCenter:l.x,c=i?n.yCenter:l.y,d={x:o,y:c,angle:l.angle,skip:isNaN(o)||isNaN(c),options:s};this.updateElement(t,r,d,a)}}}(0,ii.A)(cc,"id","radar"),(0,ii.A)(cc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,ii.A)(cc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class dc extends $o{getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:n}=t,i=this.getParsed(e),r=a.getLabelForValue(i.x),l=n.getLabelForValue(i.y);return{label:s[e]||"",value:"("+r+", "+l+")"}}update(e){const t=this._cachedMeta,{data:s=[]}=t,a=this.chart._animationsDisabled;let{start:n,count:i}=Yr(t,s,a);if(this._drawStart=n,this._drawCount=i,qr(t)&&(n=0,i=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:n,_dataset:i}=t;n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=s;const r=this.resolveDatasetElementOptions(e);r.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:r},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(s,n,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,s,a){const n="reset"===a,{iScale:i,vScale:r,_stacked:l,_dataset:o}=this._cachedMeta,c=this.resolveDataElementOptions(t,a),d=this.getSharedOptions(c),u=this.includeOptions(a,d),h=i.axis,m=r.axis,{spanGaps:p,segment:f}=this.options,g=jr(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||n||"none"===a;let x=t>0&&this.getParsed(t-1);for(let b=t;b<t+s;++b){const t=e[b],s=this.getParsed(b),c=v?t:{},p=zi(s[m]),y=c[h]=i.getPixelForValue(s[h],b),j=c[m]=n||p?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,s,l):s[m],b);c.skip=isNaN(y)||isNaN(j)||p,c.stop=b>0&&Math.abs(s[h]-x[h])>g,f&&(c.parsed=s,c.raw=o.data[b]),u&&(c.options=d||this.resolveDataElementOptions(b,t.active?"active":a)),v||this.updateElement(t,b,c,a),x=s}this.updateSharedOptions(d,a,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}const s=e.dataset,a=s.options&&s.options.borderWidth||0;if(!t.length)return a;const n=t[0].size(this.resolveDataElementOptions(0)),i=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(a,n,i)/2}}(0,ii.A)(dc,"id","scatter"),(0,ii.A)(dc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,ii.A)(dc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var uc=Object.freeze({__proto__:null,BarController:ac,BubbleController:nc,DoughnutController:ic,LineController:rc,PieController:oc,PolarAreaController:lc,RadarController:cc,ScatterController:dc});function hc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class mc{static override(e){Object.assign(mc.prototype,e)}constructor(e){(0,ii.A)(this,"options",void 0),this.options=e||{}}init(){}formats(){return hc()}parse(){return hc()}format(){return hc()}add(){return hc()}diff(){return hc()}startOf(){return hc()}endOf(){return hc()}}var pc=mc;function fc(e,t,s,a){const{controller:n,data:i,_sorted:r}=e,l=n._cachedMeta.iScale,o=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&"r"!==t&&r&&i.length){const r=l._reversePixels?Or:Tr;if(!a){const a=r(i,t,s);if(o){const{vScale:t}=n._cachedMeta,{_parsed:s}=e,i=s.slice(0,a.lo+1).reverse().findIndex(e=>!zi(e[t.axis]));a.lo-=Math.max(0,i);const r=s.slice(a.hi).findIndex(e=>!zi(e[t.axis]));a.hi+=Math.max(0,r)}return a}if(n._sharedOptions){const e=i[0],a="function"===typeof e.getRange&&e.getRange(t);if(a){const e=r(i,t,s-a),n=r(i,t,s+a);return{lo:e.lo,hi:n.hi}}}}return{lo:0,hi:i.length-1}}function gc(e,t,s,a,n){const i=e.getSortedVisibleDatasetMetas(),r=s[t];for(let l=0,o=i.length;l<o;++l){const{index:e,data:s}=i[l],{lo:o,hi:c}=fc(i[l],t,r,n);for(let t=o;t<=c;++t){const n=s[t];n.skip||a(n,e,t)}}}function vc(e,t,s,a,n){const i=[];if(!n&&!e.isPointInArea(t))return i;return gc(e,s,t,function(s,r,l){(n||gl(s,e.chartArea,0))&&s.inRange(t.x,t.y,a)&&i.push({element:s,datasetIndex:r,index:l})},!0),i}function xc(e,t,s,a,n,i){let r=[];const l=function(e){const t=-1!==e.indexOf("x"),s=-1!==e.indexOf("y");return function(e,a){const n=t?Math.abs(e.x-a.x):0,i=s?Math.abs(e.y-a.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(i,2))}}(s);let o=Number.POSITIVE_INFINITY;return gc(e,s,t,function(s,c,d){const u=s.inRange(t.x,t.y,n);if(a&&!u)return;const h=s.getCenterPoint(n);if(!(!!i||e.isPointInArea(h))&&!u)return;const m=l(t,h);m<o?(r=[{element:s,datasetIndex:c,index:d}],o=m):m===o&&r.push({element:s,datasetIndex:c,index:d})}),r}function bc(e,t,s,a,n,i){return i||e.isPointInArea(t)?"r"!==s||a?xc(e,t,s,a,n,i):function(e,t,s,a){let n=[];return gc(e,s,t,function(e,s,i){const{startAngle:r,endAngle:l}=e.getProps(["startAngle","endAngle"],a),{angle:o}=Cr(e,{x:t.x,y:t.y});Ir(o,r,l)&&n.push({element:e,datasetIndex:s,index:i})}),n}(e,t,s,n):[]}function yc(e,t,s,a,n){const i=[],r="x"===s?"inXRange":"inYRange";let l=!1;return gc(e,s,t,(e,a,o)=>{e[r]&&e[r](t[s],n)&&(i.push({element:e,datasetIndex:a,index:o}),l=l||e.inRange(t.x,t.y,n))}),a&&!l?[]:i}var jc={evaluateInteractionItems:gc,modes:{index(e,t,s,a){const n=co(t,e),i=s.axis||"x",r=s.includeInvisible||!1,l=s.intersect?vc(e,n,i,a,r):bc(e,n,i,!1,a,r),o=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=l[0].index,s=e.data[t];s&&!s.skip&&o.push({element:s,datasetIndex:e.index,index:t})}),o):[]},dataset(e,t,s,a){const n=co(t,e),i=s.axis||"xy",r=s.includeInvisible||!1;let l=s.intersect?vc(e,n,i,a,r):bc(e,n,i,!1,a,r);if(l.length>0){const t=l[0].datasetIndex,s=e.getDatasetMeta(t).data;l=[];for(let e=0;e<s.length;++e)l.push({element:s[e],datasetIndex:t,index:e})}return l},point:(e,t,s,a)=>vc(e,co(t,e),s.axis||"xy",a,s.includeInvisible||!1),nearest(e,t,s,a){const n=co(t,e),i=s.axis||"xy",r=s.includeInvisible||!1;return bc(e,n,i,s.intersect,a,r)},x:(e,t,s,a)=>yc(e,co(t,e),"x",s.intersect,a),y:(e,t,s,a)=>yc(e,co(t,e),"y",s.intersect,a)}};const Nc=["left","top","right","bottom"];function wc(e,t){return e.filter(e=>e.pos===t)}function Sc(e,t){return e.filter(e=>-1===Nc.indexOf(e.pos)&&e.box.axis===t)}function kc(e,t){return e.sort((e,s)=>{const a=t?s:e,n=t?e:s;return a.weight===n.weight?a.index-n.index:a.weight-n.weight})}function Cc(e,t){const s=function(e){const t={};for(const s of e){const{stack:e,pos:a,stackWeight:n}=s;if(!e||!Nc.includes(a))continue;const i=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=n}return t}(e),{vBoxMaxWidth:a,hBoxMaxHeight:n}=t;let i,r,l;for(i=0,r=e.length;i<r;++i){l=e[i];const{fullSize:r}=l.box,o=s[l.stack],c=o&&l.stackWeight/o.weight;l.horizontal?(l.width=c?c*a:r&&t.availableWidth,l.height=n):(l.width=a,l.height=c?c*n:r&&t.availableHeight)}return s}function Ac(e,t,s,a){return Math.max(e[s],t[s])+Math.max(e[a],t[a])}function Ec(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Pc(e,t,s,a){const{pos:n,box:i}=s,r=e.maxPadding;if(!Yi(n)){s.size&&(e[n]-=s.size);const t=a[s.stack]||{size:0,count:1};t.size=Math.max(t.size,s.horizontal?i.height:i.width),s.size=t.size/t.count,e[n]+=s.size}i.getPadding&&Ec(r,i.getPadding());const l=Math.max(0,t.outerWidth-Ac(r,e,"left","right")),o=Math.max(0,t.outerHeight-Ac(r,e,"top","bottom")),c=l!==e.w,d=o!==e.h;return e.w=l,e.h=o,s.horizontal?{same:c,other:d}:{same:d,other:c}}function Ic(e,t){const s=t.maxPadding;function a(e){const a={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{a[e]=Math.max(t[e],s[e])}),a}return a(e?["left","right"]:["top","bottom"])}function Fc(e,t,s,a){const n=[];let i,r,l,o,c,d;for(i=0,r=e.length,c=0;i<r;++i){l=e[i],o=l.box,o.update(l.width||t.w,l.height||t.h,Ic(l.horizontal,t));const{same:r,other:u}=Pc(t,s,l,a);c|=r&&n.length,d=d||u,o.fullSize||n.push(l)}return c&&Fc(n,t,s,a)||d}function Dc(e,t,s,a,n){e.top=s,e.left=t,e.right=t+a,e.bottom=s+n,e.width=a,e.height=n}function _c(e,t,s,a){const n=s.padding;let{x:i,y:r}=t;for(const l of e){const e=l.box,o=a[l.stack]||{count:1,placed:0,weight:1},c=l.stackWeight/o.weight||1;if(l.horizontal){const a=t.w*c,i=o.size||e.height;rr(o.start)&&(r=o.start),e.fullSize?Dc(e,n.left,r,s.outerWidth-n.right-n.left,i):Dc(e,t.left+o.placed,r,a,i),o.start=r,o.placed+=a,r=e.bottom}else{const a=t.h*c,r=o.size||e.width;rr(o.start)&&(i=o.start),e.fullSize?Dc(e,i,n.top,r,s.outerHeight-n.bottom-n.top):Dc(e,i,t.top+o.placed,r,a),o.start=i,o.placed+=a,i=e.right}}t.x=i,t.y=r}var Tc={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;-1!==s&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,a){if(!e)return;const n=Dl(e.options.layout.padding),i=Math.max(t-n.width,0),r=Math.max(s-n.height,0),l=function(e){const t=function(e){const t=[];let s,a,n,i,r,l;for(s=0,a=(e||[]).length;s<a;++s)n=e[s],({position:i,options:{stack:r,stackWeight:l=1}}=n),t.push({index:s,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:r&&i+r,stackWeight:l});return t}(e),s=kc(t.filter(e=>e.box.fullSize),!0),a=kc(wc(t,"left"),!0),n=kc(wc(t,"right")),i=kc(wc(t,"top"),!0),r=kc(wc(t,"bottom")),l=Sc(t,"x"),o=Sc(t,"y");return{fullSize:s,leftAndTop:a.concat(i),rightAndBottom:n.concat(o).concat(r).concat(l),chartArea:wc(t,"chartArea"),vertical:a.concat(n).concat(o),horizontal:i.concat(r).concat(l)}}(e.boxes),o=l.vertical,c=l.horizontal;Gi(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const d=o.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:s,padding:n,availableWidth:i,availableHeight:r,vBoxMaxWidth:i/2/d,hBoxMaxHeight:r/2}),h=Object.assign({},n);Ec(h,Dl(a));const m=Object.assign({maxPadding:h,w:i,h:r,x:n.left,y:n.top},n),p=Cc(o.concat(c),u);Fc(l.fullSize,m,u,p),Fc(o,m,u,p),Fc(c,m,u,p)&&Fc(o,m,u,p),function(e){const t=e.maxPadding;function s(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}(m),_c(l.leftAndTop,m,u,p),m.x+=m.w,m.y+=m.h,_c(l.rightAndBottom,m,u,p),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Gi(l.chartArea,t=>{const s=t.box;Object.assign(s,e.chartArea),s.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Oc{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,a){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):s)}}isAttached(e){return!0}updateConfig(e){}}class Rc extends Oc{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Mc="$chartjs",Lc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Uc=e=>null===e||""===e;const Bc=!!po&&{passive:!0};function zc(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,Bc)}function Vc(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function Yc(e,t,s){const a=e.canvas,n=new MutationObserver(e=>{let t=!1;for(const s of e)t=t||Vc(s.addedNodes,a),t=t&&!Vc(s.removedNodes,a);t&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}function qc(e,t,s){const a=e.canvas,n=new MutationObserver(e=>{let t=!1;for(const s of e)t=t||Vc(s.removedNodes,a),t=t&&!Vc(s.addedNodes,a);t&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}const Wc=new Map;let Hc=0;function Kc(){const e=window.devicePixelRatio;e!==Hc&&(Hc=e,Wc.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function $c(e,t,s){const a=e.canvas,n=a&&no(a);if(!n)return;const i=Br((e,t)=>{const a=n.clientWidth;s(e,t),a<n.clientWidth&&s()},window),r=new ResizeObserver(e=>{const t=e[0],s=t.contentRect.width,a=t.contentRect.height;0===s&&0===a||i(s,a)});return r.observe(n),function(e,t){Wc.size||window.addEventListener("resize",Kc),Wc.set(e,t)}(e,i),r}function Gc(e,t,s){s&&s.disconnect(),"resize"===t&&function(e){Wc.delete(e),Wc.size||window.removeEventListener("resize",Kc)}(e)}function Jc(e,t,s){const a=e.canvas,n=Br(t=>{null!==e.ctx&&s(function(e,t){const s=Lc[e.type]||e.type,{x:a,y:n}=co(e,t);return{type:s,chart:t,native:e,x:void 0!==a?a:null,y:void 0!==n?n:null}}(t,e))},e);return function(e,t,s){e&&e.addEventListener(t,s,Bc)}(a,t,n),n}class Qc extends Oc{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(function(e,t){const s=e.style,a=e.getAttribute("height"),n=e.getAttribute("width");if(e[Mc]={initial:{height:a,width:n,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Uc(n)){const t=fo(e,"width");void 0!==t&&(e.width=t)}if(Uc(a))if(""===e.style.height)e.height=e.width/(t||2);else{const t=fo(e,"height");void 0!==t&&(e.height=t)}}(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[Mc])return!1;const s=t[Mc].initial;["height","width"].forEach(e=>{const a=s[e];zi(a)?t.removeAttribute(e):t.setAttribute(e,a)});const a=s.style||{};return Object.keys(a).forEach(e=>{t.style[e]=a[e]}),t.width=t.width,delete t[Mc],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),n={attach:Yc,detach:qc,resize:$c}[t]||Jc;a[t]=n(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),a=s[t];if(!a)return;({attach:Gc,detach:Gc,resize:Gc}[t]||zc)(e,t,a),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,a){return ho(e,t,s,a)}isAttached(e){const t=e&&no(e);return!(!t||!t.isConnected)}}class Xc{constructor(){(0,ii.A)(this,"x",void 0),(0,ii.A)(this,"y",void 0),(0,ii.A)(this,"active",!1),(0,ii.A)(this,"options",void 0),(0,ii.A)(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return jr(this.x)&&jr(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const a={};return e.forEach(e=>{a[e]=s[e]&&s[e].active()?s[e]._to:this[e]}),a}}function Zc(e,t){const s=e.options.ticks,a=function(e){const t=e.options.offset,s=e._tickSize(),a=e._length/s+(t?0:1),n=e._maxLength/s;return Math.floor(Math.min(a,n))}(e),n=Math.min(s.maxTicksLimit||a,a),i=s.major.enabled?function(e){const t=[];let s,a;for(s=0,a=e.length;s<a;s++)e[s].major&&t.push(s);return t}(t):[],r=i.length,l=i[0],o=i[r-1],c=[];if(r>n)return function(e,t,s,a){let n,i=0,r=s[0];for(a=Math.ceil(a),n=0;n<e.length;n++)n===r&&(t.push(e[n]),i++,r=s[i*a])}(t,c,i,r/n),c;const d=function(e,t,s){const a=function(e){const t=e.length;let s,a;if(t<2)return!1;for(a=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==a)return!1;return a}(e),n=t.length/s;if(!a)return Math.max(n,1);const i=function(e){const t=[],s=Math.sqrt(e);let a;for(a=1;a<s;a++)e%a===0&&(t.push(a),t.push(e/a));return s===(0|s)&&t.push(s),t.sort((e,t)=>e-t).pop(),t}(a);for(let r=0,l=i.length-1;r<l;r++){const e=i[r];if(e>n)return e}return Math.max(n,1)}(i,t,n);if(r>0){let e,s;const a=r>1?Math.round((o-l)/(r-1)):null;for(ed(t,c,d,zi(a)?0:l-a,l),e=0,s=r-1;e<s;e++)ed(t,c,d,i[e],i[e+1]);return ed(t,c,d,o,zi(a)?t.length:o+a),c}return ed(t,c,d),c}function ed(e,t,s,a,n){const i=Hi(a,0),r=Math.min(Hi(n,e.length),e.length);let l,o,c,d=0;for(s=Math.ceil(s),n&&(l=n-a,s=l/Math.floor(l/s)),c=i;c<0;)d++,c=Math.round(i+d*s);for(o=Math.max(i,0);o<r;o++)o===c&&(t.push(e[o]),d++,c=Math.round(i+d*s))}(0,ii.A)(Xc,"defaults",{}),(0,ii.A)(Xc,"defaultRoutes",void 0);const td=(e,t,s)=>"top"===t||"left"===t?e[t]+s:e[t]-s,sd=(e,t)=>Math.min(t||e,e);function ad(e,t){const s=[],a=e.length/t,n=e.length;let i=0;for(;i<n;i+=a)s.push(e[Math.floor(i)]);return s}function nd(e,t,s){const a=e.ticks.length,n=Math.min(t,a-1),i=e._startPixel,r=e._endPixel,l=1e-6;let o,c=e.getPixelForTick(n);if(!(s&&(o=1===a?Math.max(c-i,r-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(n-1))/2,c+=n<t?o:-o,c<i-l||c>r+l)))return c}function id(e){return e.drawTicks?e.tickLength:0}function rd(e,t){if(!e.display)return 0;const s=_l(e.font,t),a=Dl(e.padding);return(Vi(e.text)?e.text.length:1)*s.lineHeight+a.height}function ld(e,t,s){let a=zr(e);return(s&&"right"!==t||!s&&"right"===t)&&(a=(e=>"left"===e?"right":"right"===e?"left":e)(a)),a}class od extends Xc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:a}=this;return e=Wi(e,Number.POSITIVE_INFINITY),t=Wi(t,Number.NEGATIVE_INFINITY),s=Wi(s,Number.POSITIVE_INFINITY),a=Wi(a,Number.NEGATIVE_INFINITY),{min:Wi(e,s),max:Wi(t,a),minDefined:qi(e),maxDefined:qi(t)}}getMinMax(e){let t,{min:s,max:a,minDefined:n,maxDefined:i}=this.getUserBounds();if(n&&i)return{min:s,max:a};const r=this.getMatchingVisibleMetas();for(let l=0,o=r.length;l<o;++l)t=r[l].controller.getMinMax(this,e),n||(s=Math.min(s,t.min)),i||(a=Math.max(a,t.max));return s=i&&s>a?a:s,a=n&&s>a?s:a,{min:Wi(s,Wi(a,s)),max:Wi(a,Wi(s,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$i(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:a,grace:n,ticks:i}=this.options,r=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,s){const{min:a,max:n}=e,i=Ki(t,(n-a)/2),r=(e,t)=>s&&0===e?0:e+t;return{min:r(a,-Math.abs(i)),max:r(n,i)}}(this,n,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=r<this.ticks.length;this._convertTicksToLabels(l?ad(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(this.ticks=Zc(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,s=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,s=!s),this._startPixel=e,this._endPixel=t,this._reversePixels=s,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$i(this.options.afterUpdate,[this])}beforeSetDimensions(){$i(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$i(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),$i(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$i(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,a,n;for(s=0,a=e.length;s<a;s++)n=e[s],n.label=$i(t.callback,[n.value,s,e],this)}afterTickToLabelConversion(){$i(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$i(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=sd(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,n=t.maxRotation;let i,r,l,o=a;if(!this._isVisible()||!t.display||a>=n||s<=1||!this.isHorizontal())return void(this.labelRotation=a);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=Fr(this.chart.width-d,0,this.maxWidth);i=e.offset?this.maxWidth/s:h/(s-1),d+6>i&&(i=h/(s-(e.offset?.5:1)),r=this.maxHeight-id(e.grid)-t.padding-rd(e.title,this.chart.options.font),l=Math.sqrt(d*d+u*u),o=Sr(Math.min(Math.asin(Fr((c.highest.height+6)/i,-1,1)),Math.asin(Fr(r/l,-1,1))-Math.asin(Fr(u/l,-1,1)))),o=Math.max(a,Math.min(n,o))),this.labelRotation=o}afterCalculateLabelRotation(){$i(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$i(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:a,grid:n}}=this,i=this._isVisible(),r=this.isHorizontal();if(i){const i=rd(a,t.options.font);if(r?(e.width=this.maxWidth,e.height=id(n)+i):(e.height=this.maxHeight,e.width=id(n)+i),s.display&&this.ticks.length){const{first:t,last:a,widest:n,highest:i}=this._getLabelSizes(),l=2*s.padding,o=wr(this.labelRotation),c=Math.cos(o),d=Math.sin(o);if(r){const t=s.mirror?0:d*n.width+c*i.height;e.height=Math.min(this.maxHeight,e.height+t+l)}else{const t=s.mirror?0:c*n.width+d*i.height;e.width=Math.min(this.maxWidth,e.width+t+l)}this._calculatePadding(t,a,d,c)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,a){const{ticks:{align:n,padding:i},position:r}=this.options,l=0!==this.labelRotation,o="top"!==r&&"x"===this.axis;if(this.isHorizontal()){const r=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;l?o?(d=a*e.width,u=s*t.height):(d=s*e.height,u=a*t.width):"start"===n?u=t.width:"end"===n?d=e.width:"inner"!==n&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-r+i)*this.width/(this.width-r),0),this.paddingRight=Math.max((u-c+i)*this.width/(this.width-c),0)}else{let s=t.height/2,a=e.height/2;"start"===n?(s=0,a=e.height):"end"===n&&(s=t.height,a=0),this.paddingTop=s+i,this.paddingBottom=a+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$i(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,s=e.length;t<s;t++)zi(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=ad(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:a,_longestTextCache:n}=this,i=[],r=[],l=Math.floor(t/sd(t,s));let o,c,d,u,h,m,p,f,g,v,x,b=0,y=0;for(o=0;o<t;o+=l){if(u=e[o].label,h=this._resolveTickFontOptions(o),a.font=m=h.string,p=n[m]=n[m]||{data:{},gc:[]},f=h.lineHeight,g=v=0,zi(u)||Vi(u)){if(Vi(u))for(c=0,d=u.length;c<d;++c)x=u[c],zi(x)||Vi(x)||(g=dl(a,p.data,p.gc,g,x),v+=f)}else g=dl(a,p.data,p.gc,g,u),v=f;i.push(g),r.push(v),b=Math.max(g,b),y=Math.max(v,y)}!function(e,t){Gi(e,e=>{const s=e.gc,a=s.length/2;let n;if(a>t){for(n=0;n<a;++n)delete e.data[s[n]];s.splice(0,a)}})}(n,t);const j=i.indexOf(b),N=r.indexOf(y),w=e=>({width:i[e]||0,height:r[e]||0});return{first:w(0),last:w(t-1),widest:w(j),highest:w(N),widths:i,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Fr(this._alignToPixels?hl(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=function(e,t,s){return Ol(e,{tick:s,index:t,type:"tick"})}(this.getContext(),e,s))}return this.$context||(this.$context=Ol(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=wr(this.labelRotation),s=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),n=this._getLabelSizes(),i=e.autoSkipPadding||0,r=n?n.widest.width+i:0,l=n?n.highest.height+i:0;return this.isHorizontal()?l*s>r*a?r/s:l/a:l*a<r*s?l/s:r/a}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,a=this.options,{grid:n,position:i,border:r}=a,l=n.offset,o=this.isHorizontal(),c=this.ticks.length+(l?1:0),d=id(n),u=[],h=r.setContext(this.getContext()),m=h.display?h.width:0,p=m/2,f=function(e){return hl(s,e,m)};let g,v,x,b,y,j,N,w,S,k,C,A;if("top"===i)g=f(this.bottom),j=this.bottom-d,w=g-p,k=f(e.top)+p,A=e.bottom;else if("bottom"===i)g=f(this.top),k=e.top,A=f(e.bottom)-p,j=g+p,w=this.top+d;else if("left"===i)g=f(this.right),y=this.right-d,N=g-p,S=f(e.left)+p,C=e.right;else if("right"===i)g=f(this.left),S=e.left,C=f(e.right)-p,y=g+p,N=this.left+d;else if("x"===t){if("center"===i)g=f((e.top+e.bottom)/2+.5);else if(Yi(i)){const e=Object.keys(i)[0],t=i[e];g=f(this.chart.scales[e].getPixelForValue(t))}k=e.top,A=e.bottom,j=g+p,w=j+d}else if("y"===t){if("center"===i)g=f((e.left+e.right)/2);else if(Yi(i)){const e=Object.keys(i)[0],t=i[e];g=f(this.chart.scales[e].getPixelForValue(t))}y=g-p,N=y-d,S=e.left,C=e.right}const E=Hi(a.ticks.maxTicksLimit,c),P=Math.max(1,Math.ceil(c/E));for(v=0;v<c;v+=P){const e=this.getContext(v),t=n.setContext(e),a=r.setContext(e),i=t.lineWidth,c=t.color,d=a.dash||[],h=a.dashOffset,m=t.tickWidth,p=t.tickColor,f=t.tickBorderDash||[],g=t.tickBorderDashOffset;x=nd(this,v,l),void 0!==x&&(b=hl(s,x,i),o?y=N=S=C=b:j=w=k=A=b,u.push({tx1:y,ty1:j,tx2:N,ty2:w,x1:S,y1:k,x2:C,y2:A,width:i,color:c,borderDash:d,borderDashOffset:h,tickWidth:m,tickColor:p,tickBorderDash:f,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,s=this.options,{position:a,ticks:n}=s,i=this.isHorizontal(),r=this.ticks,{align:l,crossAlign:o,padding:c,mirror:d}=n,u=id(s.grid),h=u+c,m=d?-c:h,p=-wr(this.labelRotation),f=[];let g,v,x,b,y,j,N,w,S,k,C,A,E="middle";if("top"===a)j=this.bottom-m,N=this._getXAxisLabelAlignment();else if("bottom"===a)j=this.top+m,N=this._getXAxisLabelAlignment();else if("left"===a){const e=this._getYAxisLabelAlignment(u);N=e.textAlign,y=e.x}else if("right"===a){const e=this._getYAxisLabelAlignment(u);N=e.textAlign,y=e.x}else if("x"===t){if("center"===a)j=(e.top+e.bottom)/2+h;else if(Yi(a)){const e=Object.keys(a)[0],t=a[e];j=this.chart.scales[e].getPixelForValue(t)+h}N=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===a)y=(e.left+e.right)/2-h;else if(Yi(a)){const e=Object.keys(a)[0],t=a[e];y=this.chart.scales[e].getPixelForValue(t)}N=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===l?E="top":"end"===l&&(E="bottom"));const P=this._getLabelSizes();for(g=0,v=r.length;g<v;++g){x=r[g],b=x.label;const e=n.setContext(this.getContext(g));w=this.getPixelForTick(g)+n.labelOffset,S=this._resolveTickFontOptions(g),k=S.lineHeight,C=Vi(b)?b.length:1;const t=C/2,s=e.color,l=e.textStrokeColor,c=e.textStrokeWidth;let u,h=N;if(i?(y=w,"inner"===N&&(h=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),A="top"===a?"near"===o||0!==p?-C*k+k/2:"center"===o?-P.highest.height/2-t*k+k:-P.highest.height+k/2:"near"===o||0!==p?k/2:"center"===o?P.highest.height/2-t*k:P.highest.height-C*k,d&&(A*=-1),0===p||e.showLabelBackdrop||(y+=k/2*Math.sin(p))):(j=w,A=(1-C)*k/2),e.showLabelBackdrop){const t=Dl(e.backdropPadding),s=P.heights[g],a=P.widths[g];let n=A-t.top,i=0-t.left;switch(E){case"middle":n-=s/2;break;case"bottom":n-=s}switch(N){case"center":i-=a/2;break;case"right":i-=a;break;case"inner":g===v-1?i-=a:g>0&&(i-=a/2)}u={left:i,top:n,width:a+t.width,height:s+t.height,color:e.backdropColor}}f.push({label:b,font:S,textOffset:A,options:{rotation:p,color:s,strokeColor:l,strokeWidth:c,textAlign:h,textBaseline:E,translation:[y,j],backdrop:u}})}return f}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-wr(this.labelRotation))return"top"===e?"left":"right";let s="center";return"start"===t.align?s="left":"end"===t.align?s="right":"inner"===t.align&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:a,padding:n}}=this.options,i=e+n,r=this._getLabelSizes().widest.width;let l,o;return"left"===t?a?(o=this.right+n,"near"===s?l="left":"center"===s?(l="center",o+=r/2):(l="right",o+=r)):(o=this.right-i,"near"===s?l="right":"center"===s?(l="center",o-=r/2):(l="left",o=this.left)):"right"===t?a?(o=this.left+n,"near"===s?l="right":"center"===s?(l="center",o-=r/2):(l="left",o-=r)):(o=this.left+i,"near"===s?l="left":"center"===s?(l="center",o+=r/2):(l="right",o=this.right)):l="right",{textAlign:l,x:o}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:a,width:n,height:i}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,a,n,i),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(t=>t.value===e);if(s>=0){return t.setContext(this.getContext(s)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let n,i;const r=(e,t,a)=>{a.width&&a.color&&(s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.setLineDash(a.borderDash||[]),s.lineDashOffset=a.borderDashOffset,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke(),s.restore())};if(t.display)for(n=0,i=a.length;n<i;++n){const e=a[n];t.drawOnChartArea&&r({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&r({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:a}}=this,n=s.setContext(this.getContext()),i=s.display?n.width:0;if(!i)return;const r=a.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let o,c,d,u;this.isHorizontal()?(o=hl(e,this.left,i)-i/2,c=hl(e,this.right,r)+r/2,d=u=l):(d=hl(e,this.top,i)-i/2,u=hl(e,this.bottom,r)+r/2,o=c=l),t.save(),t.lineWidth=n.width,t.strokeStyle=n.color,t.beginPath(),t.moveTo(o,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,s=this._computeLabelArea();s&&vl(t,s);const a=this.getLabelItems(e);for(const n of a){const e=n.options,s=n.font;wl(t,n.label,0,n.textOffset,s,e)}s&&xl(t)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:a}}=this;if(!s.display)return;const n=_l(s.font),i=Dl(s.padding),r=s.align;let l=n.lineHeight/2;"bottom"===t||"center"===t||Yi(t)?(l+=i.bottom,Vi(s.text)&&(l+=n.lineHeight*(s.text.length-1))):l+=i.top;const{titleX:o,titleY:c,maxWidth:d,rotation:u}=function(e,t,s,a){const{top:n,left:i,bottom:r,right:l,chart:o}=e,{chartArea:c,scales:d}=o;let u,h,m,p=0;const f=r-n,g=l-i;if(e.isHorizontal()){if(h=Vr(a,i,l),Yi(s)){const e=Object.keys(s)[0],a=s[e];m=d[e].getPixelForValue(a)+f-t}else m="center"===s?(c.bottom+c.top)/2+f-t:td(e,s,t);u=l-i}else{if(Yi(s)){const e=Object.keys(s)[0],a=s[e];h=d[e].getPixelForValue(a)-g+t}else h="center"===s?(c.left+c.right)/2-g+t:td(e,s,t);m=Vr(a,r,n),p="left"===s?-pr:pr}return{titleX:h,titleY:m,maxWidth:u,rotation:p}}(this,l,t,r);wl(e,s.text,0,0,n,{color:s.color,maxWidth:d,rotation:u,textAlign:ld(r,t,a),textBaseline:"middle",translation:[o,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=Hi(e.grid&&e.grid.z,-1),a=Hi(e.border&&e.border.z,0);return this._isVisible()&&this.draw===od.prototype.draw?[{z:s,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let n,i;for(n=0,i=t.length;n<i;++n){const i=t[n];i[s]!==this.id||e&&i.type!==e||a.push(i)}return a}_resolveTickFontOptions(e){return _l(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class cd{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;(function(e){return"id"in e&&"defaults"in e})(t)&&(s=this.register(t));const a=this.items,n=e.id,i=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+e);return n in a||(a[n]=e,function(e,t,s){const a=er(Object.create(null),[s?cl.get(s):{},cl.get(t),e.defaults]);cl.set(t,a),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(s=>{const a=s.split("."),n=a.pop(),i=[e].concat(a).join("."),r=t[s].split("."),l=r.pop(),o=r.join(".");cl.route(i,n,o,l)})}(t,e.defaultRoutes);e.descriptors&&cl.describe(t,e.descriptors)}(e,i,s),this.override&&cl.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,a=this.scope;s in t&&delete t[s],a&&s in cl[a]&&(delete cl[a][s],this.override&&delete nl[s])}}class dd{constructor(){this.controllers=new cd($o,"datasets",!0),this.elements=new cd(Xc,"elements"),this.plugins=new cd(Object,"plugins"),this.scales=new cd(od,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.scales)}_each(e,t,s){[...t].forEach(t=>{const a=s||this._getRegistryForType(t);s||a.isForType(t)||a===this.plugins&&t.id?this._exec(e,a,t):Gi(t,t=>{const a=s||this._getRegistryForType(t);this._exec(e,a,t)})})}_exec(e,t,s){const a=ir(e);$i(s["before"+a],[],s),t[e](s),$i(s["after"+a],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const a=t.get(e);if(void 0===a)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var ud=new dd;class hd{constructor(){this._init=[]}notify(e,t,s,a){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const n=a?this._descriptors(e).filter(a):this._descriptors(e),i=this._notify(n,e,t,s);return"afterDestroy"===t&&(this._notify(n,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,t,s,a){a=a||{};for(const n of e){const e=n.plugin;if(!1===$i(e[s],[t,a,n.options],e)&&a.cancelable)return!1}return!0}invalidate(){zi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,a=Hi(s.options&&s.options.plugins,{}),n=function(e){const t={},s=[],a=Object.keys(ud.plugins.items);for(let i=0;i<a.length;i++)s.push(ud.getPlugin(a[i]));const n=e.plugins||[];for(let i=0;i<n.length;i++){const e=n[i];-1===s.indexOf(e)&&(s.push(e),t[e.id]=!0)}return{plugins:s,localIds:t}}(s);return!1!==a||t?function(e,t,s,a){let{plugins:n,localIds:i}=t;const r=[],l=e.getContext();for(const o of n){const t=o.id,n=md(s[t],a);null!==n&&r.push({plugin:o,options:pd(e.config,{plugin:o,local:i[t]},n,l)})}return r}(e,n,a,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,a=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(a(t,s),e,"stop"),this._notify(a(s,t),e,"start")}}function md(e,t){return t||!1!==e?!0===e?{}:e:null}function pd(e,t,s,a){let{plugin:n,local:i}=t;const r=e.pluginScopeKeys(n),l=e.getOptionScopes(s,r);return i&&n.defaults&&l.push(n.defaults),e.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fd(e,t){const s=cl.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function gd(e){if("x"===e||"y"===e||"r"===e)return e}function vd(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function xd(e){if(gd(e))return e;for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];for(const n of s){const t=n.axis||vd(n.position)||e.length>1&&gd(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function bd(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function yd(e,t){const s=nl[e.type]||{scales:{}},a=t.scales||{},n=fd(e.type,t),i=Object.create(null);return Object.keys(a).forEach(t=>{const r=a[t];if(!Yi(r))return console.error("Invalid scale configuration for scale: ".concat(t));if(r._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const l=xd(t,r,function(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(s.length)return bd(e,"x",s[0])||bd(e,"y",s[0])}return{}}(t,e),cl.scales[r.type]),o=function(e,t){return e===t?"_index_":"_value_"}(l,n),c=s.scales||{};i[t]=tr(Object.create(null),[{axis:l},r,c[l],c[o]])}),e.data.datasets.forEach(s=>{const n=s.type||e.type,r=s.indexAxis||fd(n,t),l=(nl[n]||{}).scales||{};Object.keys(l).forEach(e=>{const t=function(e,t){let s=e;return"_index_"===e?s=t:"_value_"===e&&(s="x"===t?"y":"x"),s}(e,r),n=s[t+"AxisID"]||t;i[n]=i[n]||Object.create(null),tr(i[n],[{axis:t},a[n],l[e]])})}),Object.keys(i).forEach(e=>{const t=i[e];tr(t,[cl.scales[t.type],cl.scale])}),i}function jd(e){const t=e.options||(e.options={});t.plugins=Hi(t.plugins,{}),t.scales=yd(e,t)}function Nd(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const wd=new Map,Sd=new Set;function kd(e,t){let s=wd.get(e);return s||(s=t(),wd.set(e,s),Sd.add(s)),s}const Cd=(e,t,s)=>{const a=nr(t,s);void 0!==a&&e.add(a)};class Ad{constructor(e){this._config=function(e){return(e=e||{}).data=Nd(e.data),jd(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Nd(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),jd(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return kd(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return kd("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return kd("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return kd("".concat(s,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let a=s.get(e);return a&&!t||(a=new Map,s.set(e,a)),a}getOptionScopes(e,t,s){const{options:a,type:n}=this,i=this._cachedScopes(e,s),r=i.get(t);if(r)return r;const l=new Set;t.forEach(t=>{e&&(l.add(e),t.forEach(t=>Cd(l,e,t))),t.forEach(e=>Cd(l,a,e)),t.forEach(e=>Cd(l,nl[n]||{},e)),t.forEach(e=>Cd(l,cl,e)),t.forEach(e=>Cd(l,il,e))});const o=Array.from(l);return 0===o.length&&o.push(Object.create(null)),Sd.has(t)&&i.set(t,o),o}chartOptionScopes(){const{options:e,type:t}=this;return[e,nl[t]||{},cl.datasets[t]||{},{type:t},cl,il]}resolveNamedOptions(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const n={$shared:!0},{resolver:i,subPrefixes:r}=Ed(this._resolverCache,e,a);let l=i;if(function(e,t){const{isScriptable:s,isIndexable:a}=Ll(e);for(const n of t){const t=s(n),i=a(n),r=(i||t)&&e[n];if(t&&(lr(r)||Pd(r))||i&&Vi(r))return!0}return!1}(i,t)){n.$shared=!1;l=Ml(i,s=lr(s)?s():s,this.createResolver(e,s,r))}for(const o of t)n[o]=l[o];return n}createResolver(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],a=arguments.length>3?arguments[3]:void 0;const{resolver:n}=Ed(this._resolverCache,e,s);return Yi(t)?Ml(n,t,void 0,a):n}}function Ed(e,t,s){let a=e.get(t);a||(a=new Map,e.set(t,a));const n=s.join();let i=a.get(n);if(!i){i={resolver:Rl(t,s),subPrefixes:s.filter(e=>!e.toLowerCase().includes("hover"))},a.set(n,i)}return i}const Pd=e=>Yi(e)&&Object.getOwnPropertyNames(e).some(t=>lr(e[t]));const Id=["top","bottom","left","right","chartArea"];function Fd(e,t){return"top"===e||"bottom"===e||-1===Id.indexOf(e)&&"x"===t}function Dd(e,t){return function(s,a){return s[e]===a[e]?s[t]-a[t]:s[e]-a[e]}}function _d(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),$i(s&&s.onComplete,[e],t)}function Td(e){const t=e.chart,s=t.options.animation;$i(s&&s.onProgress,[e],t)}function Od(e){return ao()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Rd={},Md=e=>{const t=Od(e);return Object.values(Rd).filter(e=>e.canvas===t).pop()};function Ld(e,t,s){const a=Object.keys(e);for(const n of a){const a=+n;if(a>=t){const i=e[n];delete e[n],(s>0||a>t)&&(e[a+s]=i)}}}class Ud{static register(){ud.add(...arguments),Bd()}static unregister(){ud.remove(...arguments),Bd()}constructor(e,t){const s=this.config=new Ad(t),a=Od(e),n=Md(a);if(n)throw new Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");const i=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function(e){return!ao()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Rc:Qc}(a)),this.platform.updateConfig(s);const r=this.platform.acquireContext(a,i.aspectRatio),l=r&&r.canvas,o=l&&l.height,c=l&&l.width;this.id=Bi(),this.ctx=r,this.canvas=l,this.width=c,this.height=o,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new hd,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let s;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}(e=>this.update(e),i.resizeDelay||0),this._dataChanges=[],Rd[this.id]=this,r&&l?(Do.listen(this,"complete",_d),Do.listen(this,"progress",Td),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:a,_aspectRatio:n}=this;return zi(e)?t&&n?n:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ud}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():mo(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ml(this.canvas,this.ctx),this}stop(){return Do.stop(this),this}resize(e,t){Do.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,a=this.canvas,n=s.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(a,e,t,n),r=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,mo(this,r,!0)&&(this.notifyPlugins("resize",{size:i}),$i(s.onResize,[this,i],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){Gi(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,a=Object.keys(s).reduce((e,t)=>(e[t]=!1,e),{});let n=[];t&&(n=n.concat(Object.keys(t).map(e=>{const s=t[e],a=xd(e,s),n="r"===a,i="x"===a;return{options:s,dposition:n?"chartArea":i?"bottom":"left",dtype:n?"radialLinear":i?"category":"linear"}}))),Gi(n,t=>{const n=t.options,i=n.id,r=xd(i,n),l=Hi(n.type,t.dtype);void 0!==n.position&&Fd(n.position,r)===Fd(t.dposition)||(n.position=t.dposition),a[i]=!0;let o=null;if(i in s&&s[i].type===l)o=s[i];else{o=new(ud.getScale(l))({id:i,type:l,ctx:this.ctx,chart:this}),s[o.id]=o}o.init(n,e)}),Gi(a,(e,t)=>{e||delete s[t]}),Gi(s,e=>{Tc.configure(this,e,e.options),Tc.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((e,t)=>e.index-t.index),s>t){for(let e=t;e<s;++e)this._destroyDatasetMeta(e);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(Dd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,s)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=t.length;s<a;s++){const a=t[s];let n=this.getDatasetMeta(s);const i=a.type||this.config.type;if(n.type&&n.type!==i&&(this._destroyDatasetMeta(s),n=this.getDatasetMeta(s)),n.type=i,n.indexAxis=a.indexAxis||fd(i,this.options),n.order=a.order||0,n.index=s,n.label=""+a.label,n.visible=this.isDatasetVisible(s),n.controller)n.controller.updateIndex(s),n.controller.linkScales();else{const t=ud.getController(i),{datasetElementType:a,dataElementType:r}=cl.datasets[i];Object.assign(t,{dataElementType:ud.getElement(r),datasetElementType:a&&ud.getElement(a)}),n.controller=new t(this,s),e.push(n.controller)}}return this._updateMetasets(),e}_resetElements(){Gi(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let o=0,c=this.data.datasets.length;o<c;o++){const{controller:e}=this.getDatasetMeta(o),t=!a&&-1===n.indexOf(e);e.buildOrUpdateElements(t),i=Math.max(+e.getMaxOverflow(),i)}i=this._minPadding=s.layout.autoPadding?i:0,this._updateLayout(i),a||Gi(n,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Dd("z","_idx"));const{_active:r,_lastEvent:l}=this;l?this._eventHandler(l,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){Gi(this.scales,e=>{Tc.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);or(t,s)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:n}of t){Ld(e,a,"_removeElements"===s?-n:n)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),a=s(0);for(let n=1;n<t;n++)if(!or(a,s(n)))return;return Array.from(a).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Tc.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],Gi(this.boxes,e=>{s&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,lr(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(s.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Do.has(this)?this.attached&&!Do.running(this)&&Do.start(this):(this.draw(),_d({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let a,n;for(a=0,n=t.length;a<n;++a){const n=t[a];e&&!n.visible||s.push(n)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=Io(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(a&&vl(t,a),e.controller.draw(),a&&xl(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return gl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,a){const n=jc.modes[t];return"function"===typeof n?n(this,e,s,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let a=s.filter(e=>e&&e._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=Ol(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return"boolean"===typeof s.hidden?!s.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const a=s?"show":"hide",n=this.getDatasetMeta(e),i=n.controller._resolveAnimations(void 0,a);rr(t)?(n.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),i.update(n,{visible:s}),this.update(t=>t.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Do.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ml(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Rd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},a=(e,t,s)=>{e.offsetX=t,e.offsetY=s,this._eventHandler(e)};Gi(this.options.events,e=>s(e,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},a=(s,a)=>{e[s]&&(t.removeEventListener(this,s,a),delete e[s])},n=(e,t)=>{this.canvas&&this.resize(e,t)};let i;const r=()=>{a("attach",r),this.attached=!0,this.resize(),s("resize",n),s("detach",i)};i=()=>{this.attached=!1,a("resize",n),this._stop(),this._resize(0,0),s("attach",r)},t.isAttached(this.canvas)?r():i()}unbindEvents(){Gi(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Gi(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const a=s?"set":"remove";let n,i,r,l;for("dataset"===t&&(n=this.getDatasetMeta(e[0].datasetIndex),n.controller["_"+a+"DatasetHoverStyle"]()),r=0,l=e.length;r<l;++r){i=e[r];const t=i&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(e=>{let{datasetIndex:t,index:s}=e;const a=this.getDatasetMeta(t);if(!a)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:a.data[s],index:s}});!Ji(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,s){const a=this.options.hover,n=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),i=n(t,e),r=s?e:n(e,t);i.length&&this.updateHoverStyle(i,a.mode,!1),r.length&&a.mode&&this.updateHoverStyle(r,a.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",s,a))return;const n=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(n||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:a=[],options:n}=this,i=t,r=this._getActiveElements(e,a,s,i),l=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),o=function(e,t,s,a){return s&&"mouseout"!==e.type?a?t:e:null}(e,this._lastEvent,s,l);s&&(this._lastEvent=null,$i(n.onHover,[e,r,this],this),l&&$i(n.onClick,[e,r,this],this));const c=!Ji(r,a);return(c||t)&&(this._active=r,this._updateHoverStyles(r,a,t)),this._lastEvent=o,c}_getActiveElements(e,t,s,a){if("mouseout"===e.type)return[];if(!s)return t;const n=this.options.hover;return this.getElementsAtEventForMode(e,n.mode,n,a)}}function Bd(){return Gi(Ud.instances,e=>e._plugins.invalidate())}function zd(e,t,s,a){const n=Pl(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const i=(s-t)/2,r=Math.min(i,a*t/2),l=e=>{const t=(s-Math.min(i,e))*a/2;return Fr(e,0,Math.min(i,t))};return{outerStart:l(n.outerStart),outerEnd:l(n.outerEnd),innerStart:Fr(n.innerStart,0,r),innerEnd:Fr(n.innerEnd,0,r)}}function Vd(e,t,s,a){return{x:s+e*Math.cos(t),y:a+e*Math.sin(t)}}function Yd(e,t,s,a,n,i){const{x:r,y:l,startAngle:o,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+a+s-c,0),h=d>0?d+a+s+c:0;let m=0;const p=n-o;if(a){const e=((d>0?d-a:0)+(u>0?u-a:0))/2;m=(p-(0!==e?p*e/(e+a):p))/2}const f=(p-Math.max(.001,p*u-s/cr)/u)/2,g=o+f+m,v=n-f-m,{outerStart:x,outerEnd:b,innerStart:y,innerEnd:j}=zd(t,h,u,v-g),N=u-x,w=u-b,S=g+x/N,k=v-b/w,C=h+y,A=h+j,E=g+y/C,P=v-j/A;if(e.beginPath(),i){const t=(S+k)/2;if(e.arc(r,l,u,S,t),e.arc(r,l,u,t,k),b>0){const t=Vd(w,k,r,l);e.arc(t.x,t.y,b,k,v+pr)}const s=Vd(A,v,r,l);if(e.lineTo(s.x,s.y),j>0){const t=Vd(A,P,r,l);e.arc(t.x,t.y,j,v+pr,P+Math.PI)}const a=(v-j/h+(g+y/h))/2;if(e.arc(r,l,h,v-j/h,a,!0),e.arc(r,l,h,a,g+y/h,!0),y>0){const t=Vd(C,E,r,l);e.arc(t.x,t.y,y,E+Math.PI,g-pr)}const n=Vd(N,g,r,l);if(e.lineTo(n.x,n.y),x>0){const t=Vd(N,S,r,l);e.arc(t.x,t.y,x,g-pr,S)}}else{e.moveTo(r,l);const t=Math.cos(S)*u+r,s=Math.sin(S)*u+l;e.lineTo(t,s);const a=Math.cos(k)*u+r,n=Math.sin(k)*u+l;e.lineTo(a,n)}e.closePath()}function qd(e,t,s,a,n){const{fullCircles:i,startAngle:r,circumference:l,options:o}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:m}=o,p="inner"===o.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let f=t.endAngle;if(i){Yd(e,t,s,a,f,n);for(let t=0;t<i;++t)e.stroke();isNaN(l)||(f=r+(l%dr||dr))}p&&function(e,t,s){const{startAngle:a,pixelMargin:n,x:i,y:r,outerRadius:l,innerRadius:o}=t;let c=n/l;e.beginPath(),e.arc(i,r,l,a-c,s+c),o>n?(c=n/o,e.arc(i,r,o,s+c,a-c,!0)):e.arc(i,r,n,s+pr,a-pr),e.closePath(),e.clip()}(e,t,f),o.selfJoin&&f-r>=cr&&0===m&&"miter"!==d&&function(e,t,s){const{startAngle:a,x:n,y:i,outerRadius:r,innerRadius:l,options:o}=t,{borderWidth:c,borderJoinStyle:d}=o,u=Math.min(c/r,Pr(a-s));if(e.beginPath(),e.arc(n,i,r-c/2,a+u/2,s-u/2),l>0){const t=Math.min(c/l,Pr(a-s));e.arc(n,i,l+c/2,s-t/2,a+t/2,!0)}else{const t=Math.min(c/2,r*Pr(a-s));if("round"===d)e.arc(n,i,t,s-cr/2,a+cr/2,!0);else if("bevel"===d){const r=2*t*t,l=-r*Math.cos(s+cr/2)+n,o=-r*Math.sin(s+cr/2)+i,c=r*Math.cos(a+cr/2)+n,d=r*Math.sin(a+cr/2)+i;e.lineTo(l,o),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,f),i||(Yd(e,t,s,a,f,n),e.stroke())}(0,ii.A)(Ud,"defaults",cl),(0,ii.A)(Ud,"instances",Rd),(0,ii.A)(Ud,"overrides",nl),(0,ii.A)(Ud,"registry",ud),(0,ii.A)(Ud,"version","4.5.0"),(0,ii.A)(Ud,"getChart",Md);class Wd extends Xc{constructor(e){super(),(0,ii.A)(this,"circumference",void 0),(0,ii.A)(this,"endAngle",void 0),(0,ii.A)(this,"fullCircles",void 0),(0,ii.A)(this,"innerRadius",void 0),(0,ii.A)(this,"outerRadius",void 0),(0,ii.A)(this,"pixelMargin",void 0),(0,ii.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.getProps(["x","y"],s),{angle:n,distance:i}=Cr(a,{x:e,y:t}),{startAngle:r,endAngle:l,innerRadius:o,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),u=(this.options.spacing+this.options.borderWidth)/2,h=Hi(d,l-r),m=Ir(n,r,l)&&r!==l,p=h>=dr||m,f=Dr(i,o+u,c+u);return p&&f}getCenterPoint(e){const{x:t,y:s,startAngle:a,endAngle:n,innerRadius:i,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:o}=this.options,c=(a+n)/2,d=(i+r+o+l)/2;return{x:t+Math.cos(c)*d,y:s+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,a=(t.offset||0)/4,n=(t.spacing||0)/2,i=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=s>dr?Math.floor(s/dr):0,0===s||this.innerRadius<0||this.outerRadius<0)return;e.save();const r=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(r)*a,Math.sin(r)*a);const l=a*(1-Math.sin(Math.min(cr,s||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,s,a,n){const{fullCircles:i,startAngle:r,circumference:l}=t;let o=t.endAngle;if(i){Yd(e,t,s,a,o,n);for(let t=0;t<i;++t)e.fill();isNaN(l)||(o=r+(l%dr||dr))}Yd(e,t,s,a,o,n),e.fill()}(e,this,l,n,i),qd(e,this,l,n,i),e.restore()}}function Hd(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Hi(s.borderCapStyle,t.borderCapStyle),e.setLineDash(Hi(s.borderDash,t.borderDash)),e.lineDashOffset=Hi(s.borderDashOffset,t.borderDashOffset),e.lineJoin=Hi(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Hi(s.borderWidth,t.borderWidth),e.strokeStyle=Hi(s.borderColor,t.borderColor)}function Kd(e,t,s){e.lineTo(s.x,s.y)}function $d(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length,{start:n=0,end:i=a-1}=s,{start:r,end:l}=t,o=Math.max(n,r),c=Math.min(i,l),d=n<r&&i<r||n>l&&i>l;return{count:a,start:o,loop:t.loop,ilen:c<o&&!d?a+c-o:c-o}}function Gd(e,t,s,a){const{points:n,options:i}=t,{count:r,start:l,loop:o,ilen:c}=$d(n,s,a),d=function(e){return e.stepped?bl:e.tension||"monotone"===e.cubicInterpolationMode?yl:Kd}(i);let u,h,m,{move:p=!0,reverse:f}=a||{};for(u=0;u<=c;++u)h=n[(l+(f?c-u:u))%r],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):d(e,m,h,f,i.stepped),m=h);return o&&(h=n[(l+(f?c:0))%r],d(e,m,h,f,i.stepped)),!!o}function Jd(e,t,s,a){const n=t.points,{count:i,start:r,ilen:l}=$d(n,s,a),{move:o=!0,reverse:c}=a||{};let d,u,h,m,p,f,g=0,v=0;const x=e=>(r+(c?l-e:e))%i,b=()=>{m!==p&&(e.lineTo(g,p),e.lineTo(g,m),e.lineTo(g,f))};for(o&&(u=n[x(0)],e.moveTo(u.x,u.y)),d=0;d<=l;++d){if(u=n[x(d)],u.skip)continue;const t=u.x,s=u.y,a=0|t;a===h?(s<m?m=s:s>p&&(p=s),g=(v*g+t)/++v):(b(),e.lineTo(t,s),h=a,v=0,m=p=s),f=s}b()}function Qd(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!s?Jd:Gd}(0,ii.A)(Wd,"id","arc"),(0,ii.A)(Wd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),(0,ii.A)(Wd,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,ii.A)(Wd,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Xd="function"===typeof Path2D;function Zd(e,t,s,a){Xd&&!t.options.segment?function(e,t,s,a){let n=t._path;n||(n=t._path=new Path2D,t.path(n,s,a)&&n.closePath()),Hd(e,t.options),e.stroke(n)}(e,t,s,a):function(e,t,s,a){const{segments:n,options:i}=t,r=Qd(t);for(const l of n)Hd(e,i,l.style),e.beginPath(),r(e,t,l,{start:s,end:s+a-1})&&e.closePath(),e.stroke()}(e,t,s,a)}class eu extends Xc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||"monotone"===s.cubicInterpolationMode)&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;so(this._points,s,e,a,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const s=e.points,a=e.options.spanGaps,n=s.length;if(!n)return[];const i=!!e._loop,{start:r,end:l}=function(e,t,s,a){let n=0,i=t-1;if(s&&!a)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,s&&(i+=n);i>n&&e[i%t].skip;)i--;return i%=t,{start:n,end:i}}(s,n,i,a);return Co(e,!0===a?[{start:r,end:l,loop:i}]:function(e,t,s,a){const n=e.length,i=[];let r,l=t,o=e[t];for(r=t+1;r<=s;++r){const s=e[r%n];s.skip||s.stop?o.skip||(a=!1,i.push({start:t%n,end:(r-1)%n,loop:a}),t=l=s.stop?r:null):(l=r,o.skip&&(t=r)),o=s}return null!==l&&i.push({start:t%n,end:l%n,loop:a}),i}(s,r,l<r?l+n:l,!!e._fullLoop&&0===r&&l===n-1),s,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,a=e[t],n=this.points,i=ko(this,{property:t,start:a,end:a});if(!i.length)return;const r=[],l=function(e){return e.stepped?vo:e.tension||"monotone"===e.cubicInterpolationMode?xo:go}(s);let o,c;for(o=0,c=i.length;o<c;++o){const{start:c,end:d}=i[o],u=n[c],h=n[d];if(u===h){r.push(u);continue}const m=l(u,h,Math.abs((a-u[t])/(h[t]-u[t])),s.stepped);m[t]=e[t],r.push(m)}return 1===r.length?r[0]:r}pathSegment(e,t,s){return Qd(this)(e,this,t,s)}path(e,t,s){const a=this.segments,n=Qd(this);let i=this._loop;t=t||0,s=s||this.points.length-t;for(const r of a)i&=n(e,this,r,{start:t,end:t+s-1});return!!i}draw(e,t,s,a){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(e.save(),Zd(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function tu(e,t,s,a){const n=e.options,{[s]:i}=e.getProps([s],a);return Math.abs(t-i)<n.radius+n.hitRadius}(0,ii.A)(eu,"id","line"),(0,ii.A)(eu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,ii.A)(eu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,ii.A)(eu,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class su extends Xc{constructor(e){super(),(0,ii.A)(this,"parsed",void 0),(0,ii.A)(this,"skip",void 0),(0,ii.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.options,{x:n,y:i}=this.getProps(["x","y"],s);return Math.pow(e-n,2)+Math.pow(t-i,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,t){return tu(this,e,"x",t)}inYRange(e,t){return tu(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const s=this.options;this.skip||s.radius<.1||!gl(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,pl(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function au(e,t){const{x:s,y:a,base:n,width:i,height:r}=e.getProps(["x","y","base","width","height"],t);let l,o,c,d,u;return e.horizontal?(u=r/2,l=Math.min(s,n),o=Math.max(s,n),c=a-u,d=a+u):(u=i/2,l=s-u,o=s+u,c=Math.min(a,n),d=Math.max(a,n)),{left:l,top:c,right:o,bottom:d}}function nu(e,t,s,a){return e?0:Fr(t,s,a)}function iu(e){const t=au(e),s=t.right-t.left,a=t.bottom-t.top,n=function(e,t,s){const a=e.options.borderWidth,n=e.borderSkipped,i=Il(a);return{t:nu(n.top,i.top,0,s),r:nu(n.right,i.right,0,t),b:nu(n.bottom,i.bottom,0,s),l:nu(n.left,i.left,0,t)}}(e,s/2,a/2),i=function(e,t,s){const{enableBorderRadius:a}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,i=Fl(n),r=Math.min(t,s),l=e.borderSkipped,o=a||Yi(n);return{topLeft:nu(!o||l.top||l.left,i.topLeft,0,r),topRight:nu(!o||l.top||l.right,i.topRight,0,r),bottomLeft:nu(!o||l.bottom||l.left,i.bottomLeft,0,r),bottomRight:nu(!o||l.bottom||l.right,i.bottomRight,0,r)}}(e,s/2,a/2);return{outer:{x:t.left,y:t.top,w:s,h:a,radius:i},inner:{x:t.left+n.l,y:t.top+n.t,w:s-n.l-n.r,h:a-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function ru(e,t,s,a){const n=null===t,i=null===s,r=e&&!(n&&i)&&au(e,a);return r&&(n||Dr(t,r.left,r.right))&&(i||Dr(s,r.top,r.bottom))}function lu(e,t){e.rect(t.x,t.y,t.w,t.h)}function ou(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.x!==s.x?-t:0,n=e.y!==s.y?-t:0,i=(e.x+e.w!==s.x+s.w?t:0)-a,r=(e.y+e.h!==s.y+s.h?t:0)-n;return{x:e.x+a,y:e.y+n,w:e.w+i,h:e.h+r,radius:e.radius}}(0,ii.A)(su,"id","point"),(0,ii.A)(su,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,ii.A)(su,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class cu extends Xc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:a}}=this,{inner:n,outer:i}=iu(this),r=(l=i.radius).topLeft||l.topRight||l.bottomLeft||l.bottomRight?Sl:lu;var l;e.save(),i.w===n.w&&i.h===n.h||(e.beginPath(),r(e,ou(i,t,n)),e.clip(),r(e,ou(n,-t,i)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),r(e,ou(n,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,s){return ru(this,e,t,s)}inXRange(e,t){return ru(this,e,null,t)}inYRange(e,t){return ru(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:a,horizontal:n}=this.getProps(["x","y","base","horizontal"],e);return{x:n?(t+a)/2:t,y:n?s:(s+a)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}(0,ii.A)(cu,"id","bar"),(0,ii.A)(cu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,ii.A)(cu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var du=Object.freeze({__proto__:null,ArcElement:Wd,BarElement:cu,LineElement:eu,PointElement:su});const uu=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],hu=uu.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function mu(e){return uu[e%uu.length]}function pu(e){return hu[e%hu.length]}function fu(e){let t=0;return(s,a)=>{const n=e.getDatasetMeta(a).controller;n instanceof ic?t=function(e,t){return e.backgroundColor=e.data.map(()=>mu(t++)),t}(s,t):n instanceof lc?t=function(e,t){return e.backgroundColor=e.data.map(()=>pu(t++)),t}(s,t):n&&(t=function(e,t){return e.borderColor=mu(t),e.backgroundColor=pu(t),++t}(s,t))}}function gu(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var vu={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,s){if(!s.enabled)return;const{data:{datasets:a},options:n}=e.config,{elements:i}=n,r=gu(a)||(l=n)&&(l.borderColor||l.backgroundColor)||i&&gu(i)||"rgba(0,0,0,0.1)"!==cl.borderColor||"rgba(0,0,0,0.1)"!==cl.backgroundColor;var l;if(!s.forceOverride&&r)return;const o=fu(e);a.forEach(o)}};function xu(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function bu(e){e.data.datasets.forEach(e=>{xu(e)})}var yu={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,s)=>{if(!s.enabled)return void bu(e);const a=e.width;e.data.datasets.forEach((t,n)=>{const{_data:i,indexAxis:r}=t,l=e.getDatasetMeta(n),o=i||t.data;if("y"===Tl([r,e.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const c=e.scales[l.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let{start:d,count:u}=function(e,t){const s=t.length;let a,n=0;const{iScale:i}=e,{min:r,max:l,minDefined:o,maxDefined:c}=i.getUserBounds();return o&&(n=Fr(Tr(t,i.axis,r).lo,0,s-1)),a=c?Fr(Tr(t,i.axis,l).hi+1,n,s)-n:s-n,{start:n,count:a}}(l,o);if(u<=(s.threshold||4*a))return void xu(t);let h;switch(zi(i)&&(t._data=o,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),s.algorithm){case"lttb":h=function(e,t,s,a,n){const i=n.samples||a;if(i>=s)return e.slice(t,t+s);const r=[],l=(s-2)/(i-2);let o=0;const c=t+s-1;let d,u,h,m,p,f=t;for(r[o++]=e[f],d=0;d<i-2;d++){let a,n=0,i=0;const c=Math.floor((d+1)*l)+1+t,g=Math.min(Math.floor((d+2)*l)+1,s)+t,v=g-c;for(a=c;a<g;a++)n+=e[a].x,i+=e[a].y;n/=v,i/=v;const x=Math.floor(d*l)+1+t,b=Math.min(Math.floor((d+1)*l)+1,s)+t,{x:y,y:j}=e[f];for(h=m=-1,a=x;a<b;a++)m=.5*Math.abs((y-n)*(e[a].y-j)-(y-e[a].x)*(i-j)),m>h&&(h=m,u=e[a],p=a);r[o++]=u,f=p}return r[o++]=e[c],r}(o,d,u,a,s);break;case"min-max":h=function(e,t,s,a){let n,i,r,l,o,c,d,u,h,m,p=0,f=0;const g=[],v=t+s-1,x=e[t].x,b=e[v].x-x;for(n=t;n<t+s;++n){i=e[n],r=(i.x-x)/b*a,l=i.y;const t=0|r;if(t===o)l<h?(h=l,c=n):l>m&&(m=l,d=n),p=(f*p+i.x)/++f;else{const s=n-1;if(!zi(c)&&!zi(d)){const t=Math.min(c,d),a=Math.max(c,d);t!==u&&t!==s&&g.push((0,Ue.A)((0,Ue.A)({},e[t]),{},{x:p})),a!==u&&a!==s&&g.push((0,Ue.A)((0,Ue.A)({},e[a]),{},{x:p}))}n>0&&s!==u&&g.push(e[s]),g.push(i),o=t,f=0,h=m=l,c=d=u=n}}return g}(o,d,u,a);break;default:throw new Error("Unsupported decimation algorithm '".concat(s.algorithm,"'"))}t._decimated=h})},destroy(e){bu(e)}};function ju(e,t,s,a){if(a)return;let n=t[e],i=s[e];return"angle"===e&&(n=Pr(n),i=Pr(i)),{property:e,start:n,end:i}}function Nu(e,t,s){for(;t>e;t--){const e=s[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function wu(e,t,s,a){return e&&t?a(e[s],t[s]):e?e[s]:t?t[s]:0}function Su(e,t){let s=[],a=!1;return Vi(e)?(a=!0,s=e):s=function(e,t){const{x:s=null,y:a=null}=e||{},n=t.points,i=[];return t.segments.forEach(e=>{let{start:t,end:r}=e;r=Nu(t,r,n);const l=n[t],o=n[r];null!==a?(i.push({x:l.x,y:a}),i.push({x:o.x,y:a})):null!==s&&(i.push({x:s,y:l.y}),i.push({x:s,y:o.y}))}),i}(e,t),s.length?new eu({points:s,options:{tension:0},_loop:a,_fullLoop:a}):null}function ku(e){return e&&!1!==e.fill}function Cu(e,t,s){let a=e[t].fill;const n=[t];let i;if(!s)return a;for(;!1!==a&&-1===n.indexOf(a);){if(!qi(a))return a;if(i=e[a],!i)return!1;if(i.visible)return a;n.push(a),a=i.fill}return!1}function Au(e,t,s){const a=function(e){const t=e.options,s=t.fill;let a=Hi(s&&s.target,s);void 0===a&&(a=!!t.backgroundColor);if(!1===a||null===a)return!1;if(!0===a)return"origin";return a}(e);if(Yi(a))return!isNaN(a.value)&&a;let n=parseFloat(a);return qi(n)&&Math.floor(n)===n?function(e,t,s,a){"-"!==e&&"+"!==e||(s=t+s);if(s===t||s<0||s>=a)return!1;return s}(a[0],t,n,s):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function Eu(e,t,s){const a=[];for(let n=0;n<s.length;n++){const i=s[n],{first:r,last:l,point:o}=Pu(i,t,"x");if(!(!o||r&&l))if(r)a.unshift(o);else if(e.push(o),!l)break}e.push(...a)}function Pu(e,t,s){const a=e.interpolate(t,s);if(!a)return{};const n=a[s],i=e.segments,r=e.points;let l=!1,o=!1;for(let c=0;c<i.length;c++){const e=i[c],t=r[e.start][s],a=r[e.end][s];if(Dr(n,t,a)){l=n===t,o=n===a;break}}return{first:l,last:o,point:a}}class Iu{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:a,y:n,radius:i}=this;return t=t||{start:0,end:dr},e.arc(a,n,i,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:a}=this,n=e.angle;return{x:t+Math.cos(n)*a,y:s+Math.sin(n)*a,angle:n}}}function Fu(e){const{chart:t,fill:s,line:a}=e;if(qi(s))return function(e,t){const s=e.getDatasetMeta(t),a=s&&e.isDatasetVisible(t);return a?s.dataset:null}(t,s);if("stack"===s)return function(e){const{scale:t,index:s,line:a}=e,n=[],i=a.segments,r=a.points,l=function(e,t){const s=[],a=e.getMatchingVisibleMetas("line");for(let n=0;n<a.length;n++){const e=a[n];if(e.index===t)break;e.hidden||s.unshift(e.dataset)}return s}(t,s);l.push(Su({x:null,y:t.bottom},a));for(let o=0;o<i.length;o++){const e=i[o];for(let t=e.start;t<=e.end;t++)Eu(n,r[t],l)}return new eu({points:n,options:{}})}(e);if("shape"===s)return!0;const n=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:s}=e,a=t.options,n=t.getLabels().length,i=a.reverse?t.max:t.min,r=function(e,t,s){let a;return a="start"===e?s:"end"===e?t.options.reverse?t.min:t.max:Yi(e)?e.value:t.getBaseValue(),a}(s,t,i),l=[];if(a.grid.circular){const e=t.getPointPositionForValue(0,i);return new Iu({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(r)})}for(let o=0;o<n;++o)l.push(t.getPointPositionForValue(o,r));return l}(e);return function(e){const{scale:t={},fill:s}=e,a=function(e,t){let s=null;return"start"===e?s=t.bottom:"end"===e?s=t.top:Yi(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}(s,t);if(qi(a)){const e=t.isHorizontal();return{x:e?a:null,y:e?null:a}}return null}(e)}(e);return n instanceof Iu?n:Su(n,a)}function Du(e,t,s){const a=Fu(t),{chart:n,index:i,line:r,scale:l,axis:o}=t,c=r.options,d=c.fill,u=c.backgroundColor,{above:h=u,below:m=u}=d||{},p=n.getDatasetMeta(i),f=Io(n,p);a&&r.points.length&&(vl(e,s),function(e,t){const{line:s,target:a,above:n,below:i,area:r,scale:l,clip:o}=t,c=s._loop?"angle":t.axis;e.save();let d=i;i!==n&&("x"===c?(_u(e,a,r.top),Ou(e,{line:s,target:a,color:n,scale:l,property:c,clip:o}),e.restore(),e.save(),_u(e,a,r.bottom)):"y"===c&&(Tu(e,a,r.left),Ou(e,{line:s,target:a,color:i,scale:l,property:c,clip:o}),e.restore(),e.save(),Tu(e,a,r.right),d=n));Ou(e,{line:s,target:a,color:d,scale:l,property:c,clip:o}),e.restore()}(e,{line:r,target:a,above:h,below:m,area:s,scale:l,axis:o,clip:f}),xl(e))}function _u(e,t,s){const{segments:a,points:n}=t;let i=!0,r=!1;e.beginPath();for(const l of a){const{start:a,end:o}=l,c=n[a],d=n[Nu(a,o,n)];i?(e.moveTo(c.x,c.y),i=!1):(e.lineTo(c.x,s),e.lineTo(c.x,c.y)),r=!!t.pathSegment(e,l,{move:r}),r?e.closePath():e.lineTo(d.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function Tu(e,t,s){const{segments:a,points:n}=t;let i=!0,r=!1;e.beginPath();for(const l of a){const{start:a,end:o}=l,c=n[a],d=n[Nu(a,o,n)];i?(e.moveTo(c.x,c.y),i=!1):(e.lineTo(s,c.y),e.lineTo(c.x,c.y)),r=!!t.pathSegment(e,l,{move:r}),r?e.closePath():e.lineTo(s,d.y)}e.lineTo(s,t.first().y),e.closePath(),e.clip()}function Ou(e,t){const{line:s,target:a,property:n,color:i,scale:r,clip:l}=t,o=function(e,t,s){const a=e.segments,n=e.points,i=t.points,r=[];for(const l of a){let{start:e,end:a}=l;a=Nu(e,a,n);const o=ju(s,n[e],n[a],l.loop);if(!t.segments){r.push({source:l,target:o,start:n[e],end:n[a]});continue}const c=ko(t,o);for(const t of c){const e=ju(s,i[t.start],i[t.end],t.loop),a=So(l,n,e);for(const n of a)r.push({source:n,target:t,start:{[s]:wu(o,e,"start",Math.max)},end:{[s]:wu(o,e,"end",Math.min)}})}}return r}(s,a,n);for(const{source:c,target:d,start:u,end:h}of o){const{style:{backgroundColor:t=i}={}}=c,o=!0!==a;e.save(),e.fillStyle=t,Ru(e,r,l,o&&ju(n,u,h)),e.beginPath();const m=!!s.pathSegment(e,c);let p;if(o){m?e.closePath():Mu(e,a,h,n);const t=!!a.pathSegment(e,d,{move:m,reverse:!0});p=m&&t,p||Mu(e,a,u,n)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function Ru(e,t,s,a){const n=t.chart.chartArea,{property:i,start:r,end:l}=a||{};if("x"===i||"y"===i){let t,a,o,c;"x"===i?(t=r,a=n.top,o=l,c=n.bottom):(t=n.left,a=r,o=n.right,c=l),e.beginPath(),s&&(t=Math.max(t,s.left),o=Math.min(o,s.right),a=Math.max(a,s.top),c=Math.min(c,s.bottom)),e.rect(t,a,o-t,c-a),e.clip()}}function Mu(e,t,s,a){const n=t.interpolate(s,a);n&&e.lineTo(n.x,n.y)}var Lu={id:"filler",afterDatasetsUpdate(e,t,s){const a=(e.data.datasets||[]).length,n=[];let i,r,l,o;for(r=0;r<a;++r)i=e.getDatasetMeta(r),l=i.dataset,o=null,l&&l.options&&l instanceof eu&&(o={visible:e.isDatasetVisible(r),index:r,fill:Au(l,r,a),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=o,n.push(o);for(r=0;r<a;++r)o=n[r],o&&!1!==o.fill&&(o.fill=Cu(n,r,s.propagate))},beforeDraw(e,t,s){const a="beforeDraw"===s.drawTime,n=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let r=n.length-1;r>=0;--r){const t=n[r].$filler;t&&(t.line.updateControlPoints(i,t.axis),a&&t.fill&&Du(e.ctx,t,i))}},beforeDatasetsDraw(e,t,s){if("beforeDatasetsDraw"!==s.drawTime)return;const a=e.getSortedVisibleDatasetMetas();for(let n=a.length-1;n>=0;--n){const t=a[n].$filler;ku(t)&&Du(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,s){const a=t.meta.$filler;ku(a)&&"beforeDatasetDraw"===s.drawTime&&Du(e.ctx,a,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Uu=(e,t)=>{let{boxHeight:s=t,boxWidth:a=t}=e;return e.usePointStyle&&(s=Math.min(s,t),a=e.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:s,itemHeight:Math.max(t,s)}};class Bu extends Xc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=$i(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,s)=>e.sort(t,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const s=e.labels,a=_l(s.font),n=a.size,i=this._computeTitleHeight(),{boxWidth:r,itemHeight:l}=Uu(s,n);let o,c;t.font=a.string,this.isHorizontal()?(o=this.maxWidth,c=this._fitRows(i,n,r,l)+10):(c=this.maxHeight,o=this._fitCols(i,a,r,l)+10),this.width=Math.min(o,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,a){const{ctx:n,maxWidth:i,options:{labels:{padding:r}}}=this,l=this.legendHitBoxes=[],o=this.lineWidths=[0],c=a+r;let d=e;n.textAlign="left",n.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach((e,m)=>{const p=s+t/2+n.measureText(e.text).width;(0===m||o[o.length-1]+p+2*r>i)&&(d+=c,o[o.length-(m>0?0:1)]=0,h+=c,u++),l[m]={left:0,top:h,row:u,width:p,height:a},o[o.length-1]+=p+r}),d}_fitCols(e,t,s,a){const{ctx:n,maxHeight:i,options:{labels:{padding:r}}}=this,l=this.legendHitBoxes=[],o=this.columnSizes=[],c=i-e;let d=r,u=0,h=0,m=0,p=0;return this.legendItems.forEach((e,i)=>{const{itemWidth:f,itemHeight:g}=function(e,t,s,a,n){const i=function(e,t,s,a){let n=e.text;n&&"string"!==typeof n&&(n=n.reduce((e,t)=>e.length>t.length?e:t));return t+s.size/2+a.measureText(n).width}(a,e,t,s),r=function(e,t,s){let a=e;"string"!==typeof t.text&&(a=zu(t,s));return a}(n,a,t.lineHeight);return{itemWidth:i,itemHeight:r}}(s,t,n,e,a);i>0&&h+g+2*r>c&&(d+=u+r,o.push({width:u,height:h}),m+=u+r,p++,u=h=0),l[i]={left:m,top:h,col:p,width:f,height:g},u=Math.max(u,f),h+=g+r}),d+=u,o.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:a},rtl:n}}=this,i=bo(n,this.left,this.width);if(this.isHorizontal()){let n=0,r=Vr(s,this.left+a,this.right-this.lineWidths[n]);for(const l of t)n!==l.row&&(n=l.row,r=Vr(s,this.left+a,this.right-this.lineWidths[n])),l.top+=this.top+e+a,l.left=i.leftForLtr(i.x(r),l.width),r+=l.width+a}else{let n=0,r=Vr(s,this.top+e+a,this.bottom-this.columnSizes[n].height);for(const l of t)l.col!==n&&(n=l.col,r=Vr(s,this.top+e+a,this.bottom-this.columnSizes[n].height)),l.top=r,l.left+=this.left+a,l.left=i.leftForLtr(i.x(l.left),l.width),r+=l.height+a}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;vl(e,this),this._draw(),xl(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:a}=this,{align:n,labels:i}=e,r=cl.color,l=bo(e.rtl,this.left,this.width),o=_l(i.font),{padding:c}=i,d=o.size,u=d/2;let h;this.drawTitle(),a.textAlign=l.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=o.string;const{boxWidth:m,boxHeight:p,itemHeight:f}=Uu(i,d),g=this.isHorizontal(),v=this._computeTitleHeight();h=g?{x:Vr(n,this.left+c,this.right-s[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:Vr(n,this.top+v+c,this.bottom-t[0].height),line:0},yo(this.ctx,e.textDirection);const x=f+c;this.legendItems.forEach((b,y)=>{a.strokeStyle=b.fontColor,a.fillStyle=b.fontColor;const j=a.measureText(b.text).width,N=l.textAlign(b.textAlign||(b.textAlign=i.textAlign)),w=m+u+j;let S=h.x,k=h.y;l.setWidth(this.width),g?y>0&&S+w+c>this.right&&(k=h.y+=x,h.line++,S=h.x=Vr(n,this.left+c,this.right-s[h.line])):y>0&&k+x>this.bottom&&(S=h.x=S+t[h.line].width+c,h.line++,k=h.y=Vr(n,this.top+v+c,this.bottom-t[h.line].height));if(function(e,t,s){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;a.save();const n=Hi(s.lineWidth,1);if(a.fillStyle=Hi(s.fillStyle,r),a.lineCap=Hi(s.lineCap,"butt"),a.lineDashOffset=Hi(s.lineDashOffset,0),a.lineJoin=Hi(s.lineJoin,"miter"),a.lineWidth=n,a.strokeStyle=Hi(s.strokeStyle,r),a.setLineDash(Hi(s.lineDash,[])),i.usePointStyle){const r={radius:p*Math.SQRT2/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:n},o=l.xPlus(e,m/2);fl(a,r,o,t+u,i.pointStyleWidth&&m)}else{const i=t+Math.max((d-p)/2,0),r=l.leftForLtr(e,m),o=Fl(s.borderRadius);a.beginPath(),Object.values(o).some(e=>0!==e)?Sl(a,{x:r,y:i,w:m,h:p,radius:o}):a.rect(r,i,m,p),a.fill(),0!==n&&a.stroke()}a.restore()}(l.x(S),k,b),S=((e,t,s,a)=>e===(a?"left":"right")?s:"center"===e?(t+s)/2:t)(N,S+m+u,g?S+w:this.right,e.rtl),function(e,t,s){wl(a,s.text,e,t+f/2,o,{strikethrough:s.hidden,textAlign:l.textAlign(s.textAlign)})}(l.x(S),k,b),g)h.x+=w+c;else if("string"!==typeof b.text){const e=o.lineHeight;h.y+=zu(b,e)+c}else h.y+=x}),jo(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=_l(t.font),a=Dl(t.padding);if(!t.display)return;const n=bo(e.rtl,this.left,this.width),i=this.ctx,r=t.position,l=s.size/2,o=a.top+l;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+o,d=Vr(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=o+Vr(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Vr(r,d,d+u);i.textAlign=n.textAlign(zr(r)),i.textBaseline="middle",i.strokeStyle=t.color,i.fillStyle=t.color,i.font=s.string,wl(i,t.text,h,c,s)}_computeTitleHeight(){const e=this.options.title,t=_l(e.font),s=Dl(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,a,n;if(Dr(e,this.left,this.right)&&Dr(t,this.top,this.bottom))for(n=this.legendHitBoxes,s=0;s<n.length;++s)if(a=n[s],Dr(e,a.left,a.left+a.width)&&Dr(t,a.top,a.top+a.height))return this.legendItems[s];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,r=(n=s,null!==(a=i)&&null!==n&&a.datasetIndex===n.datasetIndex&&a.index===n.index);i&&!r&&$i(t.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&$i(t.onHover,[e,s,this],this)}else s&&$i(t.onClick,[e,s,this],this);var a,n}}function zu(e,t){return t*(e.text?e.text.length:0)}var Vu={id:"legend",_element:Bu,start(e,t,s){const a=e.legend=new Bu({ctx:e.ctx,options:s,chart:e});Tc.configure(e,a,s),Tc.addBox(e,a)},stop(e){Tc.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const a=e.legend;Tc.configure(e,a,s),a.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const a=t.datasetIndex,n=s.chart;n.isDatasetVisible(a)?(n.hide(a),t.hidden=!0):(n.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:a,textAlign:n,color:i,useBorderRadius:r,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const o=e.controller.getStyle(s?0:void 0),c=Dl(o.borderWidth);return{text:t[e.index].label,fillStyle:o.backgroundColor,fontColor:i,hidden:!e.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:o.borderColor,pointStyle:a||o.pointStyle,rotation:o.rotation,textAlign:n||o.textAlign,borderRadius:r&&(l||o.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Yu extends Xc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const a=Vi(s.text)?s.text.length:1;this._padding=Dl(s.padding);const n=a*_l(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=n:this.width=n}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:s,bottom:a,right:n,options:i}=this,r=i.align;let l,o,c,d=0;return this.isHorizontal()?(o=Vr(r,s,n),c=t+e,l=n-s):("left"===i.position?(o=s+e,c=Vr(r,a,t),d=-.5*cr):(o=n-e,c=Vr(r,t,a),d=.5*cr),l=a-t),{titleX:o,titleY:c,maxWidth:l,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=_l(t.font),a=s.lineHeight/2+this._padding.top,{titleX:n,titleY:i,maxWidth:r,rotation:l}=this._drawArgs(a);wl(e,t.text,0,0,s,{color:t.color,maxWidth:r,rotation:l,textAlign:zr(t.align),textBaseline:"middle",translation:[n,i]})}}var qu={id:"title",_element:Yu,start(e,t,s){!function(e,t){const s=new Yu({ctx:e.ctx,options:t,chart:e});Tc.configure(e,s,t),Tc.addBox(e,s),e.titleBlock=s}(e,s)},stop(e){const t=e.titleBlock;Tc.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const a=e.titleBlock;Tc.configure(e,a,s),a.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wu=new WeakMap;var Hu={id:"subtitle",start(e,t,s){const a=new Yu({ctx:e.ctx,options:s,chart:e});Tc.configure(e,a,s),Tc.addBox(e,a),Wu.set(e,a)},stop(e){Tc.removeBox(e,Wu.get(e)),Wu.delete(e)},beforeUpdate(e,t,s){const a=Wu.get(e);Tc.configure(e,a,s),a.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ku={average(e){if(!e.length)return!1;let t,s,a=new Set,n=0,i=0;for(t=0,s=e.length;t<s;++t){const s=e[t].element;if(s&&s.hasValue()){const e=s.tooltipPosition();a.add(e.x),n+=e.y,++i}}if(0===i||0===a.size)return!1;return{x:[...a].reduce((e,t)=>e+t)/a.size,y:n/i}},nearest(e,t){if(!e.length)return!1;let s,a,n,i=t.x,r=t.y,l=Number.POSITIVE_INFINITY;for(s=0,a=e.length;s<a;++s){const a=e[s].element;if(a&&a.hasValue()){const e=Ar(t,a.getCenterPoint());e<l&&(l=e,n=a)}}if(n){const e=n.tooltipPosition();i=e.x,r=e.y}return{x:i,y:r}}};function $u(e,t){return t&&(Vi(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Gu(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Ju(e,t){const{element:s,datasetIndex:a,index:n}=t,i=e.getDatasetMeta(a).controller,{label:r,value:l}=i.getLabelAndValue(n);return{chart:e,label:r,parsed:i.getParsed(n),raw:e.data.datasets[a].data[n],formattedValue:l,dataset:i.getDataset(),dataIndex:n,datasetIndex:a,element:s}}function Qu(e,t){const s=e.chart.ctx,{body:a,footer:n,title:i}=e,{boxWidth:r,boxHeight:l}=t,o=_l(t.bodyFont),c=_l(t.titleFont),d=_l(t.footerFont),u=i.length,h=n.length,m=a.length,p=Dl(t.padding);let f=p.height,g=0,v=a.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,u&&(f+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),v){f+=m*(t.displayColors?Math.max(l,o.lineHeight):o.lineHeight)+(v-m)*o.lineHeight+(v-1)*t.bodySpacing}h&&(f+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let x=0;const b=function(e){g=Math.max(g,s.measureText(e).width+x)};return s.save(),s.font=c.string,Gi(e.title,b),s.font=o.string,Gi(e.beforeBody.concat(e.afterBody),b),x=t.displayColors?r+2+t.boxPadding:0,Gi(a,e=>{Gi(e.before,b),Gi(e.lines,b),Gi(e.after,b)}),x=0,s.font=d.string,Gi(e.footer,b),s.restore(),g+=p.width,{width:g,height:f}}function Xu(e,t,s,a){const{x:n,width:i}=s,{width:r,chartArea:{left:l,right:o}}=e;let c="center";return"center"===a?c=n<=(l+o)/2?"left":"right":n<=i/2?c="left":n>=r-i/2&&(c="right"),function(e,t,s,a){const{x:n,width:i}=a,r=s.caretSize+s.caretPadding;return"left"===e&&n+i+r>t.width||"right"===e&&n-i-r<0||void 0}(c,e,t,s)&&(c="center"),c}function Zu(e,t,s){const a=s.yAlign||t.yAlign||function(e,t){const{y:s,height:a}=t;return s<a/2?"top":s>e.height-a/2?"bottom":"center"}(e,s);return{xAlign:s.xAlign||t.xAlign||Xu(e,t,s,a),yAlign:a}}function eh(e,t,s,a){const{caretSize:n,caretPadding:i,cornerRadius:r}=e,{xAlign:l,yAlign:o}=s,c=n+i,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Fl(r);let p=function(e,t){let{x:s,width:a}=e;return"right"===t?s-=a:"center"===t&&(s-=a/2),s}(t,l);const f=function(e,t,s){let{y:a,height:n}=e;return"top"===t?a+=s:a-="bottom"===t?n+s:n/2,a}(t,o,c);return"center"===o?"left"===l?p+=c:"right"===l&&(p-=c):"left"===l?p-=Math.max(d,h)+n:"right"===l&&(p+=Math.max(u,m)+n),{x:Fr(p,0,a.width-t.width),y:Fr(f,0,a.height-t.height)}}function th(e,t,s){const a=Dl(s.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-a.right:e.x+a.left}function sh(e){return $u([],Gu(e))}function ah(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const nh={beforeTitle:Ui,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,a=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return s[t.dataIndex]}return""},afterTitle:Ui,beforeBody:Ui,beforeLabel:Ui,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return zi(s)||(t+=s),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ui,afterBody:Ui,beforeFooter:Ui,footer:Ui,afterFooter:Ui};function ih(e,t,s,a){const n=e[t].call(s,a);return"undefined"===typeof n?nh[t].call(s,a):n}class rh extends Xc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&t.options.animation&&s.animations,n=new Ro(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,s=this._tooltipItems,Ol(e,{tooltip:t,tooltipItems:s,type:"tooltip"})));var e,t,s}getTitle(e,t){const{callbacks:s}=t,a=ih(s,"beforeTitle",this,e),n=ih(s,"title",this,e),i=ih(s,"afterTitle",this,e);let r=[];return r=$u(r,Gu(a)),r=$u(r,Gu(n)),r=$u(r,Gu(i)),r}getBeforeBody(e,t){return sh(ih(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,a=[];return Gi(e,e=>{const t={before:[],lines:[],after:[]},n=ah(s,e);$u(t.before,Gu(ih(n,"beforeLabel",this,e))),$u(t.lines,ih(n,"label",this,e)),$u(t.after,Gu(ih(n,"afterLabel",this,e))),a.push(t)}),a}getAfterBody(e,t){return sh(ih(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,a=ih(s,"beforeFooter",this,e),n=ih(s,"footer",this,e),i=ih(s,"afterFooter",this,e);let r=[];return r=$u(r,Gu(a)),r=$u(r,Gu(n)),r=$u(r,Gu(i)),r}_createItems(e){const t=this._active,s=this.chart.data,a=[],n=[],i=[];let r,l,o=[];for(r=0,l=t.length;r<l;++r)o.push(Ju(this.chart,t[r]));return e.filter&&(o=o.filter((t,a,n)=>e.filter(t,a,n,s))),e.itemSort&&(o=o.sort((t,a)=>e.itemSort(t,a,s))),Gi(o,t=>{const s=ah(e.callbacks,t);a.push(ih(s,"labelColor",this,t)),n.push(ih(s,"labelPointStyle",this,t)),i.push(ih(s,"labelTextColor",this,t))}),this.labelColors=a,this.labelPointStyles=n,this.labelTextColors=i,this.dataPoints=o,o}update(e,t){const s=this.options.setContext(this.getContext()),a=this._active;let n,i=[];if(a.length){const e=Ku[s.position].call(this,a,this._eventPosition);i=this._createItems(s),this.title=this.getTitle(i,s),this.beforeBody=this.getBeforeBody(i,s),this.body=this.getBody(i,s),this.afterBody=this.getAfterBody(i,s),this.footer=this.getFooter(i,s);const t=this._size=Qu(this,s),r=Object.assign({},e,t),l=Zu(this.chart,s,r),o=eh(s,r,l,this.chart);this.xAlign=l.xAlign,this.yAlign=l.yAlign,n={opacity:1,x:o.x,y:o.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=i,this.$context=void 0,n&&this._resolveAnimations().update(this,n),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,a){const n=this.getCaretPosition(e,s,a);t.lineTo(n.x1,n.y1),t.lineTo(n.x2,n.y2),t.lineTo(n.x3,n.y3)}getCaretPosition(e,t,s){const{xAlign:a,yAlign:n}=this,{caretSize:i,cornerRadius:r}=s,{topLeft:l,topRight:o,bottomLeft:c,bottomRight:d}=Fl(r),{x:u,y:h}=e,{width:m,height:p}=t;let f,g,v,x,b,y;return"center"===n?(b=h+p/2,"left"===a?(f=u,g=f-i,x=b+i,y=b-i):(f=u+m,g=f+i,x=b-i,y=b+i),v=f):(g="left"===a?u+Math.max(l,c)+i:"right"===a?u+m-Math.max(o,d)-i:this.caretX,"top"===n?(x=h,b=x-i,f=g-i,v=g+i):(x=h+p,b=x+i,f=g+i,v=g-i),y=x),{x1:f,x2:g,x3:v,y1:x,y2:b,y3:y}}drawTitle(e,t,s){const a=this.title,n=a.length;let i,r,l;if(n){const o=bo(s.rtl,this.x,this.width);for(e.x=th(this,s.titleAlign,s),t.textAlign=o.textAlign(s.titleAlign),t.textBaseline="middle",i=_l(s.titleFont),r=s.titleSpacing,t.fillStyle=s.titleColor,t.font=i.string,l=0;l<n;++l)t.fillText(a[l],o.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+r,l+1===n&&(e.y+=s.titleMarginBottom-r)}}_drawColorBox(e,t,s,a,n){const i=this.labelColors[s],r=this.labelPointStyles[s],{boxHeight:l,boxWidth:o}=n,c=_l(n.bodyFont),d=th(this,"left",n),u=a.x(d),h=l<c.lineHeight?(c.lineHeight-l)/2:0,m=t.y+h;if(n.usePointStyle){const t={radius:Math.min(o,l)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},s=a.leftForLtr(u,o)+o/2,c=m+l/2;e.strokeStyle=n.multiKeyBackground,e.fillStyle=n.multiKeyBackground,pl(e,t,s,c),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,pl(e,t,s,c)}else{e.lineWidth=Yi(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const t=a.leftForLtr(u,o),s=a.leftForLtr(a.xPlus(u,1),o-2),r=Fl(i.borderRadius);Object.values(r).some(e=>0!==e)?(e.beginPath(),e.fillStyle=n.multiKeyBackground,Sl(e,{x:t,y:m,w:o,h:l,radius:r}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),Sl(e,{x:s,y:m+1,w:o-2,h:l-2,radius:r}),e.fill()):(e.fillStyle=n.multiKeyBackground,e.fillRect(t,m,o,l),e.strokeRect(t,m,o,l),e.fillStyle=i.backgroundColor,e.fillRect(s,m+1,o-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:a}=this,{bodySpacing:n,bodyAlign:i,displayColors:r,boxHeight:l,boxWidth:o,boxPadding:c}=s,d=_l(s.bodyFont);let u=d.lineHeight,h=0;const m=bo(s.rtl,this.x,this.width),p=function(s){t.fillText(s,m.x(e.x+h),e.y+u/2),e.y+=u+n},f=m.textAlign(i);let g,v,x,b,y,j,N;for(t.textAlign=i,t.textBaseline="middle",t.font=d.string,e.x=th(this,f,s),t.fillStyle=s.bodyColor,Gi(this.beforeBody,p),h=r&&"right"!==f?"center"===i?o/2+c:o+2+c:0,b=0,j=a.length;b<j;++b){for(g=a[b],v=this.labelTextColors[b],t.fillStyle=v,Gi(g.before,p),x=g.lines,r&&x.length&&(this._drawColorBox(t,e,b,m,s),u=Math.max(d.lineHeight,l)),y=0,N=x.length;y<N;++y)p(x[y]),u=d.lineHeight;Gi(g.after,p)}h=0,u=d.lineHeight,Gi(this.afterBody,p),e.y-=n}drawFooter(e,t,s){const a=this.footer,n=a.length;let i,r;if(n){const l=bo(s.rtl,this.x,this.width);for(e.x=th(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=l.textAlign(s.footerAlign),t.textBaseline="middle",i=_l(s.footerFont),t.fillStyle=s.footerColor,t.font=i.string,r=0;r<n;++r)t.fillText(a[r],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+s.footerSpacing}}drawBackground(e,t,s,a){const{xAlign:n,yAlign:i}=this,{x:r,y:l}=e,{width:o,height:c}=s,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Fl(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(r+d,l),"top"===i&&this.drawCaret(e,t,s,a),t.lineTo(r+o-u,l),t.quadraticCurveTo(r+o,l,r+o,l+u),"center"===i&&"right"===n&&this.drawCaret(e,t,s,a),t.lineTo(r+o,l+c-m),t.quadraticCurveTo(r+o,l+c,r+o-m,l+c),"bottom"===i&&this.drawCaret(e,t,s,a),t.lineTo(r+h,l+c),t.quadraticCurveTo(r,l+c,r,l+c-h),"center"===i&&"left"===n&&this.drawCaret(e,t,s,a),t.lineTo(r,l+d),t.quadraticCurveTo(r,l,r+d,l),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,a=s&&s.x,n=s&&s.y;if(a||n){const s=Ku[e.position].call(this,this._active,this._eventPosition);if(!s)return;const i=this._size=Qu(this,e),r=Object.assign({},s,this._size),l=Zu(t,e,r),o=eh(e,r,l,t);a._to===o.x&&n._to===o.y||(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=i.width,this.height=i.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,o))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},n={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const i=Dl(t.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&r&&(e.save(),e.globalAlpha=s,this.drawBackground(n,e,a,t),yo(e,t.textDirection),n.y+=i.top,this.drawTitle(n,e,t),this.drawBody(n,e,t),this.drawFooter(n,e,t),jo(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,a=e.map(e=>{let{datasetIndex:t,index:s}=e;const a=this.chart.getDatasetMeta(t);if(!a)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:a.data[s],index:s}}),n=!Ji(s,a),i=this._positionChanged(a,t);(n||i)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,n=this._active||[],i=this._getActiveElements(e,n,t,s),r=this._positionChanged(i,e),l=t||!Ji(i,n)||r;return l&&(this._active=i,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,s,a){const n=this.options;if("mouseout"===e.type)return[];if(!a)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const i=this.chart.getElementsAtEventForMode(e,n.mode,n,s);return n.reverse&&i.reverse(),i}_positionChanged(e,t){const{caretX:s,caretY:a,options:n}=this,i=Ku[n.position].call(this,e,t);return!1!==i&&(s!==i.x||a!==i.y)}}(0,ii.A)(rh,"positioners",Ku);var lh={id:"tooltip",_element:rh,positioners:Ku,afterInit(e,t,s){s&&(e.tooltip=new rh({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",(0,Ue.A)((0,Ue.A)({},s),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nh},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},oh=Object.freeze({__proto__:null,Colors:vu,Decimation:yu,Filler:Lu,Legend:Vu,SubTitle:Hu,Title:qu,Tooltip:lh});function ch(e,t,s,a){const n=e.indexOf(t);if(-1===n)return((e,t,s,a)=>("string"===typeof t?(s=e.push(t)-1,a.unshift({index:s,label:t})):isNaN(t)&&(s=null),s))(e,t,s,a);return n!==e.lastIndexOf(t)?s:n}function dh(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class uh extends od{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:s,label:a}of t)e[s]===a&&e.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(zi(e))return null;const s=this.getLabels();return((e,t)=>null===e?null:Fr(Math.round(e),0,t))(t=isFinite(t)&&s[t]===e?t:ch(s,e,Hi(t,e),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(s=0),t||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,a=[];let n=this.getLabels();n=0===e&&t===n.length-1?n:n.slice(e,t+1),this._valueRange=Math.max(n.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let i=e;i<=t;i++)a.push({value:i});return a}getLabelForValue(e){return dh.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function hh(e,t){const s=[],{bounds:a,step:n,min:i,max:r,precision:l,count:o,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=n||1,m=c-1,{min:p,max:f}=t,g=!zi(i),v=!zi(r),x=!zi(o),b=(f-p)/(d+1);let y,j,N,w,S=yr((f-p)/m/h)*h;if(S<1e-14&&!g&&!v)return[{value:p},{value:f}];w=Math.ceil(f/S)-Math.floor(p/S),w>m&&(S=yr(w*S/m/h)*h),zi(l)||(y=Math.pow(10,l),S=Math.ceil(S*y)/y),"ticks"===a?(j=Math.floor(p/S)*S,N=Math.ceil(f/S)*S):(j=p,N=f),g&&v&&n&&function(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}((r-i)/n,S/1e3)?(w=Math.round(Math.min((r-i)/S,c)),S=(r-i)/w,j=i,N=r):x?(j=g?i:j,N=v?r:N,w=o-1,S=(N-j)/w):(w=(N-j)/S,w=br(w,Math.round(w),S/1e3)?Math.round(w):Math.ceil(w));const k=Math.max(kr(S),kr(j));y=Math.pow(10,zi(l)?k:l),j=Math.round(j*y)/y,N=Math.round(N*y)/y;let C=0;for(g&&(u&&j!==i?(s.push({value:i}),j<i&&C++,br(Math.round((j+C*S)*y)/y,i,mh(i,b,e))&&C++):j<i&&C++);C<w;++C){const e=Math.round((j+C*S)*y)/y;if(v&&e>r)break;s.push({value:e})}return v&&u&&N!==r?s.length&&br(s[s.length-1].value,r,mh(r,b,e))?s[s.length-1].value=r:s.push({value:r}):v&&N!==r||s.push({value:N}),s}function mh(e,t,s){let{horizontal:a,minRotation:n}=s;const i=wr(n),r=(a?Math.sin(i):Math.cos(i))||.001,l=.75*t*(""+e).length;return Math.min(t/r,l)}(0,ii.A)(uh,"id","category"),(0,ii.A)(uh,"defaults",{ticks:{callback:dh}});class ph extends od{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return zi(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:a,max:n}=this;const i=e=>a=t?a:e,r=e=>n=s?n:e;if(e){const e=xr(a),t=xr(n);e<0&&t<0?r(0):e>0&&t>0&&i(0)}if(a===n){let t=0===n?1:Math.abs(.05*n);r(n+t),e||i(a-t)}this.min=a,this.max=n}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:s,stepSize:a}=e;return a?(t=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(a," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),s=s||11),s&&(t=Math.min(s,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a=hh({maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Nr(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-t)/Math.max(e.length-1,1)/2;t-=a,s+=a}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return tl(e,this.chart.options.locale,this.options.ticks.format)}}class fh extends ph{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=qi(e)?e:0,this.max=qi(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=wr(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,n.lineHeight/a))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}(0,ii.A)(fh,"id","linear"),(0,ii.A)(fh,"defaults",{ticks:{callback:al.formatters.numeric}});const gh=e=>Math.floor(vr(e)),vh=(e,t)=>Math.pow(10,gh(e)+t);function xh(e){return 1===e/Math.pow(10,gh(e))}function bh(e,t,s){const a=Math.pow(10,s),n=Math.floor(e/a);return Math.ceil(t/a)-n}function yh(e,t){let{min:s,max:a}=t;s=Wi(e.min,s);const n=[],i=gh(s);let r=function(e,t){let s=gh(t-e);for(;bh(e,t,s)>10;)s++;for(;bh(e,t,s)<10;)s--;return Math.min(s,gh(e))}(s,a),l=r<0?Math.pow(10,Math.abs(r)):1;const o=Math.pow(10,r),c=i>r?Math.pow(10,i):0,d=Math.round((s-c)*l)/l,u=Math.floor((s-c)/o/10)*o*10;let h=Math.floor((d-u)/Math.pow(10,r)),m=Wi(e.min,Math.round((c+u+h*Math.pow(10,r))*l)/l);for(;m<a;)n.push({value:m,major:xh(m),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,l=r>=0?1:l),m=Math.round((c+u+h*Math.pow(10,r))*l)/l;const p=Wi(e.max,m);return n.push({value:p,major:xh(p),significand:h}),n}class jh extends od{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const s=ph.prototype.parse.apply(this,[e,t]);if(0!==s)return qi(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=qi(e)?Math.max(0,e):null,this.max=qi(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!qi(this._userMin)&&(this.min=e===vh(this.min,0)?vh(this.min,-1):vh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let s=this.min,a=this.max;const n=t=>s=e?s:t,i=e=>a=t?a:e;s===a&&(s<=0?(n(1),i(10)):(n(vh(s,-1)),i(vh(a,1)))),s<=0&&n(vh(a,-1)),a<=0&&i(vh(s,1)),this.min=s,this.max=a}buildTicks(){const e=this.options,t=yh({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Nr(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":tl(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=vr(e),this._valueRange=vr(this.max)-vr(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(vr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Nh(e){const t=e.ticks;if(t.display&&e.display){const e=Dl(t.backdropPadding);return Hi(t.font&&t.font.size,cl.font.size)+e.height}return 0}function wh(e,t,s){return s=Vi(s)?s:[s],{w:ul(e,t.string,s),h:s.length*t.lineHeight}}function Sh(e,t,s,a,n){return e===a||e===n?{start:t-s/2,end:t+s/2}:e<a||e>n?{start:t-s,end:t}:{start:t,end:t+s}}function kh(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),a=[],n=[],i=e._pointLabels.length,r=e.options.pointLabels,l=r.centerPointLabels?cr/i:0;for(let o=0;o<i;o++){const i=r.setContext(e.getPointLabelContext(o));n[o]=i.padding;const c=e.getPointPosition(o,e.drawingArea+n[o],l),d=_l(i.font),u=wh(e.ctx,d,e._pointLabels[o]);a[o]=u;const h=Pr(e.getIndexAngle(o)+l),m=Math.round(Sr(h));Ch(s,t,h,Sh(m,c.x,u.w,0,180),Sh(m,c.y,u.h,90,270))}e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=function(e,t,s){const a=[],n=e._pointLabels.length,i=e.options,{centerPointLabels:r,display:l}=i.pointLabels,o={extra:Nh(i)/2,additionalAngle:r?cr/n:0};let c;for(let d=0;d<n;d++){o.padding=s[d],o.size=t[d];const n=Ah(e,d,o);a.push(n),"auto"===l&&(n.visible=Eh(n,c),n.visible&&(c=n))}return a}(e,a,n)}function Ch(e,t,s,a,n){const i=Math.abs(Math.sin(s)),r=Math.abs(Math.cos(s));let l=0,o=0;a.start<t.l?(l=(t.l-a.start)/i,e.l=Math.min(e.l,t.l-l)):a.end>t.r&&(l=(a.end-t.r)/i,e.r=Math.max(e.r,t.r+l)),n.start<t.t?(o=(t.t-n.start)/r,e.t=Math.min(e.t,t.t-o)):n.end>t.b&&(o=(n.end-t.b)/r,e.b=Math.max(e.b,t.b+o))}function Ah(e,t,s){const a=e.drawingArea,{extra:n,additionalAngle:i,padding:r,size:l}=s,o=e.getPointPosition(t,a+n+r,i),c=Math.round(Sr(Pr(o.angle+pr))),d=function(e,t,s){90===s||270===s?e-=t/2:(s>270||s<90)&&(e-=t);return e}(o.y,l.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,s){"right"===s?e-=t:"center"===s&&(e-=t/2);return e}(o.x,l.w,u);return{visible:!0,x:o.x,y:d,textAlign:u,left:h,top:d,right:h+l.w,bottom:d+l.h}}function Eh(e,t){if(!t)return!0;const{left:s,top:a,right:n,bottom:i}=e;return!(gl({x:s,y:a},t)||gl({x:s,y:i},t)||gl({x:n,y:a},t)||gl({x:n,y:i},t))}function Ph(e,t,s){const{left:a,top:n,right:i,bottom:r}=s,{backdropColor:l}=t;if(!zi(l)){const s=Fl(t.borderRadius),o=Dl(t.backdropPadding);e.fillStyle=l;const c=a-o.left,d=n-o.top,u=i-a+o.width,h=r-n+o.height;Object.values(s).some(e=>0!==e)?(e.beginPath(),Sl(e,{x:c,y:d,w:u,h:h,radius:s}),e.fill()):e.fillRect(c,d,u,h)}}function Ih(e,t,s,a){const{ctx:n}=e;if(s)n.arc(e.xCenter,e.yCenter,t,0,dr);else{let s=e.getPointPosition(0,t);n.moveTo(s.x,s.y);for(let i=1;i<a;i++)s=e.getPointPosition(i,t),n.lineTo(s.x,s.y)}}(0,ii.A)(jh,"id","logarithmic"),(0,ii.A)(jh,"defaults",{ticks:{callback:al.formatters.logarithmic,major:{enabled:!0}}});class Fh extends ph{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Dl(Nh(this.options)/2),t=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(t,s)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=qi(e)&&!isNaN(e)?e:0,this.max=qi(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Nh(this.options))}generateTickLabels(e){ph.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const s=$i(this.options.pointLabels.callback,[e,t],this);return s||0===s?s:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?kh(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,s,a){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((s-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,s,a))}getIndexAngle(e){return Pr(e*(dr/(this._pointLabels.length||1))+wr(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(zi(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(zi(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const s=t[e];return function(e,t,s){return Ol(e,{label:s,index:t,type:"pointLabel"})}(this.getContext(),e,s)}}getPointPosition(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=this.getIndexAngle(e)-pr+s;return{x:Math.cos(a)*t+this.xCenter,y:Math.sin(a)*t+this.yCenter,angle:a}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:s,right:a,bottom:n}=this._pointLabelItems[e];return{left:t,top:s,right:a,bottom:n}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),Ih(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:s,grid:a,border:n}=t,i=this._pointLabels.length;let r,l,o;if(t.pointLabels.display&&function(e,t){const{ctx:s,options:{pointLabels:a}}=e;for(let n=t-1;n>=0;n--){const t=e._pointLabelItems[n];if(!t.visible)continue;const i=a.setContext(e.getPointLabelContext(n));Ph(s,i,t);const r=_l(i.font),{x:l,y:o,textAlign:c}=t;wl(s,e._pointLabels[n],l,o+r.lineHeight/2,r,{color:i.color,textAlign:c,textBaseline:"middle"})}}(this,i),a.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){l=this.getDistanceFromCenterForValue(e.value);const s=this.getContext(t),r=a.setContext(s),o=n.setContext(s);!function(e,t,s,a,n){const i=e.ctx,r=t.circular,{color:l,lineWidth:o}=t;!r&&!a||!l||!o||s<0||(i.save(),i.strokeStyle=l,i.lineWidth=o,i.setLineDash(n.dash||[]),i.lineDashOffset=n.dashOffset,i.beginPath(),Ih(e,s,r,a),i.closePath(),i.stroke(),i.restore())}(this,r,l,i,o)}}),s.display){for(e.save(),r=i-1;r>=0;r--){const a=s.setContext(this.getPointLabelContext(r)),{color:n,lineWidth:i}=a;i&&n&&(e.lineWidth=i,e.strokeStyle=n,e.setLineDash(a.borderDash),e.lineDashOffset=a.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),o=this.getPointPosition(r,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(o.x,o.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,s=t.ticks;if(!s.display)return;const a=this.getIndexAngle(0);let n,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,r)=>{if(0===r&&this.min>=0&&!t.reverse)return;const l=s.setContext(this.getContext(r)),o=_l(l.font);if(n=this.getDistanceFromCenterForValue(this.ticks[r].value),l.showLabelBackdrop){e.font=o.string,i=e.measureText(a.label).width,e.fillStyle=l.backdropColor;const t=Dl(l.backdropPadding);e.fillRect(-i/2-t.left,-n-o.size/2-t.top,i+t.width,o.size+t.height)}wl(e,a.label,0,-n,o,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}}(0,ii.A)(Fh,"id","radialLinear"),(0,ii.A)(Fh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:al.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),(0,ii.A)(Fh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,ii.A)(Fh,"descriptors",{angleLines:{_fallback:"grid"}});const Dh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_h=Object.keys(Dh);function Th(e,t){return e-t}function Oh(e,t){if(zi(t))return null;const s=e._adapter,{parser:a,round:n,isoWeekday:i}=e._parseOpts;let r=t;return"function"===typeof a&&(r=a(r)),qi(r)||(r="string"===typeof a?s.parse(r,a):s.parse(r)),null===r?null:(n&&(r="week"!==n||!jr(i)&&!0!==i?s.startOf(r,n):s.startOf(r,"isoWeek",i)),+r)}function Rh(e,t,s,a){const n=_h.length;for(let i=_h.indexOf(e);i<n-1;++i){const e=Dh[_h[i]],n=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((s-t)/(n*e.size))<=a)return _h[i]}return _h[n-1]}function Mh(e,t,s){if(s){if(s.length){const{lo:a,hi:n}=_r(s,t);e[s[a]>=t?s[a]:s[n]]=!0}}else e[t]=!0}function Lh(e,t,s){const a=[],n={},i=t.length;let r,l;for(r=0;r<i;++r)l=t[r],n[l]=r,a.push({value:l,major:!1});return 0!==i&&s?function(e,t,s,a){const n=e._adapter,i=+n.startOf(t[0].value,a),r=t[t.length-1].value;let l,o;for(l=i;l<=r;l=+n.add(l,1,a))o=s[l],o>=0&&(t[o].major=!0);return t}(e,a,n,s):a}class Uh extends od{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e.time||(e.time={}),a=this._adapter=new pc(e.adapters.date);a.init(t),tr(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Oh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:a,max:n,minDefined:i,maxDefined:r}=this.getUserBounds();function l(e){i||isNaN(e.min)||(a=Math.min(a,e.min)),r||isNaN(e.max)||(n=Math.max(n,e.max))}i&&r||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),a=qi(a)&&!isNaN(a)?a:+t.startOf(Date.now(),s),n=qi(n)&&!isNaN(n)?n:+t.endOf(Date.now(),s)+1,this.min=Math.min(a,n-1),this.max=Math.max(a+1,n)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,a="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const n=this.min,i=function(e,t,s){let a=0,n=e.length;for(;a<n&&e[a]<t;)a++;for(;n>a&&e[n-1]>s;)n--;return a>0||n<e.length?e.slice(a,n):e}(a,n,this.max);return this._unit=t.unit||(s.autoSkip?Rh(t.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(e,t,s,a,n){for(let i=_h.length-1;i>=_h.indexOf(s);i--){const s=_h[i];if(Dh[s].common&&e._adapter.diff(n,a,s)>=t-1)return s}return _h[s?_h.indexOf(s):0]}(this,i.length,t.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function(e){for(let t=_h.indexOf(e)+1,s=_h.length;t<s;++t)if(Dh[_h[t]].common)return _h[t]}(this._unit):void 0,this.initOffsets(a),e.reverse&&i.reverse(),Lh(this,i,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0,n=0;this.options.offset&&s.length&&(e=this.getDecimalForValue(s[0]),a=1===s.length?1-e:(this.getDecimalForValue(s[1])-e)/2,t=this.getDecimalForValue(s[s.length-1]),n=1===s.length?t:(t-this.getDecimalForValue(s[s.length-2]))/2);const i=s.length<3?.5:.25;a=Fr(a,0,i),n=Fr(n,0,i),this._offsets={start:a,end:n,factor:1/(a+1+n)}}_generate(){const e=this._adapter,t=this.min,s=this.max,a=this.options,n=a.time,i=n.unit||Rh(n.minUnit,t,s,this._getLabelCapacity(t)),r=Hi(a.ticks.stepSize,1),l="week"===i&&n.isoWeekday,o=jr(l)||!0===l,c={};let d,u,h=t;if(o&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,o?"day":i),e.diff(s,t,i)>1e5*r)throw new Error(t+" and "+s+" are too far apart with stepSize of "+r+" "+i);const m="data"===a.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<s;d=+e.add(d,r,i),u++)Mh(c,d,m);return d!==s&&"ticks"!==a.bounds&&1!==u||Mh(c,d,m),Object.keys(c).sort(Th).map(e=>+e)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,a=this._unit,n=t||s[a];return this._adapter.format(e,n)}_tickFormatFunction(e,t,s,a){const n=this.options,i=n.ticks.callback;if(i)return $i(i,[e,t,s],this);const r=n.time.displayFormats,l=this._unit,o=this._majorUnit,c=l&&r[l],d=o&&r[o],u=s[t],h=o&&d&&u&&u.major;return this._adapter.format(e,a||(h?d:c))}generateTickLabels(e){let t,s,a;for(t=0,s=e.length;t<s;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,a=wr(this.isHorizontal()?t.maxRotation:t.minRotation),n=Math.cos(a),i=Math.sin(a),r=this._resolveTickFontOptions(0).size;return{w:s*n+r*i,h:s*i+r*n}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,a=s[t.unit]||s.millisecond,n=this._tickFormatFunction(e,0,Lh(this,[e],this._majorUnit),a),i=this._getLabelSize(n),r=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return r>0?r:1}getDataTimestamps(){let e,t,s=this._cache.data||[];if(s.length)return s;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,t=a.length;e<t;++e)s=s.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const a=this.getLabels();for(t=0,s=a.length;t<s;++t)e.push(Oh(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Lr(e.sort(Th))}}function Bh(e,t,s){let a,n,i,r,l=0,o=e.length-1;s?(t>=e[l].pos&&t<=e[o].pos&&({lo:l,hi:o}=Tr(e,"pos",t)),({pos:a,time:i}=e[l]),({pos:n,time:r}=e[o])):(t>=e[l].time&&t<=e[o].time&&({lo:l,hi:o}=Tr(e,"time",t)),({time:a,pos:i}=e[l]),({time:n,pos:r}=e[o]));const c=n-a;return c?i+(r-i)*(t-a)/c:i}(0,ii.A)(Uh,"id","time"),(0,ii.A)(Uh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class zh extends Uh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Bh(t,this.min),this._tableRange=Bh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,a=[],n=[];let i,r,l,o,c;for(i=0,r=e.length;i<r;++i)o=e[i],o>=t&&o<=s&&a.push(o);if(a.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(i=0,r=a.length;i<r;++i)c=a[i+1],l=a[i-1],o=a[i],Math.round((c+l)/2)!==o&&n.push({time:o,pos:i/(r-1)});return n}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return s.includes(e)&&s.length||s.splice(0,0,e),s.includes(t)&&1!==s.length||s.push(t),s.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return e=t.length&&s.length?this.normalize(t.concat(s)):t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Bh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return Bh(this._table,s*this._tableRange+this._minPos,!0)}}(0,ii.A)(zh,"id","timeseries"),(0,ii.A)(zh,"defaults",Uh.defaults);const Vh=[uc,du,oh,Object.freeze({__proto__:null,CategoryScale:uh,LinearScale:fh,LogarithmicScale:jh,RadialLinearScale:Fh,TimeScale:Uh,TimeSeriesScale:zh})];Ud.register(...Vh);const Yh=Ud,qh=e=>{let{label:t,value:s,icon:a,theme:n="primary",trend:i=null}=e;const r={primary:{bg:"linear-gradient(135deg, #16a34a 0%, #15803d 100%)",icon:"\ud83d\udcca"},success:{bg:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",icon:"\u2705"},warning:{bg:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)",icon:"\u26a0\ufe0f"},danger:{bg:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",icon:"\ud83d\udea8"},info:{bg:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",icon:"\u2139\ufe0f"}},l=r[n]||r.primary;return(0,Fe.jsx)("div",{className:"metric-card",style:{background:l.bg},children:(0,Fe.jsxs)("div",{className:"metric-card-content",children:[(0,Fe.jsx)("div",{className:"metric-icon",children:a||l.icon}),(0,Fe.jsxs)("div",{className:"metric-info",children:[(0,Fe.jsx)("div",{className:"metric-label",children:t}),(0,Fe.jsx)("div",{className:"metric-value",children:null!==s&&void 0!==s?s:"-"}),i&&(0,Fe.jsxs)("div",{className:"metric-trend ".concat(i.type),children:[i.icon," ",i.value]})]}),(0,Fe.jsx)("div",{className:"metric-sparkle",children:"\u2728"})]})})},Wh=e=>{let{title:t,subtitle:s,children:a,theme:n="default"}=e;const i={default:{border:"#e2e8f0",accent:"#3b82f6"},success:{border:"#dcfce7",accent:"#22c55e"},warning:{border:"#fef3c7",accent:"#f59e0b"},danger:{border:"#fee2e2",accent:"#ef4444"}},r=i[n]||i.default;return(0,Fe.jsxs)("div",{className:"chart-card",style:{borderColor:r.border},children:[(0,Fe.jsxs)("div",{className:"chart-header",children:[(0,Fe.jsxs)("div",{className:"chart-title-section",children:[(0,Fe.jsx)("h3",{className:"chart-title",children:t}),s&&(0,Fe.jsx)("p",{className:"chart-subtitle",children:s})]}),(0,Fe.jsx)("div",{className:"chart-accent",style:{backgroundColor:r.accent}})]}),(0,Fe.jsx)("div",{className:"chart-content",children:a})]})},Hh=e=>{var s;let{role:a="SUPER_ADMIN"}=e;const n=ee(),[i,r]=(0,t.useState)(null),[l,o]=(0,t.useState)({top:[],bottom:[]}),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(""),[m,p]=(0,t.useState)(!0),[f,g]=(0,t.useState)(new Date),v=async()=>{try{h(""),p(!0);const e=await fetch(({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8080/api")+"/public/dashboard/stats",{credentials:"omit"});if(!e.ok)throw new Error("Failed to fetch public stats: "+e.status);const t=await e.json();r(t);const s=await fetch(({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8080/api")+"/public/farmers-with-kyc",{credentials:"omit"});if(!s.ok)throw new Error("Failed to fetch public farmers: "+s.status);const a=await s.json(),n=(a||[]).reduce((e,t)=>{const s=t.district||"Unknown",a=(t.kycStatus||"").toUpperCase(),n=e[s]||{total:0,approved:0};return n.total+=1,"APPROVED"===a&&(n.approved+=1),e[s]=n,e},{}),i=Object.entries(n).map(e=>{let[t,s]=e;return{district:t,rate:s.total?Math.round(s.approved/s.total*100):0}}).sort((e,t)=>t.rate-e.rate);o({top:i.slice(0,5),bottom:i.slice(-5).reverse()});const l=[{label:"Assigned",value:(a||[]).filter(e=>!!e.assignedEmployee).length},{label:"Unassigned",value:(a||[]).filter(e=>!e.assignedEmployee).length}];d(l),g(new Date)}catch(Qh){var e;console.error(Qh),h((null===(e=Qh.response)||void 0===e?void 0:e.data)||Qh.message)}finally{p(!1)}};(0,t.useEffect)(()=>{v()},[]),(0,t.useEffect)(()=>{const e=setInterval(v,3e5);return()=>clearInterval(e)},[]);const x=(e,t,s,a)=>{const n=document.getElementById(e);n&&(n._chart&&n._chart.destroy(),n._chart=new Yh(n,{type:"bar",data:{labels:t.map(e=>e.district),datasets:[{label:"Approval %",data:t.map(e=>e.rate),backgroundColor:s,borderRadius:8,borderSkipped:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:a,color:"#374151",font:{size:16,weight:"bold"}}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:e=>e+"%",color:"#6b7280",font:{size:12}},grid:{color:"#e5e7eb",drawBorder:!1}},x:{ticks:{color:"#6b7280",font:{size:12}},grid:{display:!1}}}}}))};(0,t.useEffect)(()=>{l.top.length&&x("top5",l.top,"linear-gradient(135deg, #16a34a 0%, #15803d 100%)","Top 5 Districts"),l.bottom.length&&x("bottom5",l.bottom,"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)","Bottom 5 Districts")},[l]),(0,t.useEffect)(()=>{c.length&&((e,t)=>{const s=document.getElementById(e);if(!s)return;var a;s._chart&&s._chart.destroy(),s._chart=new Yh(s,{type:"doughnut",data:{labels:t.map(e=>e.label),datasets:[{data:t.map(e=>e.value),backgroundColor:(a=t.map(e=>e.label),a.map(e=>"Assigned"===e?"#16a34a":"Unassigned"===e?"#f59e0b":"#3b82f6")),borderWidth:0,borderRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12}}}},cutout:"60%"}})})("modeSplit",c)},[c]);return m?(0,Fe.jsx)("div",{className:"analytics-dashboard",children:(0,Fe.jsxs)("div",{className:"loading-container",children:[(0,Fe.jsx)("div",{className:"loading-spinner"}),(0,Fe.jsx)("p",{children:"Loading analytics data..."})]})}):(0,Fe.jsxs)("div",{className:"analytics-dashboard",children:[(0,Fe.jsxs)("div",{className:"analytics-dashboard-header",children:[(0,Fe.jsxs)("div",{className:"analytics-header-left",children:[(0,Fe.jsx)("img",{src:Re,alt:"DATE Logo",className:"analytics-header-logo"}),(0,Fe.jsxs)("div",{className:"analytics-header-text",children:[(0,Fe.jsx)("h1",{className:"analytics-dashboard-title",children:"Analytical Dashboard"}),(0,Fe.jsx)("p",{className:"analytics-dashboard-subtitle",children:"Digital Agriculture Technology Enhancement"})]})]}),(0,Fe.jsxs)("div",{className:"analytics-header-right",children:[(0,Fe.jsxs)("div",{className:"analytics-last-updated",children:[(0,Fe.jsx)("span",{className:"analytics-update-icon",children:"\ud83d\udd52"}),(0,Fe.jsxs)("span",{children:["Last updated: ",(e=>e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}))(f)]})]}),(0,Fe.jsxs)("button",{className:"analytics-refresh-btn",onClick:v,children:[(0,Fe.jsx)("span",{className:"analytics-refresh-icon",children:"\ud83d\udd04"}),"Refresh"]}),(0,Fe.jsxs)("button",{className:"analytics-back-btn",onClick:()=>n(-1),children:[(0,Fe.jsx)("span",{className:"analytics-back-icon",children:"\u2190"}),"Back"]})]})]}),u&&(0,Fe.jsxs)("div",{className:"error-banner",children:[(0,Fe.jsx)("span",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,Fe.jsx)("span",{children:u})]}),(0,Fe.jsxs)("div",{className:"dashboard-content",children:[(0,Fe.jsxs)("section",{className:"metrics-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h2",{className:"section-title",children:"Key Performance Indicators"}),(0,Fe.jsx)("p",{className:"section-description",children:"Real-time insights into farmer enrollment and approval metrics"})]}),(0,Fe.jsxs)("div",{className:"metrics-grid",children:[(0,Fe.jsx)(qh,{label:"Total Beneficiaries",value:(null===i||void 0===i?void 0:i.totalFarmers)||0,icon:"\ud83d\udc65",theme:"primary",trend:{type:"positive",value:"+12%",icon:"\ud83d\udcc8"}}),(0,Fe.jsx)(qh,{label:"Total Enrollments",value:(null===i||void 0===i?void 0:i.totalFarmers)||0,icon:"\ud83d\udcdd",theme:"success",trend:{type:"positive",value:"+8%",icon:"\ud83d\udcc8"}}),(0,Fe.jsx)(qh,{label:"Enrollment %",value:i?"".concat(Math.round((i.approvedFarmers||0)/(i.totalFarmers||1)*100),"%"):"0%",icon:"\ud83d\udcca",theme:"warning",trend:{type:"neutral",value:"0%",icon:"\u27a1\ufe0f"}}),(0,Fe.jsx)(qh,{label:"Approved IDs",value:(null!==(s=null===i||void 0===i?void 0:i.kycApprovedFarmers)&&void 0!==s?s:null===i||void 0===i?void 0:i.approvedFarmers)||0,icon:"\u2705",theme:"info",trend:{type:"positive",value:"+15%",icon:"\ud83d\udcc8"}}),(0,Fe.jsx)(qh,{label:"Pending Approvals",value:(null===i||void 0===i?void 0:i.pendingFarmers)||0,icon:"\u23f3",theme:"danger",trend:{type:"negative",value:"-5%",icon:"\ud83d\udcc9"}})]})]}),(0,Fe.jsxs)("section",{className:"charts-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h2",{className:"section-title",children:"Farmer Enrollment Analytics"}),(0,Fe.jsx)("p",{className:"section-description",children:"District-wise approval rates and enrollment distribution"})]}),(0,Fe.jsxs)("div",{className:"charts-grid",children:[(0,Fe.jsx)(Wh,{title:"Top 5 Districts - Approval Rate",subtitle:"Highest performing districts",theme:"success",children:(0,Fe.jsx)("canvas",{id:"top5",className:"chart-canvas"})}),(0,Fe.jsx)(Wh,{title:"Bottom 5 Districts - Approval Rate",subtitle:"Districts needing attention",theme:"warning",children:(0,Fe.jsx)("canvas",{id:"bottom5",className:"chart-canvas"})}),(0,Fe.jsx)(Wh,{title:"Enrollment Mode Distribution",subtitle:"Assigned vs Unassigned farmers",theme:"info",children:(0,Fe.jsx)("canvas",{id:"modeSplit",className:"chart-canvas"})})]})]}),(0,Fe.jsxs)("section",{className:"insights-section",children:[(0,Fe.jsxs)("div",{className:"section-header",children:[(0,Fe.jsx)("h2",{className:"section-title",children:"Quick Insights"}),(0,Fe.jsx)("p",{className:"section-description",children:"Key observations and recommendations"})]}),(0,Fe.jsxs)("div",{className:"insights-grid",children:[(0,Fe.jsxs)("div",{className:"insight-card positive",children:[(0,Fe.jsx)("div",{className:"insight-icon",children:"\ud83c\udfaf"}),(0,Fe.jsxs)("div",{className:"insight-content",children:[(0,Fe.jsx)("h3",{children:"High Performance"}),(0,Fe.jsx)("p",{children:"Top districts show excellent approval rates above 80%"})]})]}),(0,Fe.jsxs)("div",{className:"insight-card warning",children:[(0,Fe.jsx)("div",{className:"insight-icon",children:"\u26a0\ufe0f"}),(0,Fe.jsxs)("div",{className:"insight-content",children:[(0,Fe.jsx)("h3",{children:"Attention Needed"}),(0,Fe.jsx)("p",{children:"Bottom districts require immediate intervention"})]})]}),(0,Fe.jsxs)("div",{className:"insight-card info",children:[(0,Fe.jsx)("div",{className:"insight-icon",children:"\ud83d\udcc8"}),(0,Fe.jsxs)("div",{className:"insight-content",children:[(0,Fe.jsx)("h3",{children:"Growth Trend"}),(0,Fe.jsx)("p",{children:"Overall enrollment shows positive growth pattern"})]})]}),(0,Fe.jsxs)("div",{className:"insight-card success",children:[(0,Fe.jsx)("div",{className:"insight-icon",children:"\u2705"}),(0,Fe.jsxs)("div",{className:"insight-content",children:[(0,Fe.jsx)("h3",{children:"System Health"}),(0,Fe.jsx)("p",{children:"Data refresh working correctly every 5 minutes"})]})]})]})]})]})]})},Kh=()=>{const[e,s]=(0,t.useState)(null),[a,n]=(0,t.useState)(!0),[i,r]=(0,t.useState)(!1),[l,o]=(0,t.useState)("");(0,t.useEffect)(()=>{c()},[]);const c=async()=>{try{n(!0);try{const e=await Oe.apiService.getProfile();s(e)}catch(e){const t=localStorage.getItem("user");t?s(JSON.parse(t)):o("Unable to load user profile")}}catch(e){console.error("Error loading user profile:",e),o("Error loading user profile")}finally{n(!1)}};return a?(0,Fe.jsx)("div",{className:"my-id-card",children:(0,Fe.jsx)("div",{className:"loading",children:"Loading ID card..."})}):e?(0,Fe.jsxs)("div",{className:"my-id-card",children:[(0,Fe.jsxs)("div",{className:"id-card-header",children:[(0,Fe.jsx)("h2",{children:"My ID Card"}),(0,Fe.jsx)("p",{children:"Manage your ID card and profile photo"})]}),l&&(0,Fe.jsx)("div",{className:"message ".concat(l.includes("Error")?"error":"success"),children:l}),(0,Fe.jsxs)("div",{className:"id-card-content",children:[(0,Fe.jsxs)("div",{className:"id-card-preview",children:[(0,Fe.jsx)("h3",{children:"ID Card Preview"}),(0,Fe.jsx)("div",{className:"preview-container",children:(0,Fe.jsx)("iframe",{src:"/api/users/".concat(e.id,"/idcard?t=").concat(Date.now()),title:"ID Card Preview",className:"id-card-iframe"})})]}),(0,Fe.jsxs)("div",{className:"id-card-actions",children:[(0,Fe.jsx)("h3",{children:"Actions"}),(0,Fe.jsxs)("div",{className:"action-group",children:[(0,Fe.jsx)("label",{htmlFor:"photo-upload",className:"upload-label",children:"Upload Photo"}),(0,Fe.jsx)("input",{id:"photo-upload",type:"file",accept:"image/*",onChange:async t=>{const s=t.target.files[0];if(s)if(null!==e&&void 0!==e&&e.id)try{r(!0),o("");await Oe.apiService.uploadIdPhoto(e.id,s);o("Photo uploaded successfully!"),await c()}catch(n){var a;console.error("Error uploading photo:",n),o("Error uploading photo: "+((null===(a=n.response)||void 0===a?void 0:a.data)||n.message))}finally{r(!1)}else o("User ID not available")},disabled:i,className:"file-input"}),i&&(0,Fe.jsx)("div",{className:"uploading",children:"Uploading..."})]}),(0,Fe.jsx)("div",{className:"action-group",children:(0,Fe.jsx)("button",{onClick:async()=>{if(null!==e&&void 0!==e&&e.id)try{o("");const t=await Oe.apiService.getIdCardPdf(e.id),s=new Blob([t],{type:"application/pdf"}),a=window.URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download="id-card-".concat(e.uniqueId||e.id,".pdf"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(a)}catch(s){var t;console.error("Error downloading ID card:",s),o("Error downloading ID card: "+((null===(t=s.response)||void 0===t?void 0:t.data)||s.message))}else o("User ID not available")},className:"download-btn",children:"Download ID Card (PDF)"})}),(0,Fe.jsxs)("div",{className:"user-info",children:[(0,Fe.jsx)("h4",{children:"User Information"}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Name:"})," ",e.name]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Role:"})," ",e.role]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Unique ID:"})," ",e.uniqueId||"Not generated yet"]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"State:"})," ",e.state||"N/A"]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"District:"})," ",e.district||"N/A"]})]})]})]})]}):(0,Fe.jsx)("div",{className:"my-id-card",children:(0,Fe.jsx)("div",{className:"error",children:"Unable to load user information"})})};const $h=function(){return(0,Fe.jsx)(Te,{children:(0,Fe.jsx)(ke,{children:(0,Fe.jsx)("div",{className:"App",children:(0,Fe.jsxs)(be,{children:[(0,Fe.jsx)(ve,{path:"/login",element:(0,Fe.jsx)(Le,{})}),(0,Fe.jsx)(ve,{path:"/forgot-password",element:(0,Fe.jsx)(Qn,{})}),(0,Fe.jsx)(ve,{path:"/forgot-userid",element:(0,Fe.jsx)(ei,{})}),(0,Fe.jsx)(ve,{path:"/otp-verification",element:(0,Fe.jsx)(ai,{})}),(0,Fe.jsx)(ve,{path:"/change-password",element:(0,Fe.jsx)(ti,{})}),(0,Fe.jsx)(ve,{path:"/change-userid",element:(0,Fe.jsx)(si,{})}),(0,Fe.jsx)(ve,{path:"/",element:(0,Fe.jsx)(ge,{to:"/login",replace:!0})}),(0,Fe.jsx)(ve,{path:"/farmer/registration",element:(0,Fe.jsx)(wa,{})}),(0,Fe.jsx)(ve,{path:"/employee/registration",element:(0,Fe.jsx)(Sa,{})}),(0,Fe.jsx)(ve,{path:"/register-employee",element:(0,Fe.jsx)(Gn,{})}),(0,Fe.jsx)(ve,{path:"/register-farmer",element:(0,Fe.jsx)(Gn,{})}),(0,Fe.jsx)(ve,{path:"/register-fpo",element:(0,Fe.jsx)(Gn,{})}),(0,Fe.jsx)(ve,{path:"/admin/dashboard",element:(0,Fe.jsx)(ni,{allowedRoles:["ADMIN"],children:(0,Fe.jsx)(ta,{})})}),(0,Fe.jsx)(ve,{path:"/superadmin/dashboard",element:(0,Fe.jsx)(ni,{allowedRoles:["SUPER_ADMIN"],children:(0,Fe.jsx)(pa,{})})}),(0,Fe.jsx)(ve,{path:"/super-admin/dashboard",element:(0,Fe.jsx)(ni,{allowedRoles:["SUPER_ADMIN"],children:(0,Fe.jsx)(pa,{})})}),(0,Fe.jsx)(ve,{path:"/employee/dashboard",element:(0,Fe.jsx)(ni,{allowedRoles:["EMPLOYEE"],children:(0,Fe.jsx)(va,{})})}),(0,Fe.jsx)(ve,{path:"/fpo-employee/dashboard",element:(0,Fe.jsx)(ni,{allowedRoles:["EMPLOYEE"],children:(0,Fe.jsx)(Na,{})})}),(0,Fe.jsx)(ve,{path:"/dashboard",element:(0,Fe.jsx)(ni,{allowedRoles:["FARMER"],children:(0,Fe.jsx)(xa,{})})}),(0,Fe.jsx)(ve,{path:"/fpo/dashboard/:fpoId",element:(0,Fe.jsx)(ni,{allowedRoles:["FPO"],children:(0,Fe.jsx)(ea,{})})}),(0,Fe.jsx)(ve,{path:"/fpo/dashboard",element:(0,Fe.jsx)(ni,{allowedRoles:["FPO"],children:(0,Fe.jsx)(ea,{})})}),(0,Fe.jsx)(ve,{path:"/fpo-admin/dashboard/:fpoId",element:(0,Fe.jsx)(ni,{allowedRoles:["FPO"],children:(0,Fe.jsx)(ba,{})})}),(0,Fe.jsx)(ve,{path:"/fpo-admin/:fpoId/employees",element:(0,Fe.jsx)(ni,{allowedRoles:["FPO"],children:(0,Fe.jsx)(ya,{})})}),(0,Fe.jsx)(ve,{path:"/fpo-admin/:fpoId/farmers",element:(0,Fe.jsx)(ni,{allowedRoles:["FPO"],children:(0,Fe.jsx)(ja,{})})}),(0,Fe.jsx)(ve,{path:"/analytics",element:(0,Fe.jsx)(Hh,{})}),(0,Fe.jsx)(ve,{path:"/my-id-card",element:(0,Fe.jsx)(ni,{allowedRoles:["FARMER","EMPLOYEE","ADMIN","SUPER_ADMIN"],children:(0,Fe.jsx)(Kh,{})})}),(0,Fe.jsx)(ve,{path:"*",element:(0,Fe.jsx)(ge,{to:"/",replace:!0})})]})})})})},Gh=(0,t.createContext)(),Jh=e=>{let{children:s}=e;const[a,n]=(0,t.useState)(()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null}),[i,r]=(0,t.useState)(()=>localStorage.getItem("token")||null);(0,t.useEffect)(()=>{a?localStorage.setItem("user",JSON.stringify(a)):localStorage.removeItem("user"),i?localStorage.setItem("token",i):localStorage.removeItem("token")},[a,i]);return(0,Fe.jsx)(Gh.Provider,{value:{user:a,token:i,login:(e,t)=>{n(e),r(t)},logout:()=>{n(null),r(null),localStorage.removeItem("user"),localStorage.removeItem("token")}},children:s})};n.createRoot(document.getElementById("root")).render((0,Fe.jsx)(t.StrictMode,{children:(0,Fe.jsx)(Jh,{children:(0,Fe.jsx)($h,{})})}))})()})();
//# sourceMappingURL=main.8587d627.js.map